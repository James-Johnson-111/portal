(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[17],{126:function(e,n){},127:function(e,n){},129:function(e,n){},130:function(e,n){},132:function(e,n){},133:function(e,n){},134:function(e,n){},135:function(e,n){},136:function(e,n){},137:function(e,n){},138:function(e,n){},139:function(e,n){},140:function(e,n){},141:function(e,n){},598:function(e,n,t){},599:function(e,n,t){},774:function(e,n,t){"use strict";t.r(n);var i=t(8),c=t(1),s=(t(598),t(23)),a=t.n(s),o=t(17),l=t(25),r=t(160),d=(t(599),t(10)),m=t(3),j=t(94),u=t(0);var f=function(e){var n=Object(m.g)(),t=Object(c.useState)([]),s=Object(i.a)(t,2),a=s[0],l=s[1];Object(c.useEffect)((function(){"granted"!==Notification.permission?Notification.requestPermission().then((function(e){"granted"===e&&f()})):f(),j.a.on("NotifyTheUser",(function(n){e.Data.emp_id===parseInt(n)&&f()}))}),[]);var r=function(){var e=window.navigator.userAgent,n=window.navigator.platform,t=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(n)?t="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(n)?t="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(n)?t="Windows":/Android/.test(e)?t="Android":!t&&/Linux/.test(n)&&(t="Linux"),t},f=function(){var e=new FormData;e.append("EmpID",sessionStorage.getItem("EmpID")),d.a.post("/getnotifications",e).then((function(n){l(n.data.reverse());for(var t=!1,i=null,c=null,s=0;s<n.data.length;s++)null===n.data[s].notified&&(t=!0,i=n.data[s].notification_title,c=n.data[s].notification_body);t?d.a.post("/notified",e).then((function(e){"iOS"!==r()&&"Android"!==r()&&b(e.data.length,i,c)})).catch((function(e){console.log(e)})):document.title="Employee Portal"})).catch((function(e){console.log(e)}))},b=function(e,n,t){document.title="Employee Portal Has ("+e+") Notifications",new Notification("Employee Portal",{icon:"https://images-na.ssl-images-amazon.com/images/I/31Ytep50ATL.jpg",body:t}).onclick=function(){window.open("https://192.168.10.14/")}},p=function(e){1===e&&n.replace("/chat")};return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"px-3 notification",onMouseLeave:function(){var e=new FormData;e.append("EmpID",sessionStorage.getItem("EmpID")),d.a.post("/seennotifications",e).then((function(){f()})).catch((function(e){console.log(e)}))},children:[a.length>0?Object(u.jsx)("div",{className:"notification_number"}):null,Object(u.jsx)("i",{className:"las la-bell"}),Object(u.jsxs)("div",{className:"Notifications_Box",children:[Object(u.jsx)("div",{className:"Notifications_list",children:a.map((function(e,n){return Object(u.jsxs)(o.b,{to:e.link,className:"list",children:[Object(u.jsxs)("p",{className:"font-weight-bold mb-0",onClick:function(){return p(e.event_id)},children:[" ",e.notification_title," "]}),Object(u.jsx)("p",{className:"mb-0 text-secondary",onClick:function(){return p(e.event_id)},children:e.notification_body}),Object(u.jsxs)("div",{className:"d-flex justify-content-between font-weight-bold",children:[Object(u.jsx)("p",{className:"mb-0",onClick:function(){return p(e.event_id)},children:e.notification_date.toString().substring(0,10)}),Object(u.jsx)("p",{className:"mb-0",onClick:function(){return p(e.event_id)},children:e.notification_time})]}),Object(u.jsx)("div",{className:"cross",onClick:function(){return function(e){var n=new FormData;n.append("EmpID",sessionStorage.getItem("EmpID")),n.append("NotificationID",e),d.a.post("/removenotifications",n).then((function(e){f()})).catch((function(e){console.log(e)}))}(e.notification_id)},children:Object(u.jsx)("i",{className:"las la-times"})})]},n)}))}),Object(u.jsx)("div",{className:"Notifications_Clear",children:Object(u.jsx)("button",{className:"btn",onClick:function(){var e=new FormData;e.append("EmpID",sessionStorage.getItem("EmpID")),d.a.post("/removeallnotifications",e).then((function(e){f()})).catch((function(e){console.log(e)}))},children:"Clear All"})})]})]})})};n.default=function(){var e=Object(c.useState)(!1),n=Object(i.a)(e,2),s=n[0],d=n[1],m=Object(l.c)((function(e){return e.EmpAuth.EmployeeData})),j=Object(l.b)(),b=t(101)("real secret keys should be long and random");Object(c.useEffect)((function(){a()(".search_dropdown").slideUp(0),a()(".emp_dropdown").slideUp(0),a()(".search i").on("click",(function(){a()(".search_dropdown").toggle(300)})),a()(".emp_img").on("click",(function(){a()(".emp_dropdown").toggle(300)})),a()(".emp_dropdown").on("click",(function(){a()(".emp_dropdown").toggle(300)}))}),[]);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"Dashboard_topbar d-center",children:[Object(u.jsx)("div",{className:"topbar_news d-450-none",children:Object(u.jsx)("p",{className:"mb-0",style:{whiteSpace:"nowrap"},children:Object(u.jsx)("marquee",{direction:"left",children:"Tesla is quickly responding to the NHTSA's investigation of in-dash gaming while cars are moving. The Guardian has learned Tesla will deliver an update disabling on-the-move Passenger Play. A spokeswoman for the regulator said Tesla promised the change after"})})}),Object(u.jsx)("div",{className:" d-450-block"}),Object(u.jsxs)("div",{className:"icons d-center",children:[Object(u.jsx)(f,{Data:m}),Object(u.jsxs)("div",{className:"px-3 emp_img_container",children:[Object(u.jsx)("div",{className:"emp_img",style:{backgroundImage:"url('images/employees/"+m.emp_image+"')"}}),Object(u.jsxs)("div",{className:"emp_dropdown",children:[Object(u.jsxs)("p",{className:"pl-4 pb-2 mb-1 font-weight-bold border-bottom",children:[" ",b.decrypt(m.login_id)," "]}),Object(u.jsxs)(o.c,{to:"/empprofile",className:"d-center links",children:[Object(u.jsx)("div",{className:"pr-3",children:Object(u.jsx)("i",{className:"las la-user"})}),Object(u.jsx)("div",{className:"links_txt",children:"Profile"})]}),Object(u.jsxs)(o.c,{to:"/",className:"d-center links",children:[Object(u.jsx)("div",{className:"pr-3",children:Object(u.jsx)("i",{className:"las la-tasks"})}),Object(u.jsx)("div",{className:"links_txt",children:"Settings"})]}),Object(u.jsxs)(o.c,{to:"/logout",className:"d-center links",children:[Object(u.jsx)("div",{className:"pr-3",children:Object(u.jsx)("i",{className:"las la-sign-out-alt"})}),Object(u.jsx)("div",{className:"links_txt",children:"Logout"})]})]})]}),Object(u.jsx)("div",{className:"threeDots d-1200-block",onClick:function(){s?(d(!1),j(Object(r.b)(!1))):(d(!0),j(Object(r.b)(!0)))},children:Object(u.jsx)("button",{className:"btn p-0 m-0",children:Object(u.jsx)("i",{className:"las la-ellipsis-v la-2x"})})})]})]})})}}}]);
//# sourceMappingURL=17.7986f099.chunk.js.map