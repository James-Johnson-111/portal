(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[54],{769:function(e,t,a){"use strict";a.r(t);var n=a(11),c=a(8),i=a(1),s=a(10),r=a(25),o=a(607),l=(a.p,a.p,a.p,new o.a({orientation:"portrait",unit:"px",format:"a4"}),a(23)),d=a.n(l),u=a(85),p=a(0),f=Object(i.lazy)((function(){return a.e(18).then(a.bind(null,804))}));t.default=function(){var e=Object(i.useState)([]),t=Object(c.a)(e,2),a=t[0],o=t[1],l=Object(i.useState)([]),h=Object(c.a)(l,2),j=h[0],b=h[1],O=Object(i.useState)([]),m=Object(c.a)(O,2),v=m[0],_=m[1],x=Object(i.useState)({PO:{info:[],specifications:[],venders:[]},PR:{info:[],specifications:[]},quotations:[],bills:[],vouchers:[]}),g=Object(c.a)(x,2),S=g[0],k=g[1],M=Object(i.useState)([]),N=Object(c.a)(M,2),y=N[0],P=N[1],C=Object(i.useState)([]),D=Object(c.a)(C,2),w=D[0],R=D[1],E=Object(r.c)((function(e){return e.EmpAuth.EmployeeData}));Object(i.useEffect)((function(){q()}),[]);var q=function(){var e={id:E.emp_id,access:E.access};s.a.post("/getallpurchaseorders",{payload:JSON.stringify(e)}).then((function(e){o(e.data)})).catch((function(e){console.log(e)}))};return Object(p.jsxs)(i.Suspense,{children:[Object(p.jsx)(u.a,{data:j}),Object(p.jsx)(f,{PurchaseOrders:a,EmpPurchaseOrders:w,PurchaseOrder:S,Vouchers:y,Data:E,OpenEmployeeDetails:function(e){var t=a[e].emp_id,n=E.emp_id;s.a.post("/getallpurchaseordersofemployee",{emp_id:t,current_emp:n}).then((function(e){R(e.data),b([{icon:"las la-search",txt:"Back To Employees",link:!1,func:function(){return R([]),b([]),_([]),P([]),void k({PO:{info:[],specifications:[],venders:[]},PR:{info:[],specifications:[]},quotations:[],bills:[],vouchers:[]})}}])})).catch((function(e){console.log(e)}))},OpenDetails:function(e){var t=w[e].po_id,a=w[e].pr_id;s.a.post("/getpurchaseorderdetails",{po_id:t,pr_id:a}).then((function(e){k(Object(n.a)(Object(n.a)({},S),{},{PO:{info:e.data[0],specifications:e.data[1],venders:e.data[3]},PR:{info:e.data[4],specifications:e.data[5]},bills:e.data[2],quotations:e.data[6],vouchers:e.data[7]}))})).catch((function(e){console.log(e)}))},AttachVouchers:function(e){var t=new FileReader,a=e.target.files;t.onload=function(){if(2===t.readyState){for(var e=[],n=0;n<a.length;n++)e.push({name:a[n].name,file:a[n]});P(e)}},a[0]&&t.readAsDataURL(a[0])},RemoveVoucher:function(e){var t=y.filter((function(t,a){return a!==e}));P(t)},ApproveRequest:function(e,t){t.preventDefault();var a=new Date,n=new FormData;n.append("payload",JSON.stringify([{po_id:e,emp_id:E.emp_id,remarks:t.target.remarks.value,date:a.toString()}])),y.forEach((function(e){n.append("vouchers",e.file)})),s.a.post("/approvepurchaseorder",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){"success"===e.data&&(P([]),k({PO:{info:[],specifications:[],venders:[]},PR:{info:[],specifications:[]},quotations:[],bills:[],vouchers:[]}))})).catch((function(e){console.log(e)}))},DiscardRequest:function(e,t){t.preventDefault();var a=new Date,n=new FormData;n.append("payload",JSON.stringify([{po_id:e,emp_id:E.emp_id,remarks:t.target.remarks.value,date:a.toString()}])),s.a.post("/discardpurchaseorder",n).then((function(e){"success"===e.data&&(P([]),k({PO:{info:[],specifications:[],venders:[]},PR:{info:[],specifications:[]},quotations:[],bills:[],vouchers:[]}))})).catch((function(e){console.log(e)}))},onChangeHandler:function(e){var t=e.target,a=t.name,n=t.checked;if("checkall"===a)n?(d()(".printCheckboxes").prop("checked",!0),_(["pr","po","quotation","bill","voucher"])):(d()(".printCheckboxes").prop("checked",!1),_([]));else if(n){var c=v;c.push(a),_(c)}else{var i=v.filter((function(e){return e!==a}));_(i)}},Print:function(){for(var e=0;e<v.length;e++){document.getElementById(v[e]).contentWindow.print()}}})]})}},85:function(e,t,a){"use strict";var n=a(1),c=(a(86),a(23)),i=a.n(c),s=a(17),r=a(0);t.a=function(e){Object(n.useEffect)((function(){i()(".Speeddail_Grid").slideToggle(0)}),[]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"Menu",children:e.data.length>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"Menu_Grid",children:e.data.map((function(e,t){return Object(r.jsx)(r.Fragment,{children:e.txt?e.link?Object(r.jsx)(s.b,{to:e.href,children:Object(r.jsx)("button",{children:Object(r.jsx)("p",{className:"font-weight-bolder mb-0",children:e.txt})})}):Object(r.jsx)("button",{onClick:function(){return e.func()},children:Object(r.jsx)("p",{className:"font-weight-bolder mb-0",children:e.txt})}):null})}))}),Object(r.jsxs)("div",{className:"Menu_Speeddail",children:[Object(r.jsx)("div",{className:"Menu_Speeddail_circle",onClick:function(){i()(".Menu_Speeddail .Speeddail_Grid").slideToggle(200),i()(".Menu_Speeddail .Menu_Speeddail_circle .las").hasClass("la-bars")?(i()(".Menu_Speeddail .Menu_Speeddail_circle .las").removeClass("la-bars"),i()(".Menu_Speeddail .Menu_Speeddail_circle .las").addClass("la-times")):(i()(".Menu_Speeddail .Menu_Speeddail_circle .las").removeClass("la-times"),i()(".Menu_Speeddail .Menu_Speeddail_circle .las").addClass("la-bars"))},children:Object(r.jsx)("i",{class:"las la-times"})}),Object(r.jsx)("div",{className:"Speeddail_Grid",children:e.data.map((function(e,t){return Object(r.jsx)(r.Fragment,{children:e.txt?e.link?Object(r.jsx)(s.b,{to:e.href,children:Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"mb-1 Speeddail_Grid1 divs"+t,children:Object(r.jsx)("i",{className:e.icon})}),Object(r.jsx)("p",{children:e.txt})]},t)}):Object(r.jsxs)("div",{className:"clicks",onClick:function(){return e.func()},children:[Object(r.jsx)("div",{className:"mb-1 Speeddail_Grid1 divs"+t,children:Object(r.jsx)("i",{className:e.icon})}),Object(r.jsx)("p",{children:e.txt})]},t):null})}))})]})]}):null})})}},86:function(e,t,a){}}]);
//# sourceMappingURL=54.4ea73e23.chunk.js.map