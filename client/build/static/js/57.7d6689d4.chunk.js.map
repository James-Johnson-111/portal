{"version":3,"sources":["Components/EmployeeProtal/Dashboard/Pages/Inventory/InvtryAssets/InvtrySubAssets/InvtrySubAssets.jsx"],"names":["InvtrySubAssets","useState","SubAssets","setSubAssets","AssetCode","setAssetCode","SAstName","editSAstName","editID","SAstCode","editSAstCode","SubAsset","setSubAsset","useEffect","assetCode","window","location","href","split","pop","GetAllSubAssets","setInterval","code","Data","FormData","append","axios","post","then","res","data","catch","err","toast","dark","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","OnChangeHandler","e","target","name","value","setValues","className","onSubmit","preventDefault","autocomplete","type","placeholder","onChange","pattern","minLength","required","length","map","val","index","src","alt","sub_asset_name","sub_asset_code","onClick","id","indexx","category","filter","arr","$","trigger","OnEdit","sub_asset_id","title","OnDelete","role","updateSubAsset"],"mappings":"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","file":"static/js/57.7d6689d4.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './InvtrySubAssets.css';\r\n\r\nimport axios from '../../../../../../../axios';\r\nimport $ from 'jquery';\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst InvtrySubAssets = () => {\r\n\r\n    const [ SubAssets, setSubAssets ] = useState([]);\r\n    const [ AssetCode, setAssetCode ] = useState();\r\n    const [ SubAsset, setSubAsset ] = useState(\r\n        {\r\n            SAstName: '', editSAstName: '', editID: 0, SAstCode: '', editSAstCode: ''\r\n        }\r\n    );\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            let assetCode = window.location.href.split('/').pop();\r\n            setAssetCode( assetCode );\r\n\r\n            GetAllSubAssets( assetCode );\r\n            setInterval(() => {\r\n                GetAllSubAssets( assetCode );\r\n            }, 1000);\r\n\r\n    }, []);\r\n\r\n    const GetAllSubAssets = ( code ) => {\r\n\r\n        const Data = new FormData();\r\n        Data.append('AssetCode', code);\r\n        axios.post('/getallsubinvtryassets', Data).then(res => {\r\n\r\n            setSubAssets(res.data);\r\n\r\n        }).catch(err => {\r\n\r\n            toast.dark(err, {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });;\r\n\r\n        });\r\n    }\r\n\r\n    // Call on change function to store input field data into usestate()\r\n    const OnChangeHandler = ( e ) => {\r\n\r\n        const { name, value } = e.target;\r\n        const setValues = {\r\n            ...SubAsset,\r\n            [name]: value\r\n        }\r\n\r\n        setSubAsset(setValues);\r\n\r\n    }\r\n\r\n    const OnAddSubAsset = ( e ) => {\r\n        e.preventDefault();\r\n\r\n        const Data = new FormData();\r\n        Data.append('SubAssetName', SubAsset.SAstName);\r\n        Data.append('SubAssetCode', SubAsset.SAstCode);\r\n        Data.append('AssetCode', AssetCode);\r\n        axios.post('/addinvtrysubasset', Data).then( () => {\r\n\r\n            GetAllSubAssets( AssetCode );\r\n\r\n            setSubAsset(\r\n                {\r\n                    SAstName: '', editSAstName: '', editID: 0, SAstCode: '', editSAstCode: ''\r\n                }\r\n            )\r\n\r\n        } ).catch( err => {\r\n\r\n            toast.dark( err , {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });;\r\n\r\n        } );\r\n    }\r\n\r\n    const OnEdit = ( id, indexx ) => {\r\n\r\n        let category = SubAssets.filter(\r\n            (val, index, arr) => {\r\n                return index === indexx;\r\n            }\r\n        );\r\n\r\n        const setValues = {\r\n            ...SubAsset,\r\n            editSAstName: category[0].sub_asset_name,\r\n            editSAstCode: category[0].sub_asset_code,\r\n            editID: id\r\n        }\r\n\r\n        setSubAsset(setValues);\r\n\r\n        $('.editModalBtn').trigger('click');\r\n\r\n    }\r\n\r\n    const OnDelete = ( id ) => {\r\n\r\n        const Data = new FormData();\r\n        Data.append('EditCtgryID', id);\r\n        axios.post('/deleteinvtrysubasset', Data).then( () => {\r\n\r\n            toast.dark('Sub Asset Deleted', {\r\n                position: 'top-right',\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            });\r\n            GetAllSubAssets( AssetCode );\r\n\r\n            setSubAsset(\r\n                {\r\n                    SAstName: '', editSAstName: '', editID: 0, SAstCode: '', editSAstCode: ''\r\n                }\r\n            );\r\n\r\n        } ).catch( err => {\r\n\r\n            toast.dark( err , {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });;\r\n\r\n        } );\r\n        \r\n    }\r\n\r\n    const updateSubAsset = ( id ) => {\r\n\r\n        const Data = new FormData();\r\n        Data.append('EditAstName', SubAsset.editSAstName);\r\n        Data.append('EditAstCode', SubAsset.editSAstCode);\r\n        Data.append('EditAstID', id);\r\n        axios.post('/updateinvtrysubasset', Data).then( () => {\r\n\r\n            GetAllSubAssets( AssetCode );\r\n\r\n            setSubAsset(\r\n                {\r\n                    SAstName: '', editSAstName: '', editID: 0, SAstCode: '', editSAstCode: ''\r\n                }\r\n            );\r\n            toast.dark('Sub Asset Updated', {\r\n                position: 'top-right',\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            });\r\n\r\n        } ).catch( err => {\r\n\r\n            toast.dark( err , {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });;\r\n\r\n        } );\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer />\r\n            <div className=\"InvtrySubAssets_box\">\r\n                <div className=\"InvtrySubAssets_Header\">\r\n                    <div className=\"InvtrySubAssets_Details\">\r\n                        <h3 className=\"mb-4\"> Add New Sub Asset </h3>\r\n                        <form onSubmit={ OnAddSubAsset } autocomplete=\"off\">\r\n                            <input type=\"text\" value={ SubAsset.SAstName } placeholder=\"Sub Asset Name\" onChange={ OnChangeHandler } className=\"form-control\" name=\"SAstName\" pattern=\"[a-zA-Z][a-zA-Z\\s]*\" minLength=\"3\" required />\r\n                            <input type=\"text\" value={ SubAsset.SAstCode } placeholder=\"Sub Asset Code\" onChange={ OnChangeHandler } className=\"form-control\" name=\"SAstCode\" pattern=\"^[0-9]+$\" required />\r\n                            <button type=\"submit\" className=\"form-control btn btn-primary\">+ Add Sub Asset</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"InvtrySubAssets_Right\">\r\n                    <div className=\"InvtrySubAssets_Details\">\r\n                        <h3 className=\"mb-4\"> All Sub Assets </h3>\r\n                        <div className=\"lists\">\r\n                            {\r\n                                SubAssets.length === 0\r\n                                    ?\r\n                                    <h3 className=\"text-center mb-0\">No Sub Asset Found</h3>\r\n                                    :\r\n                                    SubAssets.map(\r\n                                        (val, index) => {\r\n                                            return (\r\n                                                <div className=\"one\" key={index}>\r\n                                                    <div className=\"d-flex\">\r\n                                                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                                                            <img src={'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcThLP6xJXBY_W2tT5waakogfnpHk4uhpVTy7A&usqp=CAU'} alt=\"Image\" />\r\n                                                        </div>\r\n                                                        <div className=\"d-flex align-items-center\">\r\n                                                            <div>\r\n                                                                <p className=\"mb-0 font-weight-bold\">Name</p>\r\n                                                                <p className=\"mb-0\">{ val.sub_asset_name }</p>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"d-flex align-items-center Text\">\r\n                                                        <div>\r\n                                                            <p className=\"mb-0 font-weight-bold\">Code</p>\r\n                                                            <p className=\"mb-0\">{ val.sub_asset_code }</p>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"ShowOnHover\">\r\n                                                        <i onClick={() => OnEdit(val.sub_asset_id, index)} title=\"Edit\" className=\"lar la-edit\"></i>\r\n                                                        <i onClick={() => OnDelete(val.sub_asset_id)} title=\"Delete\" className=\"las la-trash\"></i>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n                                    )\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <button type=\"button\" className=\"btn btn-primary d-none editModalBtn\" data-toggle=\"modal\" data-target=\"#AssetModal\">\r\n                    Launch demo modal\r\n                </button>\r\n                <div className=\"modal fade\" id=\"AssetModal\" role=\"dialog\" aria-labelledby=\"AssetModalLabel\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-body\">\r\n                                <input type=\"text\" value={SubAsset.editSAstName} className=\"form-control mb-3\" placeholder=\"Sub Asset Name\" name=\"editSAstName\" onChange={OnChangeHandler} required />\r\n                                <input type=\"text\" value={SubAsset.editSAstCode} className=\"form-control mb-3\" placeholder=\"Sub Asset Code\" name=\"editSAstCode\" onChange={OnChangeHandler} required />\r\n                                <button type='button' data-dismiss=\"modal\" className=\"btn btn-primary d-block ml-auto text-white\" onClick={() => updateSubAsset(SubAsset.editID)}>Update Asset</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default InvtrySubAssets;"],"sourceRoot":""}