{"version":3,"sources":["Components/EmployeeProtal/Dashboard/Pages/Inventory/InvtryLocation/InvtrySubLocations/InvtrySubLocations.jsx"],"names":["InvtrySubLocations","useState","SubLocations","setSubLocations","LocationCode","setLocationCode","SLctName","editSLctName","editID","SLctCode","editSLctCode","SubLocation","setSubLocation","useEffect","locationCode","window","location","href","split","pop","console","log","GetAllSubLocations","setInterval","id","Data","FormData","append","axios","post","then","res","data","catch","err","toast","dark","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","OnChangeHandler","e","target","name","value","setValues","className","onSubmit","preventDefault","autocomplete","type","placeholder","onChange","minLength","required","pattern","length","map","val","index","src","alt","sub_location_name","sub_location_code","onClick","indexx","category","filter","arr","$","trigger","OnEdit","title","OnDelete","role","updateSubLocation"],"mappings":"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","file":"static/js/65.4eefd04d.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './InvtrySubLocations.css';\r\n\r\nimport axios from '../../../../../../../axios';\r\nimport $ from 'jquery';\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst InvtrySubLocations = () => {\r\n\r\n    const [ SubLocations, setSubLocations ] = useState([]);\r\n    const [ LocationCode, setLocationCode ] = useState();\r\n    const [ SubLocation, setSubLocation ] = useState(\r\n        {\r\n            SLctName: '', editSLctName: '', editID: 0, SLctCode: '', editSLctCode: ''\r\n        }\r\n    );\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            let locationCode = window.location.href.split('/').pop();\r\n            console.log( locationCode );\r\n            setLocationCode( locationCode );\r\n\r\n            GetAllSubLocations( locationCode );\r\n            setInterval(() => {\r\n                GetAllSubLocations( locationCode );\r\n            }, 1000);\r\n\r\n    }, []);\r\n\r\n    const GetAllSubLocations = ( id ) => {\r\n\r\n        const Data = new FormData();\r\n        Data.append('AssetCode', id);\r\n        axios.post('/getallsublocations', Data).then(res => {\r\n\r\n            setSubLocations(res.data);\r\n\r\n        }).catch(err => {\r\n\r\n            toast.dark(err, {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });;\r\n\r\n        });\r\n    }\r\n\r\n    // Call on change function to store input field data into usestate()\r\n    const OnChangeHandler = ( e ) => {\r\n\r\n        const { name, value } = e.target;\r\n        const setValues = {\r\n            ...SubLocation,\r\n            [name]: value\r\n        }\r\n\r\n        setSubLocation(setValues);\r\n\r\n    }\r\n\r\n    const OnAddSubLocation = ( e ) => {\r\n        e.preventDefault();\r\n\r\n        const Data = new FormData();\r\n        Data.append('SubLocationName', SubLocation.SLctName);\r\n        Data.append('SubLocationCode', SubLocation.SLctCode);\r\n        Data.append('LocationCode', LocationCode);\r\n        axios.post('/addinvtrysublocation', Data).then( () => {\r\n\r\n            GetAllSubLocations( LocationCode );\r\n\r\n            setSubLocation(\r\n                {\r\n                    SLctName: '', editSLctName: '', editID: 0, SLctCode: '', editSLctCode: ''\r\n                }\r\n            )\r\n\r\n        } ).catch( err => {\r\n\r\n            toast.dark( err , {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });;\r\n\r\n        } );\r\n    }\r\n\r\n    const OnEdit = ( id, indexx ) => {\r\n\r\n        let category = SubLocations.filter(\r\n            (val, index, arr) => {\r\n                return index === indexx;\r\n            }\r\n        );\r\n\r\n        const setValues = {\r\n            ...SubLocation,\r\n            editSLctName: category[0].sub_location_name,\r\n            editSLctCode: category[0].sub_location_code,\r\n            editID: id\r\n        }\r\n\r\n        setSubLocation(setValues);\r\n\r\n        $('.editModalBtn').trigger('click');\r\n\r\n    }\r\n\r\n    const OnDelete = ( id ) => {\r\n\r\n        const Data = new FormData();\r\n        Data.append('EditCtgryID', id);\r\n        axios.post('/deleteinvtrysublocation', Data).then( () => {\r\n\r\n            toast.dark('Sub Location Deleted', {\r\n                position: 'top-right',\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            });\r\n            GetAllSubLocations( LocationCode );\r\n\r\n            setSubLocation(\r\n                {\r\n                    SLctName: '', editSLctName: '', editID: 0, SLctCode: '', editSLctCode: ''\r\n                }\r\n            );\r\n\r\n        } ).catch( err => {\r\n\r\n            toast.dark( err , {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });;\r\n\r\n        } );\r\n        \r\n    }\r\n\r\n    const updateSubLocation = ( id ) => {\r\n\r\n        const Data = new FormData();\r\n        Data.append('EditAstName', SubLocation.editSLctName);\r\n        Data.append('EditAstCode', SubLocation.editSLctCode);\r\n        Data.append('EditAstID', id);\r\n        axios.post('/updateinvtrysublocation', Data).then( () => {\r\n\r\n            GetAllSubLocations( LocationCode );\r\n\r\n            setSubLocation(\r\n                {\r\n                    SLctName: '', editSLctName: '', editID: 0, SLctCode: '', editSLctCode: ''\r\n                }\r\n            );\r\n            toast.dark('Sub Location Updated', {\r\n                position: 'top-right',\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            });\r\n\r\n        } ).catch( err => {\r\n\r\n            toast.dark( err , {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });;\r\n\r\n        } );\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer />\r\n            <div className=\"InvtrySubLocations_box\">\r\n                <div className=\"InvtrySubLocations_Header\">\r\n                    <div className=\"InvtrySubLocations_Details\">\r\n                        <h3 className=\"mb-4\"> Add New Sub Location </h3>\r\n                        <form onSubmit={ OnAddSubLocation } autocomplete=\"off\">\r\n                            <input type=\"text\" value={ SubLocation.SLctName } placeholder=\"Sub Location Name\" onChange={ OnChangeHandler } className=\"form-control\" name=\"SLctName\" minLength=\"2\" required />\r\n                            <input type=\"text\" value={ SubLocation.SLctCode } placeholder=\"Sub Location Code\" onChange={ OnChangeHandler } className=\"form-control\" name=\"SLctCode\" pattern=\"^[0-9]+$\" required />\r\n                            <button type=\"submit\" className=\"form-control btn btn-primary\">+ Add Sub Location</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"InvtrySubLocations_Right\">\r\n                    <div className=\"InvtrySubLocations_Details\">\r\n                        <h3 className=\"mb-4\"> All Sub Locations </h3>\r\n                        <div className=\"lists\">\r\n                            {\r\n                                SubLocations.length === 0\r\n                                    ?\r\n                                    <h3 className=\"text-center mb-0\">No Sub Location Found</h3>\r\n                                    :\r\n                                    SubLocations.map(\r\n                                        (val, index) => {\r\n                                            return (\r\n                                                <div className=\"one\" key={index}>\r\n                                                    <div className=\"d-flex\">\r\n                                                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                                                            <img src={'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcThLP6xJXBY_W2tT5waakogfnpHk4uhpVTy7A&usqp=CAU'} alt=\"Image\" />\r\n                                                        </div>\r\n                                                        <div className=\"d-flex align-items-center\">\r\n                                                            <div>\r\n                                                                <p className=\"mb-0 font-weight-bold\">Name</p>\r\n                                                                <p className=\"mb-0\">{ val.sub_location_name }</p>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"d-flex align-items-center Text\">\r\n                                                        <div>\r\n                                                            <p className=\"mb-0 font-weight-bold\">Code</p>\r\n                                                            <p className=\"mb-0\">{val.sub_location_code}</p>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"ShowOnHover\">\r\n                                                        <i onClick={() => OnEdit(val.sub_location_code, index)} title=\"Edit\" className=\"lar la-edit\"></i>\r\n                                                        <i onClick={() => OnDelete(val.sub_location_code)} title=\"Delete\" className=\"las la-trash\"></i>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n                                    )\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <button type=\"button\" className=\"btn btn-primary d-none editModalBtn\" data-toggle=\"modal\" data-target=\"#SubLocationModal\">\r\n                    Launch demo modal\r\n                </button>\r\n                <div className=\"modal fade\" id=\"SubLocationModal\" role=\"dialog\" aria-labelledby=\"SubLocationModalLabel\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-body\">\r\n                                <input type=\"text\" value={SubLocation.editSLctName} className=\"form-control mb-3\" placeholder=\"Sub Location Name\" name=\"editSLctName\" onChange={OnChangeHandler} pattern=\"[a-zA-Z][a-zA-Z\\s]*\" required />\r\n                                <input type=\"text\" value={SubLocation.editSLctCode} className=\"form-control mb-3\" placeholder=\"Sub Location Code\" name=\"editSLctCode\" onChange={OnChangeHandler} pattern=\"^[0-9]+$\" required />\r\n                                <button type='button' data-dismiss=\"modal\" className=\"btn btn-primary d-block ml-auto text-white\" onClick={() => updateSubLocation(SubLocation.editID)}>Update Sub Location</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default InvtrySubLocations;"],"sourceRoot":""}