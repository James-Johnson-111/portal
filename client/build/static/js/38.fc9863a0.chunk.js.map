{"version":3,"sources":["Components/EmployeeProtal/Dashboard/Pages/Inventory/ViewInvtryRequests/ViewInvtryRequests.jsx","Components/UI/Modal/Modal.jsx","Components/UI/Menu/Menu.jsx"],"names":["UI","lazy","ViewInvtryRequests","history","useHistory","useState","Requests","setRequests","EmployeeRequests","setEmployeeRequests","ModalContent","setModalContent","ModalShow","setModalShow","Data","setData","info","specifications","quotations","RequestDetails","setRequestDetails","EmpData","useSelector","state","EmpAuth","EmployeeData","useEffect","icon","txt","link","func","ShowSearchBar","url","window","location","href","emp","request","includes","split","pop","shift","setTimeout","ViewThatEmpRequests","parseInt","replace","OpenRequestDetails","getAllPR","val","emp_id","access","axios","post","myData","JSON","stringify","then","res","data","catch","err","console","log","empID","FormData","append","$","first","show","css","removeClass","ShowAllRequests","prID","result","result2","result3","status","Data2","request_for","sessionStorage","getItem","pr_id","hide","slideUp","slideDown","addClass","BackToSelectedEmployee","openClose","open","close","Approval","e","preventDefault","toast","dark","toString","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","SendRequestForDiscard","target","value","fallback","display","Hide","content","onApprove","className","onClick","onSubmit","required","name","placeholder","type","onDiscard","minLength","Modal","props","style","animationDelay","Menu","slideToggle","length","map","index","to","hasClass","class"],"mappings":"mNAqBMA,EAAKC,gBAAM,kBAAM,kCA8eRC,UA5eY,WAEvB,IAAMC,EAAUC,cAEhB,EAAkCC,mBAAS,IAA3C,mBAAQC,EAAR,KAAkBC,EAAlB,KACA,EAAkDF,mBAAS,IAA3D,mBAAQG,EAAR,KAA0BC,EAA1B,KACA,EAA0CJ,mBAAS,8BAAnD,mBAAQK,EAAR,KAAsBC,EAAtB,KACA,EAAoCN,oBAAS,GAA7C,mBAAQO,EAAR,KAAmBC,EAAnB,KACA,EAA0BR,mBAAS,IAAnC,mBAAQS,EAAR,KAAcC,EAAd,KACA,EAA8CV,mBAC1C,CACIW,KAAM,GACNC,eAAgB,GAChBC,WAAY,KAJpB,mBAAQC,EAAR,KAAwBC,EAAxB,KASMC,EAAUC,aAAa,SAAEC,GAAF,OAAaA,EAAMC,QAAQC,gBAExDC,qBACI,WAEIX,EACQ,CACI,CACIY,KAAM,gBACNC,IAAK,SACLC,MAAM,EACNC,KAAM,kBAAMC,QAK5B,IAAIC,EAAMC,OAAOC,SAASC,KACtBC,EAAM,GACNC,EAAU,GAETL,EAAIM,SAAS,eAAiBN,EAAIM,SAAS,cAE5CF,EAAMJ,EAAIO,MAAM,aAAaC,MAAMD,MAAM,MAAME,QAC/CC,YAAW,WACPC,EAAqBC,SAAUR,IAC/BjC,EAAQ0C,QAAQ,kCAAoCT,KACrD,KAGFJ,EAAIM,SAAS,eAEdD,EAAUL,EAAIO,MAAM,MAAMC,MAAMD,MAAM,KAAKC,MAC3CJ,EAAMJ,EAAIO,MAAM,aAAaC,MAAMD,MAAM,MAAME,QAC/CC,YAAW,WACPC,EAAqBC,SAAUR,IAC/BU,EAAoBF,SAAUP,IAC9BlC,EAAQ0C,QAAQ,kCAAoCT,EAAM,aAAeC,KAC1E,KAGPU,MAED,IAGP,IAYMA,EAAW,WAEb,IAAIC,EAAM,CACNC,OAAQ5B,EAAQ4B,OAChBC,OAAQ7B,EAAQ6B,QAIpBC,IAAMC,KAAK,YACX,CACIC,OAAQC,KAAKC,UAAUP,KACxBQ,MACC,SAACC,GAGGlD,EAAYkD,EAAIC,SAGtBC,OACE,SAACC,GAEGC,QAAQC,IAAIF,OAQlBjB,EAAsB,SAAEoB,GAE1B,IAAMjD,EAAO,IAAIkD,SACjBlD,EAAKmD,OAAO,QAASF,GACrBZ,IAAMC,KAAK,4BAA6BtC,GAAM0C,MAC1C,SAACC,GAEGhD,EAAqBgD,EAAIC,MACzBQ,IAAE,4BAA4BC,QAAQC,KAAK,GAC3CF,IAAE,sCAAsCC,QAAQC,KAAK,GACrDF,IAAE,yBAAyBG,IAAI,QAAS,QACxCH,IAAE,6BAA6BI,YAAY,UAC3CvD,EAAQ,CACJ,CACIY,KAAM,gBACNC,IAAK,SACLC,MAAM,EACNC,KAAM,kBAAMC,MAEhB,CACIJ,KAAM,cACNC,IAAK,eACLC,MAAM,EACNC,KAAM,kBAAMyC,WAK1BZ,OACE,SAACC,GAEGC,QAAQC,IAAIF,OAQlBd,EAAqB,SAAE0B,GAEzB,IAAM1D,EAAO,IAAIkD,SACjBlD,EAAKmD,OAAO,OAAQO,GACpBrB,IAAMC,KAAK,6BAA8BtC,GAAM0C,MAC3C,SAACiB,GAEGtB,IAAMC,KAAK,4BAA6BtC,GAAM0C,MAE1C,SAACkB,GAGGvB,IAAMC,KAAK,wBAAyBtC,GAAM0C,MAEtC,SAACmB,GAIG,GAA8B,SAA1BF,EAAOf,KAAK,GAAGkB,OAAmB,CAClC,IAAMC,EAAQ,IAAIb,SAClBa,EAAMZ,OAAO,UAAW,GACxBY,EAAMZ,OAAO,aAAcQ,EAAOf,KAAK,GAAGoB,aAC1CD,EAAMZ,OAAO,WAAYc,eAAeC,QAAQ,UAChDH,EAAMZ,OAAO,QAASc,eAAeC,QAAQ,SAC7CH,EAAMZ,OAAO,mBAAoBc,eAAeC,QAAQ,QAAU,6CAA+CP,EAAOf,KAAK,GAAGuB,OAChI9B,IAAMC,KAAK,mBAAoByB,GAAOrB,MAAK,WAEvCL,IAAMC,KAAK,YAAayB,GAAOrB,MAAK,kBAM5C,IAAMqB,EAAQ,IAAIb,SAClBa,EAAMZ,OAAO,OAAQO,GACrBK,EAAMZ,OAAO,QAAS5C,EAAQ4B,QAC9BE,IAAMC,KAAK,iBAAkByB,GAAOrB,MAChC,SAACC,GAEoB,YAAbA,EAAIC,OAEJtC,EACI,CACIJ,KAAMyD,EAAOf,KACbzC,eAAgByD,EAAQhB,KACxBxC,WAAYyD,EAAQjB,OAI5BQ,IAAE,4BAA4BC,QAAQe,KAAK,GAC3ChB,IAAE,sCAAsCC,QAAQe,KAAK,GACrDhB,IAAE,aAAaiB,QAAQ,KACvBjB,IAAE,gBAAgBkB,UAAU,KACE,WAA1BX,EAAOf,KAAK,GAAGkB,QAAiD,SAA1BH,EAAOf,KAAK,GAAGkB,QACrDV,IAAE,6BAA6BmB,SAAS,UAE5CtE,EAAQ,CACJ,CACIY,KAAM,6BACNC,IAAK,OACLC,MAAM,EACNC,KAAM,kBAAMwD,MAEhB,CACI3D,KAAM,gBACNC,IAAK,SACLC,MAAM,EACNC,KAAM,kBAAMC,MAEhB,CACIJ,KAAM,cACNC,IAAK,eACLC,MAAM,EACNC,KAAM,kBAAMyC,YAO9BZ,OACE,SAACC,GAEGC,QAAQC,IAAIF,SAO1BD,OAEE,SAACC,GAEGC,QAAQC,IAAIF,SAQ1BD,OAEE,SAACC,GAEGC,QAAQC,IAAIF,SAMrBD,OAAM,SAAAC,GAELC,QAAQC,IAAIF,OAOlB7B,EAAgB,aAKhBwC,EAAkB,WACpB9D,EAAoB,IACpBW,EACI,CACIJ,KAAM,GACNC,eAAgB,GAChBC,WAAY,KAGpBgD,IAAE,yBAAyBG,IAAI,QAAS,OACxCtD,EAAQ,CACJ,CACIY,KAAM,gBACNC,IAAK,SACLC,MAAM,EACNC,KAAM,kBAAMC,SAMlBuD,EAAyB,WAC3BlE,EACI,CACIJ,KAAM,GACNC,eAAgB,GAChBC,WAAY,KAIpBH,EAAQ,CACJ,CACIY,KAAM,gBACNC,IAAK,SACLC,MAAM,EACNC,KAAM,kBAAMC,MAEhB,CACIJ,KAAM,cACNC,IAAK,eACLC,MAAM,EACNC,KAAM,kBAAMyC,QAIpBL,IAAE,4BAA4BC,QAAQC,KAAK,GAC3CF,IAAE,sCAAsCC,QAAQC,KAAK,GACrDF,IAAE,yBAAyBG,IAAI,QAAS,QACxCH,IAAE,6BAA6BI,YAAY,WA0BzCiB,EAAY,SAACC,EAAMC,GAErBvB,IAAE,IAAMuB,GAAON,QAAQ,KACvBjB,IAAE,IAAMsB,GAAMJ,UAAU,MAItBM,EAAW,SAAEC,EAAGnB,GAElBmB,EAAEC,iBAEF,IAAM9E,EAAQ,IAAIkD,SAClBlD,EAAKmD,OAAO,OAAQO,GACpB1D,EAAKmD,OAAO,QAAS5C,EAAQ4B,QAC7BnC,EAAKmD,OAAO,UAAWC,IAAE,gCAAgClB,OACzDG,IAAMC,KAAK,kBAAmBtC,GAAM0C,MAChC,WAEIe,IACA1D,GAAc,GACdgF,IAAMC,KAAK,4BAA4BC,WAAY,CAC/CC,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAGd,IAAM1B,EAAQ,IAAIb,SAClBa,EAAMZ,OAAO,UAAW,GACxBY,EAAMZ,OAAO,aAAc9C,EAAeH,KAAK,GAAG8D,aAClDD,EAAMZ,OAAO,WAAYc,eAAeC,QAAQ,UAChDH,EAAMZ,OAAO,QAASc,eAAeC,QAAQ,SAC7CH,EAAMZ,OAAO,mBAAoBc,eAAeC,QAAQ,QAAU,+CAAiDR,GACnHrB,IAAMC,KAAK,mBAAoByB,GAAOrB,MAAK,WAEvCL,IAAMC,KAAK,YAAayB,GAAOrB,MAAK,qBAM9CG,OACE,SAAEC,GAEEC,QAAQC,IAAKF,OAuBnB4C,EAAwB,SAAChC,EAAMmB,GAEjCA,EAAEC,iBAEF,IAAM9E,EAAO,IAAIkD,SACjBlD,EAAKmD,OAAO,OAAQO,GACpB1D,EAAKmD,OAAO,QAAS5C,EAAQ4B,QAC7BnC,EAAKmD,OAAO,UAAW0B,EAAEc,OAAF,QAAoBC,OAC3CvD,IAAMC,KAAK,kBAAmBtC,GAAM0C,MAChC,WAEI,IAAMqB,EAAQ,IAAIb,SAClBa,EAAMZ,OAAO,UAAW,GACxBY,EAAMZ,OAAO,aAAc9C,EAAeH,KAAK,GAAG8D,aAClDD,EAAMZ,OAAO,WAAYc,eAAeC,QAAQ,UAChDH,EAAMZ,OAAO,QAASc,eAAeC,QAAQ,SAC7CH,EAAMZ,OAAO,mBAAoBc,eAAeC,QAAQ,QAAU,8CAAgDR,EAAO,uBAAyBmB,EAAEc,OAAF,QAAoBC,MAAQ,KAC9KvD,IAAMC,KAAK,mBAAoByB,GAAOrB,MAAK,WAEvCL,IAAMC,KAAK,YAAayB,GAAOrB,MAAK,kBAKxCqC,IAAMC,KAAK,2BAA4B,CACnCE,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAGdhC,IACA1D,GAAa,MAInB8C,OACE,SAACC,GAEGC,QAAQC,IAAIF,OAOxB,OACI,eAAC,WAAD,CAAU+C,SAAW,cAAC,IAAD,CAASC,SAAU,IAAxC,UACI,cAAC,IAAD,CAAMlD,KAAM5C,IACZ,cAAC,IAAD,CAAOsD,KAAMxD,EAAWiG,KAlZN,WAGlBhG,GADAD,IAgZiDkG,QAASpG,IAC1D,cAACV,EAAD,CAGAM,SAAWA,EAEXE,iBAAmBA,EAEnBW,eAAiBA,EAEjBE,QAAUA,EAKVsB,oBAAsBA,EAEtBG,mBAAqBA,EAErByB,gBAAkBA,EAClBwC,UArKU,SAAEvC,GAEhB7D,EACI,gCACI,qEAGA,qBAAKqG,UAAU,qBAAf,SACI,wBAAQA,UAAU,8BAA8BC,QAAU,kBAAM1B,EAAW,OAAQ,OAAnF,mBAEJ,qBAAKyB,UAAU,uBAAf,SACI,uBAAME,SAAW,SAACvB,GAAD,OAAOD,EAASC,EAAGnB,IAApC,UACI,0BAAU2C,UAAQ,EAACH,UAAU,eAAeI,KAAK,UAAUC,YAAY,gBACvE,wBAAQC,KAAK,SAASN,UAAU,8BAAhC,2BAMhBnG,GAAa,IAmJT0G,UAzFU,SAAE/C,GAEhB7D,EACI,gCACI,qEACA,uBAAMuG,SAAU,SAACvB,GAAD,OAAOa,EAAsBhC,EAAMmB,IAAnD,UACI,0BAAUyB,KAAK,UAAUJ,UAAU,oBAAoBK,YAAY,cAAcF,UAAQ,EAACK,UAAU,OACpG,wBAAQR,UAAU,6CAAlB,wBAKZnG,GAAa,W,gCChbrB,sBAkBe4G,IAfD,SAAEC,GACZ,OACI,mCACI,sBAAKV,UAAU,yBAAyBW,MAAQ,CAAEf,QAASc,EAAMtD,KAAO,OAAS,QAAjF,UACI,qBAAK4C,UAAU,OAAOC,QAAUS,EAAMb,OAEtC,qBAAKc,MAAQ,CAAEC,eAAgB,MAAgB7B,WAAa,KAAQiB,UAAYU,EAAMtD,KAAO,iEAAmE,iCAAhK,SAEQsD,EAAMZ,iB,qDCX9B,mDAsGee,IAjGF,SAACH,GAEVhG,qBACI,WACIwC,IAAE,mBAAmB4D,YAAY,KAClC,IAiBP,OACI,mCACI,qBAAKd,UAAU,OAAf,SAEQU,EAAMhE,KAAKqE,OAAS,EAEhB,qCACI,qBAAKf,UAAU,YAAf,SAEYU,EAAMhE,KAAKsE,KACP,SAAChF,EAAKiF,GACF,OACI,mCAEQjF,EAAIpB,IAEJoB,EAAInB,KACA,cAAC,IAAD,CAAMqG,GAAIlF,EAAIb,KAAd,SACI,iCAAQ,mBAAG6E,UAAU,0BAAb,SAAwChE,EAAIpB,UAGxD,wBAAQqF,QAAU,kBAAMjE,EAAIlB,QAA5B,SAAqC,mBAAGkF,UAAU,0BAAb,SAAwChE,EAAIpB,QAErF,YAQhC,sBAAKoF,UAAU,iBAAf,UACI,qBAAKA,UAAU,wBAAwBC,QA9C9C,WACjB/C,IAAE,mCAAmC4D,YAAY,KAE5C5D,IAAE,+CAA+CiE,SAAS,YAE3DjE,IAAE,+CAA+CI,YAAY,WAC7DJ,IAAE,+CAA+CmB,SAAS,cAG1DnB,IAAE,+CAA+CI,YAAY,YAC7DJ,IAAE,+CAA+CmB,SAAS,aAoCtC,SACI,mBAAG+C,MAAM,mBAEb,qBAAKpB,UAAU,iBAAf,SAEQU,EAAMhE,KAAKsE,KACP,SAAChF,EAAKiF,GAEF,OACI,mCAEQjF,EAAIpB,IAEJoB,EAAInB,KACA,cAAC,IAAD,CAAMqG,GAAIlF,EAAIb,KAAd,SACI,gCACI,qBAAK6E,UAAY,4BAA8BiB,EAA/C,SAAuD,mBAAGjB,UAAWhE,EAAIrB,SACzE,4BAAIqB,EAAIpB,QAFFqG,KAMd,sBAAKjB,UAAU,SAAqBC,QAAU,kBAAMjE,EAAIlB,QAAxD,UACI,qBAAKkF,UAAY,4BAA8BiB,EAA/C,SAAuD,mBAAGjB,UAAWhE,EAAIrB,SACzE,4BAAIqB,EAAIpB,QAFiBqG,GAKjC,kBAWpC,W","file":"static/js/38.fc9863a0.chunk.js","sourcesContent":["import React, { lazy, Suspense, useEffect, useState } from 'react';\r\n\r\n// Load Components\r\nimport Loading from '../../../../../UI/Loading/Loading';\r\nimport Menu from '../../../../../UI/Menu/Menu';\r\nimport Modal from '../../../../../UI/Modal/Modal';\r\n\r\n// React Redux Packages\r\nimport { useSelector } from 'react-redux';\r\n\r\n// Common Packages\r\nimport axios from '../../../../../../axios';\r\nimport $ from 'jquery';\r\n\r\n// import React Navigation Packages\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n// import UI\r\nconst UI = lazy( () => import('./ViewInvtryRequestsUI') );\r\n\r\nconst ViewInvtryRequests = () => {\r\n\r\n    const history = useHistory();\r\n\r\n    const [ Requests, setRequests ] = useState([]);\r\n    const [ EmployeeRequests, setEmployeeRequests ] = useState([]);\r\n    const [ ModalContent, setModalContent ] = useState(<></>);\r\n    const [ ModalShow, setModalShow ] = useState(false);\r\n    const [ Data, setData ] = useState([]);\r\n    const [ RequestDetails, setRequestDetails ] = useState(\r\n        {\r\n            info: [],\r\n            specifications: [],\r\n            quotations: []\r\n        }\r\n    );\r\n\r\n    // Current Employee Data\r\n    const EmpData = useSelector( ( state ) => state.EmpAuth.EmployeeData );\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            setData(\r\n                    [\r\n                        {\r\n                            icon: 'las la-search',\r\n                            txt: 'Search',\r\n                            link: false,\r\n                            func: () => ShowSearchBar()\r\n                        }\r\n                    ]\r\n            )\r\n    \r\n            let url = window.location.href;\r\n            let emp = '';\r\n            let request = '';\r\n\r\n            if ( url.includes('employee=') && !url.includes('&&request') )\r\n            {\r\n                emp = url.split('employee=').pop().split('&&').shift();\r\n                setTimeout(() => {\r\n                    ViewThatEmpRequests( parseInt( emp ) ); \r\n                    history.replace('/view_invtry_requests/employee=' + emp);\r\n                }, 50);\r\n            }else\r\n\r\n            if ( url.includes('&&request') )\r\n            {\r\n                request = url.split('&&').pop().split('=').pop();\r\n                emp = url.split('employee=').pop().split('&&').shift();\r\n                setTimeout(() => {\r\n                    ViewThatEmpRequests( parseInt( emp ) ); \r\n                    OpenRequestDetails( parseInt( request ) )\r\n                    history.replace('/view_invtry_requests/employee=' + emp + '&&request=' + request);\r\n                }, 50);\r\n            }\r\n\r\n            getAllPR();\r\n    \r\n        }, []\r\n    )\r\n\r\n    const HideModelFunction = () => {\r\n\r\n        if (ModalShow) {\r\n            setModalShow(false);\r\n        } else {\r\n            setModalShow(true);\r\n        }\r\n\r\n    }\r\n\r\n    \r\n    // Get all purchase requests\r\n    const getAllPR = () => {\r\n\r\n        let val = {\r\n            emp_id: EmpData.emp_id,\r\n            access: EmpData.access\r\n        }\r\n\r\n        // Get all Requests according to the current employee access\r\n        axios.post('/getallpr', \r\n        {\r\n            myData: JSON.stringify(val)\r\n        }).then(\r\n            (res) => {\r\n\r\n                // set values to React State\r\n                setRequests(res.data);\r\n\r\n            }\r\n        ).catch( // if error\r\n            (err) => {\r\n\r\n                console.log(err);\r\n\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    // if any employee is selected by the user the system will display his/her all PRs\r\n    const ViewThatEmpRequests = ( empID ) => {\r\n\r\n        const Data = new FormData();\r\n        Data.append('empID', empID);\r\n        axios.post('/getthatempinvtryrequests', Data).then(\r\n            (res) => {\r\n\r\n                setEmployeeRequests( res.data );\r\n                $('.ViewPRRequests .Left h4').first().show(0);\r\n                $('.ViewPRRequests .Left .la-redo-alt').first().show(0);\r\n                $('.ViewPRRequests .Left').css('width', '100%');\r\n                $('.ViewPRRequests .InvoPrev').removeClass('d-none');\r\n                setData([\r\n                    {\r\n                        icon: 'las la-search',\r\n                        txt: 'Search',\r\n                        link: false,\r\n                        func: () => ShowSearchBar()\r\n                    },\r\n                    {\r\n                        icon: 'las la-list',\r\n                        txt: 'All Requests',\r\n                        link: false,\r\n                        func: () => ShowAllRequests()\r\n                    }\r\n                ]);\r\n\r\n            }\r\n        ).catch(\r\n            (err) => {\r\n\r\n                console.log(err);\r\n\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    // When user wants to see the details of the selected PR\r\n    const OpenRequestDetails = ( prID ) => {\r\n\r\n        const Data = new FormData();\r\n        Data.append('prID', prID); // selected purchase requisition id\r\n        axios.post('/getthatrequestfulldetails', Data).then( // get all information about the selected PR\r\n            (result) => {\r\n\r\n                axios.post('/getrequestspecifications', Data).then( // get all specifications of the selected PR\r\n\r\n                    (result2) => {\r\n\r\n                        \r\n                        axios.post('/getrequestquotations', Data).then( // get all specifications of the selected PR\r\n\r\n                            (result3) => {\r\n\r\n\r\n                                // if the user view the request first time the notification will send to the concerned person\r\n                                if (result.data[0].status === 'Sent') {\r\n                                    const Data2 = new FormData();\r\n                                    Data2.append('eventID', 3);\r\n                                    Data2.append('receiverID', result.data[0].request_for);\r\n                                    Data2.append('senderID', sessionStorage.getItem('EmpID'));\r\n                                    Data2.append('Title', sessionStorage.getItem('name'));\r\n                                    Data2.append('NotificationBody', sessionStorage.getItem('name') + \" has viewed your purchase request with id#\" + result.data[0].pr_id);\r\n                                    axios.post('/newnotification', Data2).then(() => {\r\n\r\n                                        axios.post('/sendmail', Data2).then(() => {\r\n\r\n                                        })\r\n                                    })\r\n                                }\r\n\r\n                                const Data2 = new FormData();\r\n                                Data2.append('prID', prID);\r\n                                Data2.append('empID', EmpData.emp_id);\r\n                                axios.post('/setprtoviewed', Data2).then(\r\n                                    (res) => {\r\n\r\n                                        if (res.data === 'success') {\r\n                                            // set their values to state\r\n                                            setRequestDetails(\r\n                                                {\r\n                                                    info: result.data,\r\n                                                    specifications: result2.data,\r\n                                                    quotations: result3.data\r\n                                                }\r\n                                            );\r\n\r\n                                            $('.ViewPRRequests .Left h4').first().hide(0);\r\n                                            $('.ViewPRRequests .Left .la-redo-alt').first().hide(0);\r\n                                            $('#viewMore').slideUp(400);\r\n                                            $('#viewMoreBtn').slideDown(400);\r\n                                            if (result.data[0].status === 'Viewed' || result.data[0].status === 'Sent') {\r\n                                                $('.ViewPRRequests .InvoPrev').addClass('d-none');\r\n                                            }\r\n                                            setData([\r\n                                                {\r\n                                                    icon: 'las la-long-arrow-alt-left',\r\n                                                    txt: 'Back',\r\n                                                    link: false,\r\n                                                    func: () => BackToSelectedEmployee()\r\n                                                },\r\n                                                {\r\n                                                    icon: 'las la-search',\r\n                                                    txt: 'Search',\r\n                                                    link: false,\r\n                                                    func: () => ShowSearchBar()\r\n                                                },\r\n                                                {\r\n                                                    icon: 'las la-list',\r\n                                                    txt: 'All Requests',\r\n                                                    link: false,\r\n                                                    func: () => ShowAllRequests()\r\n                                                }\r\n                                            ]);\r\n                                        }\r\n\r\n                                    }\r\n\r\n                                ).catch(\r\n                                    (err) => {\r\n\r\n                                        console.log(err);\r\n\r\n                                    }\r\n                                )\r\n\r\n                            }\r\n\r\n                        ).catch(\r\n\r\n                            (err) => {\r\n\r\n                                console.log(err);\r\n\r\n                            }\r\n\r\n                        )\r\n\r\n                    }\r\n\r\n                ).catch(\r\n\r\n                    (err) => {\r\n\r\n                        console.log(err);\r\n\r\n                    }\r\n\r\n                )\r\n\r\n            }).catch(err => {\r\n\r\n                console.log(err);\r\n\r\n            });\r\n\r\n    }\r\n\r\n    // This will show the search bar\r\n    const ShowSearchBar = () => {\r\n\r\n    }\r\n\r\n    // It will unselect the employee and show all the requests of different employees\r\n    const ShowAllRequests = () => {\r\n        setEmployeeRequests([]);\r\n        setRequestDetails(\r\n            {\r\n                info: [],\r\n                specifications: [],\r\n                quotations: []\r\n            }\r\n        );\r\n        $('.ViewPRRequests .Left').css('width', '30%');\r\n        setData([\r\n            {\r\n                icon: 'las la-search',\r\n                txt: 'Search',\r\n                link: false,\r\n                func: () => ShowSearchBar()\r\n            }\r\n        ]);\r\n    }\r\n\r\n    // When user want back to the selected employee requests list\r\n    const BackToSelectedEmployee = () => {\r\n        setRequestDetails(\r\n            {\r\n                info: [],\r\n                specifications: [],\r\n                quotations: []\r\n            }\r\n        );\r\n        \r\n        setData([\r\n            {\r\n                icon: 'las la-search',\r\n                txt: 'Search',\r\n                link: false,\r\n                func: () => ShowSearchBar()\r\n            },\r\n            {\r\n                icon: 'las la-list',\r\n                txt: 'All Requests',\r\n                link: false,\r\n                func: () => ShowAllRequests()\r\n            }\r\n        ]);\r\n\r\n        $('.ViewPRRequests .Left h4').first().show(0);\r\n        $('.ViewPRRequests .Left .la-redo-alt').first().show(0);\r\n        $('.ViewPRRequests .Left').css('width', '100%');\r\n        $('.ViewPRRequests .InvoPrev').removeClass('d-none');\r\n    }\r\n\r\n    const onApprove = ( prID ) => {\r\n\r\n        setModalContent(\r\n            <div>\r\n                <p>\r\n                    Do You Want To Approve This Request?\r\n                </p>\r\n                <div className=\"up py-2 text-right\">\r\n                    <button className=\"px-3 btn btn-sm btn-primary\" onClick={ () => openClose( 'down', 'up' ) }>Yes</button>\r\n                </div>\r\n                <div className=\"down py-2 text-right\">\r\n                    <form onSubmit={ (e) => Approval(e, prID) }>\r\n                        <textarea required className=\"form-control\" name=\"remarks\" placeholder=\"Add Remarks\"></textarea>\r\n                        <button type='submit' className=\"px-3 btn btn-sm btn-primary\">Send</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n        setModalShow(true);\r\n\r\n    }\r\n\r\n    const openClose = (open, close) => {\r\n\r\n        $('.' + close).slideUp(500);\r\n        $('.' + open).slideDown(500);\r\n\r\n    }\r\n\r\n    const Approval = ( e, prID ) => {\r\n\r\n        e.preventDefault();\r\n\r\n        const Data =  new FormData();\r\n        Data.append('prID', prID);\r\n        Data.append('empID', EmpData.emp_id);\r\n        Data.append('remarks', $('.down textarea[name=remarks]').val());\r\n        axios.post('/setprtoapprove', Data).then(\r\n            () => {\r\n\r\n                ShowAllRequests();\r\n                setModalShow( false );\r\n                toast.dark('Request has been approved'.toString(), {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n\r\n                const Data2 = new FormData();\r\n                Data2.append('eventID', 3);\r\n                Data2.append('receiverID', RequestDetails.info[0].request_for);\r\n                Data2.append('senderID', sessionStorage.getItem('EmpID'));\r\n                Data2.append('Title', sessionStorage.getItem('name'));\r\n                Data2.append('NotificationBody', sessionStorage.getItem('name') + \" has approved your purchase request with id#\" + prID);\r\n                axios.post('/newnotification', Data2).then(() => {\r\n\r\n                    axios.post('/sendmail', Data2).then(() => {\r\n\r\n                    })\r\n                })\r\n\r\n            }\r\n        ).catch(\r\n            ( err ) => {\r\n\r\n                console.log( err );\r\n\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    const onDiscard = ( prID ) => {\r\n\r\n        setModalContent(\r\n            <div>\r\n                <p>Do you want to discard this request?</p>\r\n                <form onSubmit={(e) => SendRequestForDiscard(prID, e)}>\r\n                    <textarea name='remarks' className=\"form-control mb-3\" placeholder=\"Add Remarks\" required minLength=\"10\" />\r\n                    <button className=\"btn btn-sm btn-danger d-block ml-auto px-3\">Yes</button>\r\n                </form>\r\n            </div>\r\n        )\r\n\r\n        setModalShow(true);\r\n\r\n    }\r\n\r\n    const SendRequestForDiscard = (prID, e) => {\r\n\r\n        e.preventDefault();\r\n\r\n        const Data = new FormData();\r\n        Data.append('prID', prID);\r\n        Data.append('empID', EmpData.emp_id);\r\n        Data.append('remarks', e.target['remarks'].value);\r\n        axios.post('/setprtodiscard', Data).then(\r\n            () => {\r\n\r\n                const Data2 = new FormData();\r\n                Data2.append('eventID', 3);\r\n                Data2.append('receiverID', RequestDetails.info[0].request_for);\r\n                Data2.append('senderID', sessionStorage.getItem('EmpID'));\r\n                Data2.append('Title', sessionStorage.getItem('name'));\r\n                Data2.append('NotificationBody', sessionStorage.getItem('name') + \" has discard your purchase request with id#\" + prID + \" under this reason '\" + e.target['remarks'].value + \"'\");\r\n                axios.post('/newnotification', Data2).then(() => {\r\n\r\n                    axios.post('/sendmail', Data2).then(() => {\r\n\r\n                    })\r\n                })\r\n\r\n                toast.dark('Request has been Discard', {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n\r\n                ShowAllRequests();\r\n                setModalShow(false);\r\n\r\n            }\r\n\r\n        ).catch(\r\n            (err) => {\r\n\r\n                console.log(err);\r\n\r\n            }\r\n        )\r\n\r\n    }\r\n    \r\n    return (\r\n        <Suspense fallback={ <Loading display={ true } /> }>\r\n            <Menu data={Data} />\r\n            <Modal show={ModalShow} Hide={HideModelFunction} content={ModalContent} />\r\n            <UI \r\n            // values\r\n            // all requests\r\n            Requests={ Requests } \r\n            // selected employee requests\r\n            EmployeeRequests={ EmployeeRequests } \r\n            // Selected PR Details\r\n            RequestDetails={ RequestDetails }\r\n            // Current Employee Data\r\n            EmpData={ EmpData }\r\n\r\n\r\n            // functions\r\n            // to get the selected employee requests\r\n            ViewThatEmpRequests={ ViewThatEmpRequests }\r\n            // open the selected request details\r\n            OpenRequestDetails={ OpenRequestDetails }\r\n            // to close the editor\r\n            ShowAllRequests={ ShowAllRequests }\r\n            onApprove={ onApprove }\r\n            onDiscard={ onDiscard }\r\n             />\r\n        </Suspense>\r\n    )\r\n\r\n}\r\nexport default ViewInvtryRequests;","import React from 'react'\r\nimport './Modal.css';\r\n\r\nconst Modal = ( props ) =>{\r\n    return (\r\n        <>\r\n            <div className=\"Attandence_Request_Div\" style={ { display: props.show ? 'flex' : 'none'  } }>\r\n                <div className=\"dark\" onClick={ props.Hide }>\r\n                </div>\r\n                <div style={ { animationDelay: ( 0 + '.' + 1 ).toString() + 's' } } className={ props.show ? \"Attandence_Request_Div_Content Attandence_Request_Div_Content2\" : \"Attandence_Request_Div_Content\" }>\r\n                    {\r\n                        props.content\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Modal;","import React, { useEffect } from 'react';\r\nimport './Menu.css';\r\nimport $ from \"jquery\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Menu = (props) => {\r\n\r\n    useEffect(\r\n        () => {\r\n            $('.Speeddail_Grid').slideToggle(0);\r\n        }, []\r\n\r\n    )\r\n    const ShowMenuGrid = () => {\r\n        $('.Menu_Speeddail .Speeddail_Grid').slideToggle(200);\r\n        \r\n        if ( $('.Menu_Speeddail .Menu_Speeddail_circle .las').hasClass('la-bars') )\r\n        {\r\n            $('.Menu_Speeddail .Menu_Speeddail_circle .las').removeClass('la-bars');\r\n            $('.Menu_Speeddail .Menu_Speeddail_circle .las').addClass('la-times');\r\n        }else\r\n        {\r\n            $('.Menu_Speeddail .Menu_Speeddail_circle .las').removeClass('la-times');\r\n            $('.Menu_Speeddail .Menu_Speeddail_circle .las').addClass('la-bars');      \r\n        }\r\n\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\"Menu\">\r\n                {\r\n                    props.data.length > 0\r\n                        ?\r\n                        <>\r\n                            <div className=\"Menu_Grid\">\r\n                                {\r\n                                        props.data.map(\r\n                                            (val, index) => {\r\n                                                return (\r\n                                                    <>\r\n                                                        {\r\n                                                            val.txt\r\n                                                            ?\r\n                                                            val.link ?\r\n                                                                <Link to={val.href}>\r\n                                                                    <button><p className=\"font-weight-bolder mb-0\">{val.txt}</p></button>\r\n                                                                </Link>\r\n                                                            :\r\n                                                                <button onClick={ () => val.func() }><p className=\"font-weight-bolder mb-0\">{val.txt}</p></button>\r\n                                                            :\r\n                                                            null\r\n                                                        }\r\n                                                    </>\r\n                                                )\r\n                                            }\r\n                                        )\r\n                                    }\r\n                            </div>\r\n                            <div className=\"Menu_Speeddail\">\r\n                                <div className=\"Menu_Speeddail_circle\" onClick={ShowMenuGrid}>\r\n                                    <i class=\"las la-times\"></i>\r\n                                </div>\r\n                                <div className=\"Speeddail_Grid\">\r\n                                    {\r\n                                        props.data.map(\r\n                                            (val, index) => {\r\n\r\n                                                return (\r\n                                                    <>\r\n                                                        {\r\n                                                            val.txt\r\n                                                            ?\r\n                                                            val.link ?\r\n                                                                <Link to={val.href}>\r\n                                                                    <div key={index}>\r\n                                                                        <div className={ \"mb-1 Speeddail_Grid1 divs\" + index }><i className={val.icon}></i></div>\r\n                                                                        <p>{val.txt}</p>\r\n                                                                    </div>\r\n                                                                </Link>\r\n                                                                :\r\n                                                                <div className=\"clicks\" key={index} onClick={ () => val.func() }>\r\n                                                                    <div className={ \"mb-1 Speeddail_Grid1 divs\" + index }><i className={val.icon}></i></div>\r\n                                                                    <p>{val.txt}</p>\r\n                                                                </div>\r\n                                                            :\r\n                                                            null\r\n                                                        }\r\n                                                    </>\r\n                                                )\r\n                                            }\r\n                                        )\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Menu;"],"sourceRoot":""}