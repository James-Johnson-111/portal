(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[17],{130:function(e,n){},131:function(e,n){},133:function(e,n){},134:function(e,n){},136:function(e,n){},137:function(e,n){},138:function(e,n){},139:function(e,n){},140:function(e,n){},141:function(e,n){},142:function(e,n){},143:function(e,n){},144:function(e,n){},145:function(e,n){},599:function(e,n,t){},600:function(e,n,t){},776:function(e,n,t){"use strict";t.r(n);var i=t(1),c=(t(599),t(75)),s=t.n(c),o=t(17),a=t(24),l=t(165),r=t(4),d=(t(600),t(10)),m=t(3),u=t(98),f=t(0);var j=function(e){var n,t=Object(m.g)(),c=Object(i.useState)([]),s=Object(r.a)(c,2),a=s[0],l=s[1],j=Object(i.useState)(!0),b=Object(r.a)(j,2),p=b[0],h=b[1];Object(i.useEffect)((function(){"granted"!==Notification.permission?Notification.requestPermission().then((function(e){"granted"===e?n():h(!1)})):n(),u.a.on("NotifyTheUser",(function(t){e.Data.emp_id===parseInt(t)&&n()}))}),[n,e.Data.emp_id]);var g=function(){var e=window.navigator.userAgent,n=window.navigator.platform,t=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(n)?t="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(n)?t="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(n)?t="Windows":/Android/.test(e)?t="Android":!t&&/Linux/.test(n)&&(t="Linux"),t};n=function(){var e=new FormData;e.append("EmpID",sessionStorage.getItem("EmpID")),d.a.post("/getnotifications",e).then((function(n){l(n.data.reverse());for(var t=!1,i=null,c=null,s=0;s<n.data.length;s++)null===n.data[s].notified&&(t=!0,i=n.data[s].notification_title,c=n.data[s].notification_body);t?d.a.post("/notified",e).then((function(e){"iOS"!==g()&&"Android"!==g()&&O(e.data.length,i,c)})).catch((function(e){console.log(e)})):document.title="Employee Portal"})).catch((function(e){console.log(e)}))};var O=function(e,n,t){p&&(document.title="Employee Portal Has ("+e+") Notifications",new Notification("Employee Portal",{icon:"https://p.kindpng.com/picc/s/12-120109_employee-self-service-icon-hd-png-download.png",body:t}).onclick=function(){window.open("https://192.168.10.14/")})},x=function(e){1===e&&t.replace("/chat")};return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"px-3 notification",onMouseLeave:function(){if(a.length>0){var e=new FormData;e.append("EmpID",sessionStorage.getItem("EmpID")),d.a.post("/seennotifications",e).then((function(){n()})).catch((function(e){console.log(e)}))}},children:[a.length>0?Object(f.jsx)("div",{className:"notification_number"}):null,Object(f.jsx)("i",{className:"las la-bell"}),Object(f.jsxs)("div",{className:"Notifications_Box",children:[Object(f.jsx)("div",{className:"Notifications_list",children:a.map((function(e,t){return Object(f.jsxs)(o.b,{to:e.link,className:"list",children:[Object(f.jsxs)("p",{className:"font-weight-bold mb-0",onClick:function(){return x(e.event_id)},children:[" ",e.notification_title," "]}),Object(f.jsx)("p",{className:"mb-0 text-secondary",onClick:function(){return x(e.event_id)},children:e.notification_body}),Object(f.jsxs)("div",{className:"d-flex justify-content-between font-weight-bold",children:[Object(f.jsx)("p",{className:"mb-0",onClick:function(){return x(e.event_id)},children:e.notification_date.toString().substring(0,10)}),Object(f.jsx)("p",{className:"mb-0",onClick:function(){return x(e.event_id)},children:e.notification_time})]}),Object(f.jsx)("div",{className:"cross",onClick:function(){return function(e){var t=new FormData;t.append("EmpID",sessionStorage.getItem("EmpID")),t.append("NotificationID",e),d.a.post("/removenotifications",t).then((function(e){n()})).catch((function(e){console.log(e)}))}(e.notification_id)},children:Object(f.jsx)("i",{className:"las la-times"})})]},t)}))}),a.length>0?Object(f.jsx)("div",{className:"Notifications_Clear",children:Object(f.jsx)("button",{className:"btn",onClick:function(){var e=new FormData;e.append("EmpID",sessionStorage.getItem("EmpID")),d.a.post("/removeallnotifications",e).then((function(e){n()})).catch((function(e){console.log(e)}))},children:"Clear All"})}):null]})]})})};n.default=function(){var e=Object(a.c)((function(e){return e.EmpAuth.EmployeeData})),n=Object(a.c)((function(e){return e.SideBar.ShowSideBar})),c=Object(a.b)(),r=t(107)("real secret keys should be long and random");Object(i.useEffect)((function(){s()(".search i").on("click",(function(){s()(".search_dropdown").toggle(300)})),s()(".emp_img").on("click",(function(){s()(".emp_dropdown").toggle(300)})),s()(".emp_dropdown").on("click",(function(){s()(".emp_dropdown").toggle(300)}))}),[]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"Dashboard_topbar d-center",children:[Object(f.jsx)("div",{className:"topbar_news d-450-none",children:Object(f.jsx)("p",{className:"mb-0",style:{whiteSpace:"nowrap"},children:Object(f.jsx)("marquee",{direction:"left",children:"Tesla is quickly responding to the NHTSA's investigation of in-dash gaming while cars are moving. The Guardian has learned Tesla will deliver an update disabling on-the-move Passenger Play. A spokeswoman for the regulator said Tesla promised the change after"})})}),Object(f.jsx)("div",{className:" d-450-block"}),Object(f.jsxs)("div",{className:"icons d-center",children:[Object(f.jsx)(j,{Data:e}),Object(f.jsxs)("div",{className:"px-3 emp_img_container",children:[Object(f.jsx)("div",{className:"emp_img",style:{backgroundImage:"url('images/employees/"+e.emp_image+"')"}}),Object(f.jsxs)("div",{className:"emp_dropdown",children:[Object(f.jsxs)("p",{className:"pl-4 pb-2 mb-1 font-weight-bold border-bottom",children:[" ",r.decrypt(e.login_id)," "]}),Object(f.jsxs)(o.c,{to:"/empprofile",className:"d-center links",children:[Object(f.jsx)("div",{className:"pr-3",children:Object(f.jsx)("i",{className:"las la-user"})}),Object(f.jsx)("div",{className:"links_txt",children:"Profile"})]}),Object(f.jsxs)(o.c,{to:"/",className:"d-center links",children:[Object(f.jsx)("div",{className:"pr-3",children:Object(f.jsx)("i",{className:"las la-tasks"})}),Object(f.jsx)("div",{className:"links_txt",children:"Settings"})]}),Object(f.jsxs)(o.c,{to:"/logout",className:"d-center links",children:[Object(f.jsx)("div",{className:"pr-3",children:Object(f.jsx)("i",{className:"las la-sign-out-alt"})}),Object(f.jsx)("div",{className:"links_txt",children:"Logout"})]})]})]}),Object(f.jsx)("div",{className:"threeDots d-1400-block",onClick:function(){c(Object(l.b)(!n))},children:Object(f.jsx)("button",{className:"btn p-0 m-0",children:Object(f.jsx)("i",{className:"las la-ellipsis-v la-2x"})})})]})]})})}}}]);
//# sourceMappingURL=17.77a84f8b.chunk.js.map