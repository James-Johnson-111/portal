{"version":3,"sources":["images/loadingIcons/icons8-iphone-spinner.gif","Components/EmployeeProtal/Dashboard/Pages/Procurement/ViewPurchaseRequisition/ViewPurchaseRequisition.jsx","Components/UI/Modal/Modal.jsx","Components/UI/Menu/Menu.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"names":["Home","lazy","Requests","Purchaserequisition","Quotations","Discussions","SearchFilters","PurchaseRequisition","useState","ModalContent","setModalContent","ModalShow","setModalShow","ViewRequest","setViewRequest","CountStatus","setCountStatus","MonthlyRequests","setMonthlyRequests","Companies","setCompanies","Locations","setLocations","column","value","Key","setKey","Company","setCompany","Location","setLocation","Status","setStatus","MyDate","setMyDate","List","setList","Items","setItems","DeletedItems","setDeletedItems","Amount","setAmount","Total","setTotal","Index","setIndex","EditMode","setEditMode","description","reason","price","taxRequired","tax","quantity","Item","setItem","PRID","setPRID","AttachQuotations","setAttachQuotations","QuotationPreview","setQuotationPreview","tweet","reply","Tweet","setTweet","Tweets","setTweets","WindowLocation","setWindowLocation","Data","setData","EmpData","useSelector","state","EmpAuth","EmployeeData","history","useHistory","useMemo","window","location","href","split","pop","parseInt","useEffect","isNaN","pr_id","axios","post","po_id","then","res","data","total","status","$","val","removeClass","GetDiscussions","catch","err","console","log","SortedPr","socket","on","AllPr","AllCompanies","AllLocations","GetMonthlyRequests","icon","txt","link","func","show","hide","setTimeout","objDiv","document","getElementById","scrollTop","scrollHeight","emp_id","access","myData","JSON","stringify","response","error","filters","arr","x","length","push","get","onChangeCompany","e","onSearchPR","target","company_code","onChangeLocation","OnEdit","index","amount","toggleClass","onChangeHandler","name","input","disabled","AddItem","keyCode","i","speed","typeWriter","charAt","html","toString","alert","cart","id","t","onDelete","filter","onAttachQuotations","reader","FileReader","files","onload","readyState","file","readAsDataURL","PreviewQuotation","array","image","RemoveQuotation","onTweetboxChange","onTweet","preventDefault","d","Date","body","date","emit","ViewTheRequest","parse","includes","Data2","FormData","append","onDiscard","prID","onSubmit","DiscardRequest","style","fontSize","className","placeholder","required","minLength","type","HideModelFunction","request_by","sessionStorage","getItem","replace","toast","dark","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","ApproveRequest","ForwardRequest","pass","y","forEach","headers","list","Data3","AttachDrive","createEvent","Hide","content","title","src","host","fallback","Loader","width","height","alt","map","request_date","exact","path","render","CountRequests","onChnageHandler","onClick","iframe","contentWindow","print","Print","backgroundColor","color","Modal","props","display","animationDelay","Menu","slideToggle","to","hasClass","addClass","class","_toConsumableArray","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError"],"mappings":"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","file":"static/js/28.35e53f1b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/icons8-iphone-spinner.e2bb0653.gif\";","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect, useMemo, lazy, Suspense } from \"react\";\r\n\r\nimport './UI.css';\r\nimport axios from \"../../../../../../axios\";\r\nimport $ from 'jquery';\r\n\r\nimport Loader from '../../../../../../images/loadingIcons/icons8-iphone-spinner.gif';\r\n\r\n// React Redux Packages\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory, Route } from 'react-router-dom';\r\n\r\nimport socket from '../../../../../../io';\r\n\r\nimport Modal from '../../../../../UI/Modal/Modal';\r\nimport Menu from '../../../../../UI/Menu/Menu';\r\n\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst Home = lazy( () => import(\"./Components/Home/Home\") );\r\nconst Requests = lazy( () => import(\"./Components/Requests/Requests\") );\r\nconst Purchaserequisition = lazy( () => import(\"./Components/PurchaseRequisition/PurchaseRequisition\") );\r\nconst Quotations = lazy( () => import(\"./Components/Quotations/Quotations\") );\r\nconst Discussions = lazy( () => import(\"./Components/Discussions/Discussions\") );\r\nconst SearchFilters = lazy( () => import(\"./Components/SearchFilters/SearchFilters\") );\r\n\r\nconst PurchaseRequisition = () => {\r\n    \r\n    const [ModalContent, setModalContent] = useState(<></>);\r\n    const [ModalShow, setModalShow] = useState( false );\r\n\r\n    const [ViewRequest, setViewRequest] = useState([]);\r\n    const [CountStatus, setCountStatus] = useState([]);\r\n    const [MonthlyRequests, setMonthlyRequests] = useState([]);\r\n    const [Companies, setCompanies] = useState([]);\r\n    const [Locations, setLocations] = useState([]);\r\n    const [Key, setKey] = useState(\r\n        {\r\n            column: 'employees.name',\r\n            value: ''\r\n        }\r\n    );\r\n    const [Company, setCompany] = useState(\r\n        {\r\n            column: 'companies.company_code',\r\n            value: ''\r\n        }\r\n    );\r\n    const [Location, setLocation] = useState(\r\n        {\r\n            column: 'locations.location_code',\r\n            value: ''\r\n        }\r\n    );\r\n    const [Status, setStatus] = useState(\r\n        {\r\n            column: 'invtry_purchase_requests.status',\r\n            value: ''\r\n        }\r\n    );\r\n    const [MyDate, setMyDate] = useState(\r\n        {\r\n            column: 'invtry_purchase_requests.request_date',\r\n            value: ''\r\n        }\r\n    );\r\n\r\n    const [List, setList] = useState([]);\r\n\r\n    const [Items, setItems] = useState([]);\r\n    const [DeletedItems, setDeletedItems] = useState([]);\r\n    const [Amount, setAmount] = useState(0.0);\r\n    const [Total, setTotal] = useState(0.0);\r\n    const [Index, setIndex] = useState();\r\n\r\n    const [EditMode, setEditMode] = useState(false);\r\n\r\n    const [Item, setItem] = useState({\r\n        description: \"\",\r\n        reason: \"\",\r\n        price: 0,\r\n        taxRequired: \"NO\",\r\n        tax: '',\r\n        quantity: 1,\r\n    });\r\n\r\n    \r\n    const [PRID, setPRID] = useState(0); // FOR THE CURRENT PR ID\r\n    const [ AttachQuotations, setAttachQuotations ] = useState([]); // FOR QUOTATION ATTACHMENTS\r\n    const [ QuotationPreview, setQuotationPreview ] = useState([]); // FOR QUOTATION PREVIEW\r\n    const [ Tweet, setTweet ] = useState(\r\n        {\r\n            tweet: '',\r\n            reply: 0\r\n        }\r\n    );\r\n    const [ Tweets, setTweets ] = useState([]); // FOR PR DISCUSSIONS\r\n    const [ WindowLocation, setWindowLocation ] = useState(); // FOR WINDOW LOCATION (URL)\r\n\r\n    // MENU ITEMS\r\n    const [Data, setData] = useState( [] );\r\n    \r\n\r\n    // Current Employee Data\r\n    const EmpData = useSelector((state) => state.EmpAuth.EmployeeData);\r\n    // HISTORY FOR REACT ROUTING\r\n    const history = useHistory();\r\n\r\n    useMemo(\r\n        () => {\r\n\r\n            return setWindowLocation( window.location.href.split('/').pop().split('id=').pop() );\r\n\r\n        }, [ parseInt( window.location.href.split('/').pop().split('id=').pop() ) ]\r\n    )\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            if ( !isNaN( parseInt( WindowLocation ) ) )\r\n            {\r\n                \r\n                let pr_id = window.location.href.split('/').pop().split('id=').pop(); // RETURNS AN ID ( PR ID ) FROM THE URL\r\n    \r\n                axios.post(\r\n                    '/getpurchaseorderdetails',\r\n                    {\r\n                        pr_id: pr_id,\r\n                        po_id: null\r\n                    }\r\n                ).then(\r\n                    (res) => {\r\n                        \r\n                        setItems( res.data[5] );\r\n                        setList( res.data[4] );\r\n                        setTotal( res.data[4][0].total );\r\n    \r\n                        if ( res.data[4][0].status !== 'Approved' || res.data[4][0].status !== 'Delivered' || res.data[4][0].status !== 'Waiting For Approval' )\r\n                        {\r\n                            setAttachQuotations( res.data[6] ); // QUOTATIONS\r\n                        }\r\n    \r\n                        setEditMode(false);\r\n                        setIndex(0);\r\n    \r\n                        setAmount(0.00);\r\n                        $('select').val('NO');\r\n                        setItem({\r\n                            description: '',\r\n                            reason: '',\r\n                            price: 0,\r\n                            taxRequired: \"NO\",\r\n                            tax: '',\r\n                            quantity: 1,\r\n                        });\r\n    \r\n                        $(\".ViewPrRequests .PR_printUI_Middle .PR_printUI_Grid.MyItems\").removeClass(\"d-none\");\r\n                        setPRID( parseInt( pr_id ) );\r\n                        GetDiscussions( parseInt( pr_id ) );\r\n    \r\n                    }\r\n                ).catch(err => {\r\n    \r\n                    console.log(err);\r\n    \r\n                });\r\n            }\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        }, [ WindowLocation ]\r\n    )\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            SortedPr();\r\n\r\n        }, [ Key, Company, Location, Status, MyDate ]\r\n    )\r\n    \r\n    useEffect(\r\n        () => {\r\n\r\n            socket.on(\r\n                'newpurchaserequision', () => {\r\n                    \r\n                    AllPr();\r\n            \r\n                }\r\n            )\r\n            socket.on('prdiscussions', () => {\r\n                \r\n                GetDiscussions( window.location.href.split('/').pop().split('id=').pop() );\r\n\r\n            });\r\n\r\n            AllPr();\r\n            AllCompanies();\r\n            AllLocations();\r\n            GetMonthlyRequests();\r\n\r\n            setData(\r\n                [\r\n                    {\r\n                        icon: 'las la-user',\r\n                        txt: 'Requests',\r\n                        link: false, // || true\r\n                        func: () => {\r\n                            $('.ViewPrRequests_Left').show();\r\n                            $('.ViewPrRequests_Right').hide();\r\n                        }\r\n                    }\r\n                ]\r\n            )\r\n\r\n        }, []\r\n    )\r\n\r\n    const GetDiscussions = ( pr_id ) => {\r\n\r\n        axios.post(\r\n            '/getprdiscussion',\r\n            {\r\n                pr_id: pr_id\r\n            }\r\n        ).then(\r\n            res => {\r\n\r\n                setTweets( res.data );\r\n                setTimeout(() => {\r\n                    var objDiv = document.getElementById(\"TweetContainer\");\r\n                    if ( objDiv )\r\n                    {\r\n                        objDiv.scrollTop = objDiv.scrollHeight;\r\n                    }\r\n                }, 300);\r\n\r\n            }\r\n        ).catch(\r\n            err => {\r\n\r\n                console.log( err );\r\n\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    const GetMonthlyRequests = () => {\r\n\r\n        let val = {\r\n            emp_id: EmpData.emp_id,\r\n            access: EmpData.access\r\n        }\r\n        axios.post('/getmonthlyrequests', { myData: JSON.stringify(val) }).then(response => {\r\n\r\n            setMonthlyRequests(response.data);\r\n\r\n        }).catch(error => {\r\n\r\n            console.log(error);\r\n\r\n        });\r\n\r\n    }\r\n\r\n    const AllPr = () => {\r\n\r\n        let val = {\r\n            emp_id: EmpData.emp_id,\r\n            access: EmpData.access\r\n        }\r\n        axios.post('/getallpr', { myData: JSON.stringify(val) }).then(response => {\r\n\r\n            setViewRequest( response.data );\r\n\r\n        }).catch(error => {\r\n\r\n            console.log(error);\r\n\r\n        });\r\n\r\n    }\r\n\r\n    const SortedPr = () => {\r\n\r\n        let val = {\r\n            emp_id: EmpData.emp_id,\r\n            access: EmpData.access\r\n        }\r\n\r\n        let filters = [\r\n            Key,\r\n            Company,\r\n            Location,\r\n            Status,\r\n            MyDate\r\n        ]\r\n\r\n        axios.post('/getallprsorted', { myData: JSON.stringify(val), filters: filters }).then(response => {\r\n\r\n            setViewRequest(response.data);\r\n            let arr = [];\r\n            for( let x = 0; x < response.data.length; x++ )\r\n            {\r\n\r\n                arr.push(response.data[x].status)\r\n\r\n            }\r\n            setCountStatus( arr );\r\n\r\n        }).catch(error => {\r\n\r\n            console.log(error);\r\n\r\n        });\r\n\r\n    }\r\n\r\n\r\n    const AllCompanies = () => {\r\n\r\n        axios.get('/getallcompanies').then(response => {\r\n\r\n            setCompanies(response.data);\r\n\r\n        }).catch(error => {\r\n\r\n            console.log(error);\r\n\r\n        });\r\n\r\n    }\r\n\r\n    const AllLocations = () => {\r\n\r\n        axios.get('/getalllocations').then(response => {\r\n\r\n            setLocations(response.data);\r\n\r\n        }).catch(error => {\r\n\r\n            console.log(error);\r\n\r\n        });\r\n\r\n    }\r\n\r\n    const onChangeCompany = (e) => {\r\n\r\n        onSearchPR('Company', e);\r\n        if ( e.target.value !== '' )\r\n        {\r\n            axios.post('/getcompanylocations', { company_code: e.target.value }).then(response => {\r\n    \r\n                setLocations(response.data);\r\n    \r\n            }).catch(error => {\r\n    \r\n                console.log(error);\r\n    \r\n            });\r\n        }else\r\n        {\r\n            AllLocations();\r\n        }\r\n\r\n    }\r\n\r\n    const onChangeLocation = ( e ) => {\r\n\r\n        onSearchPR('Location', e);\r\n        AllLocations();\r\n\r\n    }\r\n\r\n    const onSearchPR = ( column, e ) => {\r\n\r\n        const { value } = e.target;\r\n\r\n        if ( column === 'Key' )\r\n        {\r\n            setKey(\r\n                {\r\n                    ...Key,\r\n                    value: value\r\n                }\r\n            );\r\n        }else if ( column === 'Company' )\r\n        {\r\n            setCompany(\r\n                {\r\n                    ...Company,\r\n                    value: value\r\n                }\r\n            );\r\n        }else if ( column === 'Location' )\r\n        {\r\n            setLocation(\r\n                {\r\n                    ...Location,\r\n                    value: value\r\n                }\r\n            );\r\n        }else if ( column === 'Status' )\r\n        {\r\n            setStatus(\r\n                {\r\n                    ...Status,\r\n                    value: value\r\n                }\r\n            );\r\n        }else\r\n        {\r\n            setMyDate(\r\n                {\r\n                    ...MyDate,\r\n                    value: value\r\n                }\r\n            );\r\n        }\r\n\r\n\r\n        // IF EMPTY\r\n        if ( column === 'Key' && value === '' )\r\n        {\r\n            setKey(\r\n                {\r\n                    ...Key,\r\n                    value: ''\r\n                }\r\n            );\r\n        }else if ( column === 'Company' && value === '' )\r\n        {\r\n            setCompany(\r\n                {\r\n                    ...Company,\r\n                    value: ''\r\n                }\r\n            );\r\n        }else if ( column === 'Location' && value === '' )\r\n        {\r\n            setLocation(\r\n                {\r\n                    ...Location,\r\n                    value: ''\r\n                }\r\n            );\r\n        }else if ( column === 'Status' && value === '' )\r\n        {\r\n            setStatus(\r\n                {\r\n                    ...Status,\r\n                    value: ''\r\n                }\r\n            );\r\n        }else if ( column === 'MyDate' && value === '' )\r\n        {\r\n            setMyDate(\r\n                {\r\n                    ...MyDate,\r\n                    value: ''\r\n                }\r\n            );\r\n        }\r\n\r\n    }\r\n\r\n    const OnEdit = (index) => {\r\n        if ( \r\n            List[0].status === 'Viewed'\r\n            ||\r\n            List[0].status === 'Sent'\r\n        )\r\n        {\r\n            setEditMode(true);\r\n            setIndex(index);\r\n    \r\n            setAmount(Items[index].amount);\r\n            setItem(Items[index]);\r\n    \r\n            $(\".ViewPrRequests .PR_printUI_Middle .PR_printUI_Grid.MyItems\" + index).toggleClass(\"d-none\");\r\n        }\r\n    };\r\n\r\n    const onChangeHandler = ( e ) => {\r\n\r\n        // console.log( e.target.name );\r\n        const { name, value } = e.target;\r\n\r\n        const val = {\r\n          ...Item,\r\n          [name]: value,\r\n        };\r\n    \r\n        setItem(val);\r\n    \r\n        if (name === \"price\") {\r\n          let amount = value * Item.quantity;\r\n          setAmount(amount);\r\n        }\r\n    \r\n        if (name === \"quantity\") {\r\n          let amount = value * Item.price;\r\n          setAmount(amount);\r\n        }\r\n\r\n        if (name === \"taxRequired\") {\r\n            let input = document.getElementById('TAX');\r\n            if ( value === 'YES' )\r\n            {\r\n                input.disabled = false;\r\n            }else\r\n            {\r\n                setItem(\r\n                    {\r\n                        ...Item,\r\n                        tax: ''\r\n                    }\r\n                )\r\n                input.disabled = true;\r\n            }\r\n        }\r\n\r\n        if (name === \"tax\") {\r\n\r\n            let amount = ( ( Item.price * Item.quantity ) / 100 ) * value;\r\n            setAmount( amount + ( Item.price * Item.quantity ) );\r\n        }\r\n\r\n    }\r\n\r\n    const AddItem = ( e ) => {\r\n\r\n        if (\r\n            e.keyCode === 13 && Item.description !== '' && Item.reason !== '' && Item.quantity > 0\r\n        ) {\r\n\r\n            if (Item.reason.length < 20) {\r\n\r\n                let val = $(\".err_reason\").val();\r\n\r\n                let i = 0;\r\n                let txt = \"Reason must contain 20 characters minimum!!!\";\r\n                let speed = 50;\r\n                val = '';\r\n\r\n                function typeWriter() {\r\n                    if (i < txt.length) {\r\n                        val += txt.charAt(i);\r\n                        $(\".err_reason\").html(val);\r\n                        i++;\r\n                        setTimeout(typeWriter, speed);\r\n                    }\r\n                }\r\n\r\n                typeWriter();\r\n\r\n                setTimeout(() => {\r\n                    $(\".err_reason\").html('');\r\n                }, 5000);\r\n\r\n            } else {\r\n\r\n                if (Item.taxRequired === \"YES\" && Item.tax.toString() === '0') {\r\n                    alert('tax required');\r\n                } else {\r\n                    if (!EditMode) {\r\n                        let cart = {\r\n                            description: Item.description,\r\n                            reason: Item.reason,\r\n                            price: Item.price,\r\n                            quantity: Item.quantity,\r\n                            tax: Item.tax,\r\n                            amount: Amount,\r\n                        };\r\n                        setItems([...Items, cart]);\r\n\r\n                        setAmount(0.0);\r\n                        $('select').val('NO');\r\n                        setItem({\r\n                            description: \"\",\r\n                            reason: \"\",\r\n                            price: 0,\r\n                            taxRequired: \"NO\",\r\n                            tax: '',\r\n                            quantity: 1,\r\n                        });\r\n\r\n                        let t = Total;\r\n                        t = t + Amount;\r\n\r\n                        setTotal(t);\r\n\r\n                        var objDiv = document.getElementById(\"ItemsLIst\");\r\n                        if (objDiv !== null) {\r\n                            objDiv.scrollTop = objDiv.scrollHeight;\r\n                        }\r\n\r\n                    } else {\r\n                        let arr = Items;\r\n                        let cart = {};\r\n                        if (Item.id) {\r\n                            cart = {\r\n                                id: Item.id,\r\n                                pr_id: Item.pr_id,\r\n                                description: Item.description,\r\n                                reason: Item.reason,\r\n                                price: Item.price,\r\n                                quantity: Item.quantity,\r\n                                tax: Item.tax,\r\n                                amount: Amount,\r\n                            };\r\n                        } else {\r\n                            cart = {\r\n                                description: Item.description,\r\n                                reason: Item.reason,\r\n                                price: Item.price,\r\n                                quantity: Item.quantity,\r\n                                tax: Item.tax,\r\n                                amount: Amount,\r\n                            };\r\n                        }\r\n                        setTotal(Total - arr[Index].amount + Amount);\r\n\r\n                        arr[Index] = cart;\r\n                        setItems(arr);\r\n\r\n                        setAmount(0.0);\r\n                        $('select').val('NO');\r\n                        setItem({\r\n                            description: \"\",\r\n                            reason: \"\",\r\n                            price: 0,\r\n                            taxRequired: \"NO\",\r\n                            tax: '',\r\n                            quantity: 1,\r\n                        });\r\n                        setEditMode(false);\r\n                        setIndex();\r\n                        $(\".ViewPrRequests .PR_printUI_Middle .PR_printUI_Grid.MyItems\").removeClass(\"d-none\");\r\n\r\n\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const onDelete = (id) => {\r\n        if ( \r\n            List[0].status === 'Viewed'\r\n            ||\r\n            List[0].status === 'Sent'\r\n        )\r\n        {\r\n            let arr = Items.filter((val, index) => {\r\n                return index === id;\r\n            })\r\n\r\n            setDeletedItems( arr );\r\n\r\n            setItems(\r\n                Items.filter((val, index) => {\r\n                    return index !== id;\r\n                })\r\n            );\r\n    \r\n            setTotal(Total - Items[id].amount);\r\n\r\n        }\r\n    };\r\n\r\n    const onAttachQuotations = ( e ) => {\r\n\r\n        const reader = new FileReader();\r\n        const { files } = e.target;\r\n\r\n        reader.onload = () => {\r\n\r\n            if (reader.readyState === 2) {\r\n                let arr = [];\r\n                // let invoAttachments = document.querySelector('.invoAttachments');\r\n\r\n                for (let x = 0; x < files.length; x++) {\r\n                    arr.push(\r\n                        {\r\n                            name: files[x].name,\r\n                            file: files[x]\r\n                        }\r\n                    )\r\n                }\r\n\r\n                setAttachQuotations( arr );\r\n            }\r\n\r\n\r\n\r\n        }\r\n\r\n        if (files[0]) {\r\n            reader.readAsDataURL(files[0]);\r\n        }\r\n\r\n    }\r\n\r\n    const PreviewQuotation = ( id ) => {\r\n\r\n        let array = [];\r\n        if ( AttachQuotations[0].image )\r\n        {\r\n            array = AttachQuotations.filter(\r\n                ( val, index, arr ) => {\r\n          \r\n                  return arr[index].image === arr[id].image;\r\n          \r\n                }\r\n            )\r\n        }else\r\n        {\r\n            array = AttachQuotations.filter(\r\n                ( val, index, arr ) => {\r\n          \r\n                  return arr[index].name === arr[id].name;\r\n          \r\n                }\r\n            )\r\n        }\r\n        \r\n      \r\n        setQuotationPreview( array );\r\n\r\n    }\r\n\r\n    const RemoveQuotation = ( id ) => {\r\n\r\n        let array = AttachQuotations.filter(\r\n            ( val, index, arr ) => {\r\n      \r\n              return arr[index].name !== arr[id].name;\r\n      \r\n            }\r\n        )\r\n      \r\n        setAttachQuotations( array );\r\n\r\n    }\r\n\r\n    const onTweetboxChange = ( e ) => {\r\n\r\n        const { name, value } = e.target;\r\n\r\n        if ( name === 'tweet' )\r\n        {\r\n            setTweet(\r\n                {\r\n                    tweet: value,\r\n                    reply: 0\r\n                }\r\n            )\r\n        }else\r\n        {\r\n            setTweet(\r\n                {\r\n                    tweet: value,\r\n                    reply: parseInt( name )\r\n                }\r\n            )\r\n        }\r\n\r\n    }\r\n\r\n    const onTweet = ( e, txt, id ) => {\r\n\r\n        e.preventDefault();\r\n        const d = new Date();\r\n\r\n        axios.post(\r\n            '/prdiscussion',\r\n            {\r\n                pr_id: PRID,\r\n                emp_id: EmpData.emp_id,\r\n                body: txt ? txt : Tweet.tweet,\r\n                reply: id ? id : Tweet.reply,\r\n                date: d.toString()\r\n            }\r\n        ).then(\r\n            () => {\r\n\r\n                $(\"textarea\").val('');\r\n                setTweet(\r\n                    {\r\n                        tweet: '',\r\n                        reply: 0\r\n                    }\r\n                )\r\n                if ( id )\r\n                {\r\n                    socket.emit('prsubdiscussions', id);\r\n                }else\r\n                {\r\n                    if ( Tweet.reply === 0 )\r\n                    {\r\n                        socket.emit('prdiscussions');   \r\n                    }else\r\n                    {\r\n                        socket.emit('prsubdiscussions', Tweet.reply);\r\n                    }\r\n                }\r\n                GetDiscussions( window.location.href.split('/').pop().split('id=').pop() );\r\n\r\n            }\r\n        ).catch(\r\n            err => {\r\n\r\n                console.log( err );\r\n\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    const ViewTheRequest = ( pr_id, status ) => {\r\n\r\n        if ( status === \"Sent\" )\r\n        {\r\n            if ( JSON.parse(  EmpData.access ).includes(512) || JSON.parse( EmpData.access ).includes(514) || JSON.parse( EmpData.access ).includes(1) )\r\n            {\r\n                const Data2 = new FormData();\r\n                Data2.append('prID', pr_id);\r\n                Data2.append('empID', EmpData.emp_id);\r\n                axios.post('/setprtoviewed', Data2).then(\r\n                    () => {\r\n    \r\n                        socket.emit('newpurchaserequision');\r\n        \r\n                    }\r\n        \r\n                ).catch(\r\n                    (err) => {\r\n        \r\n                        console.log(err);\r\n        \r\n                    }\r\n                )\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    const onDiscard = ( prID ) => {\r\n\r\n        setModalContent(\r\n            <div>\r\n                <p>Do you want to discard this request?</p>\r\n                <form onSubmit={(e) => DiscardRequest(prID, e)}>\r\n                    <textarea \r\n                        style={\r\n                            {\r\n                                fontSize: '13px'\r\n                            }\r\n                        }\r\n                        name='remarks' \r\n                        className=\"form-control mb-3\" \r\n                        placeholder=\"Add Remarks\" \r\n                        required \r\n                        minLength=\"10\"\r\n                     />\r\n                    <button type=\"submit\" className=\"btn btn-sm btn-danger d-block ml-auto px-3\">Yes</button>\r\n                </form>\r\n            </div>\r\n        )\r\n\r\n        HideModelFunction();\r\n\r\n    }\r\n\r\n    const DiscardRequest = ( prID, e ) => {\r\n\r\n        e.preventDefault();\r\n\r\n        const Data = new FormData();\r\n        Data.append('prID', prID);\r\n        Data.append('empID', EmpData.emp_id);\r\n        Data.append('remarks', e.target['remarks'].value);\r\n        axios.post('/setprtodiscard', Data).then(\r\n            () => {\r\n\r\n                const Data2 = new FormData();\r\n                Data2.append('eventID', 3);\r\n                Data2.append('link', '/purchaserequisition/view=previousrequests/' + prID);\r\n                Data2.append('receiverID', List[0].request_by);\r\n                Data2.append('senderID', sessionStorage.getItem('EmpID'));\r\n                Data2.append('Title', sessionStorage.getItem('name'));\r\n                Data2.append('NotificationBody', sessionStorage.getItem('name') + \" has discard your purchase request with id#\" + prID + \" under this reason '\" + e.target['remarks'].value + \"'\");\r\n                axios.post('/newnotification', Data2).then(() => {\r\n\r\n                    axios.post('/sendmail', Data2).then(() => {\r\n\r\n                        socket.emit('newpurchaserequision');\r\n                        history.replace('/purchaserequisition/view=purchase_requisition&&id=' + ( prID - 1 ) );\r\n                        setTimeout(() => {\r\n                            history.replace('/purchaserequisition/view=purchase_requisition&&id=' + prID );\r\n                        }, 100);\r\n\r\n                    })\r\n                })\r\n\r\n                toast.dark('Request has been Discard', {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n\r\n                setModalShow(false);\r\n\r\n            }\r\n\r\n        ).catch(\r\n            (err) => {\r\n\r\n                console.log(err);\r\n\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    const onForward = ( prID ) => {\r\n\r\n        setModalContent(\r\n            <div>\r\n                <p>Do you want to forward this request?</p>\r\n                <button onClick={ () => ForwardRequest( prID ) } className=\"btn btn-sm btn-info d-block ml-auto px-3\">Yes</button>\r\n            </div>\r\n        )\r\n\r\n        HideModelFunction();\r\n\r\n    }\r\n\r\n    const onApprove = ( prID ) => {\r\n\r\n        setModalContent(\r\n            <div>\r\n                <p>Do you want to approve this request?</p>\r\n                <form onSubmit={(e) => ApproveRequest(prID, e)}>\r\n                    <textarea \r\n                        style={\r\n                            {\r\n                                fontSize: '13px'\r\n                            }\r\n                        }\r\n                        name='remarks' \r\n                        className=\"form-control mb-3\" \r\n                        placeholder=\"Add Remarks\" \r\n                        required \r\n                        minLength=\"10\"\r\n                     />\r\n                    <button type=\"submit\" className=\"btn btn-sm btn-success d-block ml-auto px-3\">Yes</button>\r\n                </form>\r\n            </div>\r\n        )\r\n\r\n        HideModelFunction();\r\n\r\n    }\r\n\r\n    const ApproveRequest = ( prID, e ) => {\r\n\r\n        e.preventDefault();\r\n\r\n        const Data = new FormData();\r\n        Data.append('prID', prID);\r\n        Data.append('empID', EmpData.emp_id);\r\n        Data.append('remarks', e.target['remarks'].value);\r\n        axios.post('/setprtoapprove', Data).then(\r\n            () => {\r\n\r\n                setModalShow(false);\r\n                toast.dark('Request has been approved'.toString(), {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n\r\n                const Data2 = new FormData();\r\n                Data2.append('eventID', 3);\r\n                Data2.append('receiverID', List[0].request_by);\r\n                Data2.append('senderID', sessionStorage.getItem('EmpID'));\r\n                Data2.append('Title', sessionStorage.getItem('name'));\r\n                Data2.append('NotificationBody', sessionStorage.getItem('name') + \" has approved your purchase request with id#\" + prID);\r\n                axios.post('/newnotification', Data2).then(() => {\r\n\r\n                    axios.post('/sendmail', Data2).then(() => {\r\n\r\n                        socket.emit('newpurchaserequision');\r\n                        history.replace('/purchaserequisition/view=purchase_requisition&&id=' + ( prID - 1 ) );\r\n                        setTimeout(() => {\r\n                            history.replace('/purchaserequisition/view=purchase_requisition&&id=' + prID );\r\n                        }, 100);\r\n\r\n                    })\r\n                })\r\n\r\n            }\r\n        ).catch(\r\n            (err) => {\r\n\r\n                console.log(err);\r\n\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    const ForwardRequest = ( prID ) => {\r\n\r\n        let pass = true;\r\n        for (let y = 0; y < Items.length; y++) {\r\n            if (\r\n                Items[y].description !== ''\r\n                ||\r\n                Items[y].reason !== ''\r\n                ||\r\n                Items[y].quantity > 0\r\n            ) {\r\n\r\n            } else {\r\n                toast.dark('Please fill all the fields in the items list', {\r\n                    position: 'top-center',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n                pass = false;\r\n                HideModelFunction();\r\n            }\r\n        }\r\n\r\n        if ( AttachQuotations.length === 0 )\r\n        {\r\n            toast.dark('Please attach at least 1 quotation', {\r\n                position: 'top-center',\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            });\r\n            pass = false;\r\n            HideModelFunction();\r\n        }\r\n\r\n        if ( pass )\r\n        {\r\n\r\n            if ( Items.length > 0 )\r\n            {\r\n                \r\n                const d = new FormData();\r\n        \r\n                d.append('prID', prID);\r\n                d.append('Items', JSON.stringify( Items ));\r\n                d.append('deletedItems', JSON.stringify( DeletedItems ));\r\n                d.append('Total', Total);\r\n        \r\n                axios.post('/setprtofinal', d).then(\r\n                    () => {\r\n        \r\n                        const Data = new FormData();\r\n                        Data.append('prID', prID);\r\n                        Data.append('empID', EmpData.emp_id);\r\n                        AttachQuotations.forEach(file => {\r\n                            Data.append(\"Attachments\", file.file);\r\n                        });\r\n                        axios.post('/setprtowaitforapproval', Data, {\r\n        \r\n                            headers: {\r\n                                \"Content-Type\": \"multipart/form-data\"\r\n                            }\r\n        \r\n                        }).then(\r\n                            () => {\r\n    \r\n                                history.replace('/purchaserequisition/view=purchase_requisition&&id=' + ( prID - 1 ) );\r\n                                setTimeout(() => {\r\n                                    history.replace('/purchaserequisition/view=purchase_requisition&&id=' + prID );\r\n                                }, 100);\r\n        \r\n                                setItems([]);\r\n                                setModalContent(<></>);\r\n                                setModalShow(false);\r\n        \r\n                                setIndex()\r\n                                setEditMode(false)\r\n                                setTotal(0.00)\r\n                                setAmount(0.00)\r\n                                \r\n                                const Data2 = new FormData();\r\n                                Data2.append('eventID', 3);\r\n                                Data2.append('receiverID', List[0].request_by);\r\n                                Data2.append('senderID', sessionStorage.getItem('EmpID'));\r\n                                Data2.append('Title', sessionStorage.getItem('name'));\r\n                                Data2.append('NotificationBody', sessionStorage.getItem('name') + \" has sent your purchase request with id#\" + prID + ' for approval');\r\n                                axios.post('/newnotification', Data2).then(() => {\r\n        \r\n                                    axios.post('/sendmail', Data2).then(() => {\r\n\r\n                                        socket.emit( 'NewNotification', List[0].request_by);\r\n                                        socket.emit('newpurchaserequision');\r\n        \r\n                                    })\r\n                                })\r\n\r\n                                \r\n                                socket.emit('newpurchaserequision');\r\n        \r\n                                let list = JSON.stringify([513, 514, 515]);\r\n                                const Data3 = new FormData();\r\n                                Data3.append('access', list);\r\n                                axios.post('/getemployeeaccesslike', Data3).then(\r\n                                    (res) => {\r\n        \r\n                                        if (res.data[0]) {\r\n                                            for (let x = 0; x < res.data.length; x++) {\r\n                                                const Data2 = new FormData();\r\n                                                Data2.append('eventID', 3);\r\n                                                Data2.append('receiverID', res.data[x].emp_id);\r\n                                                Data2.append('senderID', sessionStorage.getItem('EmpID'));\r\n                                                Data2.append('Title', sessionStorage.getItem('name'));\r\n                                                Data2.append('NotificationBody', sessionStorage.getItem('name') + \" put forward a purchase request with id#\" + prID + ' for approval');\r\n                                                axios.post('/newnotification', Data2).then(() => {\r\n        \r\n                                                    axios.post('/sendmail', Data2).then(() => {\r\n        \r\n                                                    })\r\n                                                });\r\n                                            }\r\n                                        }\r\n        \r\n                                    }\r\n                                )\r\n        \r\n                            }\r\n        \r\n                        ).catch(\r\n                            (err) => {\r\n        \r\n                                console.log(err);\r\n        \r\n                            }\r\n                        )\r\n        \r\n                    }\r\n        \r\n                ).catch(\r\n                    (err) => {\r\n        \r\n                        console.log(err);\r\n        \r\n                    }\r\n                )\r\n\r\n            }else\r\n            {\r\n                toast.dark('one specification required', {\r\n                    position: 'top-center',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n                pass = false;\r\n                HideModelFunction();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const HideModelFunction = () => {\r\n\r\n        setModalShow( !ModalShow );\r\n\r\n    }\r\n\r\n    const AttachDrive = ( txt, id ) => {\r\n\r\n        setTweet(\r\n            {\r\n                tweet: txt,\r\n                reply: id\r\n            }\r\n        );\r\n\r\n        let e = document.createEvent('event');\r\n        onTweet( e, txt, id );\r\n\r\n    }\r\n\r\n    // IF THE USER PRINTS THE REQUEST\r\n    const Print = ( id ) => {\r\n\r\n        let iframe = document.getElementById('pr');\r\n        iframe.src = 'https://' + window.location.host + '/#/view=purchase_requisition/' + id\r\n        iframe.contentWindow.print();\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"ViewPrRequests\">\r\n            <Menu data={ Data } />\r\n                <Modal show={ ModalShow } Hide={HideModelFunction} content={ModalContent} />\r\n                <ToastContainer />\r\n                <iframe \r\n                    title=\"pr\" \r\n                    id=\"pr\" \r\n                    className=\"d-none w-100\"\r\n                    src={ 'https://' + window.location.host + '/#/view=purchase_requisition/' + PRID }\r\n                >\r\n                </iframe>\r\n\r\n                {/* TOPBAR FOR SEARCH FILTERS */}\r\n                    {\r\n                        useMemo(\r\n                            () => {\r\n\r\n                                return (\r\n                                    <Suspense fallback={ <>Please Wait....</> }>\r\n                                        <SearchFilters \r\n                                            Locations={ Locations }\r\n                                            Companies={ Companies }\r\n\r\n                                            onSearchPR={ onSearchPR }\r\n                                            onChangeCompany={ onChangeCompany }\r\n                                            onChangeLocation={ onChangeLocation }\r\n                                        />\r\n                                    </Suspense>\r\n                                )\r\n\r\n                            }, [ Locations, Companies ]\r\n                        )\r\n                    }\r\n                \r\n                <div className=\"ViewPrRequests_grid\">\r\n                    <div className=\"ViewPrRequests_Left\">\r\n                        <Suspense fallback={\r\n                            <div className=\"w-100 d-flex justify-content-center mt-5\">\r\n                                <div>\r\n                                    <img className=\"rounded-circle\" src={ Loader } width=\"60\" height=\"60\" alt=\"Loading....\" />\r\n                                    <p className=\"mb-0\">Processing....</p>\r\n                                </div>\r\n                            </div>\r\n                            }\r\n                        >\r\n                            {\r\n                                ViewRequest.map(\r\n                                    (val, index) => {\r\n\r\n                                        const d = new Date(val.request_date);\r\n\r\n                                        return (\r\n                                            <>\r\n                                                <Requests \r\n                                                    key={index} \r\n                                                    data={val} \r\n                                                    date={d} \r\n                                                    ViewTheRequest={ ViewTheRequest } \r\n                                                    EmpData={ EmpData }\r\n                                                />\r\n                                            </>\r\n                                        )\r\n                                    }\r\n                                )\r\n                            }\r\n                        </Suspense>\r\n                    </div>\r\n                    <div className=\"ViewPrRequests_Right\">\r\n                        <div className='previewWindow'>\r\n                            <Route\r\n                                exact\r\n                                path=\"/purchaserequisition/home\"\r\n                                render={\r\n                                    () =>\r\n                                        <Suspense fallback={\r\n                                            <div className=\"w-100 d-flex justify-content-center mt-5\">\r\n                                                <div>\r\n                                                        <img className=\"rounded-circle\" src={ Loader } width=\"60\" height=\"60\" alt=\"Loading....\" />\r\n                                                        <p className=\"mb-0\">Loading....</p>\r\n                                                </div>  \r\n                                            </div>\r\n                                            \r\n\r\n                                        }>\r\n                                            <Home\r\n                                                ViewRequest={ ViewRequest }\r\n                                                CountRequests={ViewRequest.length}\r\n                                                CountStatus={CountStatus}\r\n                                                MonthlyRequests={MonthlyRequests}\r\n                                                EmpData={ EmpData }\r\n                                            />\r\n                                        </Suspense>\r\n                                }\r\n                            />\r\n\r\n                            <Route\r\n                                exact\r\n                                path=\"/purchaserequisition/view=purchase_requisition&&id=:pr_id\"\r\n                                render={\r\n                                    () =>\r\n                                        <Suspense fallback={\r\n                                            <div className=\"w-100 d-flex justify-content-center mt-5\">\r\n                                                <div>\r\n                                                        <img className=\"rounded-circle\" src={ Loader } width=\"60\" height=\"60\" alt=\"Loading....\" />\r\n                                                        <p className=\"mb-0\">Loading....</p>\r\n                                                </div>  \r\n                                            </div>\r\n                                            \r\n\r\n                                        }>\r\n                                            <Purchaserequisition\r\n                                                List={List}\r\n                                                Items={Items}\r\n                                                Item={Item}\r\n                                                Total={Total}\r\n                                                Amount={Amount}\r\n\r\n                                                onChnageHandler={onChangeHandler}\r\n                                                AddItem={AddItem}\r\n                                                OnEdit={OnEdit}\r\n                                                onDelete={onDelete}\r\n                                            />\r\n                                        </Suspense>\r\n                                }\r\n                            />\r\n\r\n                            <Route\r\n                                exact\r\n                                path=\"/purchaserequisition/view=quotations&&id=:pr_id\"\r\n                                render={\r\n                                    () =>\r\n                                        <Suspense fallback={\r\n                                            <div className=\"w-100 d-flex justify-content-center mt-5\">\r\n                                                <div>\r\n                                                        <img className=\"rounded-circle\" src={ Loader } width=\"60\" height=\"60\" alt=\"Loading....\" />\r\n                                                        <p className=\"mb-0\">Loading....</p>\r\n                                                </div>  \r\n                                            </div>\r\n                                            }\r\n                                        >\r\n                                            <Quotations\r\n                                                List={List}\r\n                                                AttachQuotations={AttachQuotations}\r\n                                                QuotationPreview={QuotationPreview}\r\n\r\n                                                onAttachQuotations={onAttachQuotations}\r\n                                                PreviewQuotation={PreviewQuotation}\r\n                                                RemoveQuotation={RemoveQuotation}\r\n                                            />\r\n                                        </Suspense>\r\n                                }\r\n                            />\r\n\r\n                            <Route\r\n                                exact\r\n                                path=\"/purchaserequisition/view=discussions&&id=:pr_id\"\r\n                                render={\r\n                                    () =>\r\n                                        <Suspense fallback={\r\n                                            <div className=\"w-100 d-flex justify-content-center mt-5\">\r\n                                                <div>\r\n                                                        <img className=\"rounded-circle\" src={ Loader } width=\"60\" height=\"60\" alt=\"Loading....\" />\r\n                                                        <p className=\"mb-0\">Loading....</p>\r\n                                                </div>  \r\n                                            </div>\r\n                                            }\r\n                                        >\r\n                                            <Discussions\r\n                                                Tweets={ Tweets }\r\n                                                EmpData={ EmpData }\r\n\r\n                                                onTweetboxChange={ onTweetboxChange }\r\n                                                onTweet={ onTweet }\r\n                                                AttachDrive={ AttachDrive }\r\n                                            />\r\n                                        </Suspense>\r\n                                }\r\n                            />\r\n\r\n\r\n                        </div>\r\n                        <div className=\"control\">\r\n\r\n                            {\r\n                                window.location.href.split('/').pop() !== 'home'\r\n                                ?\r\n                                <div className=\"btn-group\">\r\n                                    <button className=\"btn btn-primary\" onClick={() => history.replace('/purchaserequisition/view=purchase_requisition&&id=' + PRID)}>Purchase Requisition</button>\r\n                                    <button className=\"btn btn-info\" onClick={() => history.replace('/purchaserequisition/view=quotations&&id=' + PRID)}>Quotations</button>\r\n                                    <button className=\"btn btn-light\" onClick={() => history.replace('/purchaserequisition/view=discussions&&id=' + PRID)}>Discussions</button>\r\n                                    <button className=\"btn btn-warning\" onClick={ () => Print(PRID) }>Print</button>\r\n                                        {\r\n                                            JSON.parse(EmpData.access).includes(513) || JSON.parse(EmpData.access).includes(515)\r\n                                                ?\r\n                                                List[0]\r\n                                                ?\r\n                                                    List[0].status === 'Waiting For Approval'\r\n                                                        ?\r\n                                                        <>\r\n                                                                <button\r\n                                                                    className=\"btn btn-sm btn-danger\"\r\n                                                                    onClick={() => onDiscard( window.location.href.split('/').pop().split('id=').pop() )}\r\n                                                                >\r\n                                                                    Discard\r\n                                                                </button>\r\n                                                                <button\r\n                                                                    className=\"btn btn-sm btn-success\"\r\n                                                                    onClick={() => onApprove( window.location.href.split('/').pop().split('id=').pop() )}\r\n                                                                >\r\n                                                                    Approve\r\n                                                                </button>\r\n                                                        </>\r\n                                                        :\r\n                                                        null\r\n                                                    :\r\n                                                    null\r\n                                                :\r\n                                            null\r\n                                        }\r\n                                        {\r\n                                            List[0]\r\n                                            ?\r\n                                            List[0].status === 'Viewed'\r\n                                            ||\r\n                                            List[0].status === 'Sent'\r\n                                            ?\r\n                                            EmpData.access\r\n                                            ?\r\n                                            JSON.parse(  EmpData.access ).includes(512) || JSON.parse( EmpData.access ).includes(514) || JSON.parse( EmpData.access ).includes(1)\r\n                                            ?\r\n                                            <>\r\n                                                <button\r\n                                                    className=\"btn btn-success\"\r\n                                                    onClick={() => onForward( window.location.href.split('/').pop().split('id=').pop() )}\r\n                                                >\r\n                                                    Forward\r\n                                                </button>\r\n                                                <button\r\n                                                    className=\"btn btn-danger\"\r\n                                                    style={{ backgroundColor: 'red', color: 'white' }}\r\n                                                    onClick={() => onDiscard( window.location.href.split('/').pop().split('id=').pop() )}\r\n                                                >\r\n                                                    Discard\r\n                                                </button>\r\n                                                <button\r\n                                                    className=\"btn d-none onTweetBtn\"\r\n                                                    onClick={(e) => onTweet(e)}\r\n                                                >\r\n                                                    Tweet\r\n                                                </button>\r\n                                            </>\r\n                                            :\r\n                                            null\r\n                                            :\r\n                                            null\r\n                                            :\r\n                                            null\r\n                                            :\r\n                                            null\r\n                                        }\r\n                                </div>\r\n                                :\r\n                                null\r\n                            }\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default PurchaseRequisition;","import React from 'react'\r\nimport './Modal.css';\r\n\r\nconst Modal = ( props ) =>{\r\n    return (\r\n        <>\r\n            <div className=\"Attandence_Request_Div\" style={ { display: props.show ? 'flex' : 'none'  } }>\r\n                <div className=\"dark\" onClick={ props.Hide }>\r\n                </div>\r\n                <div style={ { animationDelay: ( 0 + '.' + 1 ).toString() + 's' } } className={ props.show ? \"Attandence_Request_Div_Content Attandence_Request_Div_Content2\" : \"Attandence_Request_Div_Content\" }>\r\n                    {\r\n                        props.content\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Modal;","import React, { useEffect } from 'react';\r\nimport './Menu.css';\r\nimport $ from \"jquery\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Menu = (props) => {\r\n\r\n    useEffect(\r\n        () => {\r\n            $('.Speeddail_Grid').slideToggle(0);\r\n        }, []\r\n\r\n    )\r\n    const ShowMenuGrid = () => {\r\n        $('.Menu_Speeddail .Speeddail_Grid').slideToggle(200);\r\n        \r\n        if ( $('.Menu_Speeddail .Menu_Speeddail_circle .las').hasClass('la-bars') )\r\n        {\r\n            $('.Menu_Speeddail .Menu_Speeddail_circle .las').removeClass('la-bars');\r\n            $('.Menu_Speeddail .Menu_Speeddail_circle .las').addClass('la-times');\r\n        }else\r\n        {\r\n            $('.Menu_Speeddail .Menu_Speeddail_circle .las').removeClass('la-times');\r\n            $('.Menu_Speeddail .Menu_Speeddail_circle .las').addClass('la-bars');      \r\n        }\r\n\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\"Menu\">\r\n                {\r\n                    props.data.length > 0\r\n                        ?\r\n                        <>\r\n                            <div className=\"Menu_Grid\">\r\n                                {\r\n                                        props.data.map(\r\n                                            (val, index) => {\r\n                                                return (\r\n                                                    <>\r\n                                                        {\r\n                                                            val.txt\r\n                                                            ?\r\n                                                            val.link ?\r\n                                                                <Link to={val.href}>\r\n                                                                    <button><p className=\"font-weight-bolder mb-0\">{val.txt}</p></button>\r\n                                                                </Link>\r\n                                                            :\r\n                                                                <button onClick={ () => val.func() }><p className=\"font-weight-bolder mb-0\">{val.txt}</p></button>\r\n                                                            :\r\n                                                            null\r\n                                                        }\r\n                                                    </>\r\n                                                )\r\n                                            }\r\n                                        )\r\n                                    }\r\n                            </div>\r\n                            <div className=\"Menu_Speeddail\">\r\n                                <div className=\"Menu_Speeddail_circle\" onClick={ShowMenuGrid}>\r\n                                    <i class=\"las la-times\"></i>\r\n                                </div>\r\n                                <div className=\"Speeddail_Grid\">\r\n                                    {\r\n                                        props.data.map(\r\n                                            (val, index) => {\r\n\r\n                                                return (\r\n                                                    <>\r\n                                                        {\r\n                                                            val.txt\r\n                                                            ?\r\n                                                            val.link ?\r\n                                                                <Link to={val.href}>\r\n                                                                    <div key={index}>\r\n                                                                        <div className={ \"mb-1 Speeddail_Grid1 divs\" + index }><i className={val.icon}></i></div>\r\n                                                                        <p>{val.txt}</p>\r\n                                                                    </div>\r\n                                                                </Link>\r\n                                                                :\r\n                                                                <div className=\"clicks\" key={index} onClick={ () => val.func() }>\r\n                                                                    <div className={ \"mb-1 Speeddail_Grid1 divs\" + index }><i className={val.icon}></i></div>\r\n                                                                    <p>{val.txt}</p>\r\n                                                                </div>\r\n                                                            :\r\n                                                            null\r\n                                                        }\r\n                                                    </>\r\n                                                )\r\n                                            }\r\n                                        )\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Menu;","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"sourceRoot":""}