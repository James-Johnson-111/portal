(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[15],{663:function(e,t,n){},664:function(e,t,n){},665:function(e,t,n){},666:function(e,t,n){},667:function(e,t,n){},668:function(e,t,n){},669:function(e,t,n){},765:function(e,t,n){"use strict";n.r(t);var s=n(87),a=n(24),c=n(11),i=n(8),r=n(1),o=(n(663),n(10)),l=n(23),d=n.n(l),j=n(25),u=n(3),b=(n(664),n(144)),p=n(0),m=function(e){var t=Object(r.useState)({}),n=Object(i.a)(t,2),s=n[0],a=n[1],o=Object(r.useState)({requests:[],months:[]}),l=Object(i.a)(o,2),d=l[0],j=l[1],u=Object(r.useState)([]),m=Object(i.a)(u,2),h=m[0],O=m[1],x=Object(r.useState)({}),f=Object(i.a)(x,2),v=f[0],g=f[1],w=Object(r.useState)(0),N=Object(i.a)(w,2),y=N[0],_=N[1];return Object(r.useEffect)((function(){for(var t=[],n=0,s=0,c=0,i=0,r=0,o=0;o<e.CountStatus.length;o++)"Rejected"===e.CountStatus[o]&&(n+=1);for(var l=0;l<e.CountStatus.length;l++)"Approved"===e.CountStatus[l]&&(s+=1);for(var d=0;d<e.CountStatus.length;d++)"Waiting For Approval"===e.CountStatus[d]&&(c+=1);for(var j=0;j<e.CountStatus.length;j++)"Sent"===e.CountStatus[j]&&(i+=1);for(var u=0;u<e.CountStatus.length;u++)"Viewed"===e.CountStatus[u]&&(r+=1);t.push(n,s,c,i,r),a({labels:["Rejected","Approved","Waiting For Approval","Sent","Viewed"],datasets:[{label:"Requests for the year",data:t,backgroundColor:["#DC3545","#28A745","#FFC107","#17A2B8","#007BFF"]}]})}),[e.CountStatus]),Object(r.useEffect)((function(){for(var t=[],n=[],s=0;s<e.MonthlyRequests.length;s++)t.push(e.MonthlyRequests[s].count),n.push(e.MonthlyRequests[s].month);j(Object(c.a)(Object(c.a)({},d),{},{requests:t,months:n}))}),[e.MonthlyRequests]),Object(r.useEffect)((function(){for(var t=[],n=[],s=0;s<e.ViewRequest.length;s++)t.includes(e.ViewRequest[s].company_name)||t.push(e.ViewRequest[s].company_name);for(var a=function(s){for(var a=e.ViewRequest.filter((function(e){return e.company_name===t[s]})),c=0,i=0;i<a.length;i++)c+=parseFloat(a[i].total);n.push({company:t[s],count:a.length,total:c})},c=0;c<t.length;c++)a(c);O(n);for(var i=0,r=0;r<e.ViewRequest.length;r++)i+=parseFloat(e.ViewRequest[r].total);_(i)}),[e.ViewRequest]),Object(r.useEffect)((function(){g(e.EmpData)}),[e.EmpData]),Object(p.jsxs)("div",{className:"Home",children:[Object(p.jsxs)("div",{className:"three",children:[Object(p.jsxs)("div",{className:"Calculate px-4",children:[Object(p.jsx)("small",{className:"text-secondary",children:"Total Requests"}),Object(p.jsxs)("h3",{className:"font-weight-bolder",children:[e.CountRequests," ",Object(p.jsx)("small",{className:"text-secondary",children:"Received"})]}),0===Object.keys(v).length?null:v.access&&(JSON.parse(v.access).includes(522)||JSON.parse(v.access).includes(1))?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("small",{className:"text-secondary",children:"Total Value Rs"}),Object(p.jsxs)("h3",{className:"font-weight-bolder",children:[y.toLocaleString("en-US")," ",Object(p.jsx)("small",{className:"text-secondary",children:"Estimated"})]})]}):null]}),Object(p.jsx)("div",{className:"RequestStatusChart",children:Object(p.jsx)(b.c,{width:"100%",height:"100px",data:s})}),Object(p.jsx)("div",{className:"RequestStatusChart py-4 px-3",children:h.map((function(e,t){return Object(p.jsxs)("div",{className:" mb-3",style:{fontSize:"13px"},children:[Object(p.jsxs)("div",{className:"font-weight-bold",children:[e.company,":"]}),Object(p.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(p.jsxs)("div",{children:[e.count," ",Object(p.jsx)("sub",{children:"Requests"})]}),Object(p.jsxs)("div",{children:["PKR",Object(p.jsxs)("span",{className:"ml-2",children:[e.total," /-"]})]})]})]},t)}))})]}),Object(p.jsx)("div",{style:{backgroundColor:"#fff",borderRadius:"5px"},children:Object(p.jsx)(b.b,{width:"100px",height:"40px",maintainAspectRatio:!1,data:{labels:d.months,datasets:[{id:1,label:"Monthly Received Requests",data:d.requests,borderColor:"#F14B71"}]}})})]})},h=(n(665),n(17)),O=function(e){var t="#0eb8de",n=e.data.status;return"Approved"!==e.data.status&&"Delivered"!==e.data.status||(t="#307365",n="Approved By accounts"),"Rejected"===e.data.status&&(t="#d19399",n=null===e.data.forward_by?"Rejected by inventory":"Rejected by accounts"),"Waiting For Approval"===e.data.status&&(t="#fc9701",1!==e.EmpData.department_code?n="Transferred to accounts":1===e.EmpData.department_code&&(n="Received")),"Sent"===e.data.status&&(1!==e.EmpData.department_code?n="Received":1===e.EmpData.department_code&&(n="Received at inventory")),"Viewed"===e.data.status&&1===e.EmpData.department_code&&(n="Viewed at inventory"),Object(p.jsxs)("div",{className:"ViewPrRequests_div",children:[Object(p.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(p.jsxs)("div",{className:"d-flex align-items-center w-75",children:[Object(p.jsx)("img",{src:"images/employees/"+e.data.emp_image,alt:""}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("p",{className:"font-weight-bolder",children:[" ",e.data.name," "]}),Object(p.jsxs)("p",{children:[" ",e.data.designation_name+" in "+e.data.department_name+" Department, "+e.data.company_name," "]})]})]}),Object(p.jsxs)("div",{className:"w-25",children:[Object(p.jsx)("p",{className:"font-weight-bolder",children:"Total"}),Object(p.jsxs)("p",{children:[" Rs ",e.data.total.toLocaleString("en-US")]})]})]}),Object(p.jsx)("div",{className:"py-3",children:Object(p.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{className:"font-weight-bolder",children:"Date"}),Object(p.jsx)("p",{children:e.date.toDateString()})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{className:"font-weight-bolder",children:"Status"}),Object(p.jsx)("p",{style:{backgroundColor:t,fontSize:"10px"},className:"text-white text-center rounded-pill px-2",children:n})]})]})}),Object(p.jsxs)("div",{className:"d-flex align-items-center",children:[Object(p.jsx)("i",{class:"las la-map-marker-alt"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{className:"font-weight-bolder",children:e.data.company_name}),Object(p.jsx)("p",{children:e.data.location_name})]})]}),Object(p.jsx)("div",{className:"ViewPrRequests_button",onClick:function(){return e.ViewTheRequest(e.data.pr_id)},children:Object(p.jsx)(h.b,{className:"btn",to:"/purchaserequisition/view=purchase_requisition&&id="+e.data.pr_id,children:"View"})})]},e.key)},x=(n(666),n.p+"static/media/QFS-LOGO.a4ccc54a.PNG"),f=n.p+"static/media/SBL-LOGO.3e8ecf8d.PNG",v=n.p+"static/media/SEABOARD-SERVICES.b1cc0596.PNG",g=function(e){var t=Object(r.useState)([]),n=Object(i.a)(t,2),s=n[0],a=n[1];return Object(r.useEffect)((function(){a(e.Items)}),[e.Items]),Object(p.jsx)(p.Fragment,{children:e.List.map((function(t,n){var a=null===t.request_date?null:new Date(t.request_date),c=null===t.approve_date?null:new Date(t.approve_date),i=null===t.view_date?null:new Date(t.view_date),r=null===t.discard_date?null:new Date(t.discard_date);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"PR_printUIView",children:Object(p.jsxs)("div",{className:"PR_printUI_Div",children:[Object(p.jsx)("h1",{className:" font-weight-bolder text-center",children:"Seaboard Group"}),Object(p.jsxs)("div",{className:"PR_printUI_Logos",children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{src:x,alt:"QFS Logo"})}),Object(p.jsx)("div",{children:Object(p.jsx)("img",{src:v,alt:"SBS Logo"})}),Object(p.jsx)("div",{children:Object(p.jsx)("img",{src:f,alt:"SBL Logo"})})]}),Object(p.jsx)("h3",{className:"font-weight-bolder text-center",children:"Purchase Requisition"}),Object(p.jsxs)("div",{className:"PR_printUI_Top mt-5",children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"PR_printUI_Top_select mb-2",children:[Object(p.jsx)("div",{className:"d-flex align-items-center",children:Object(p.jsx)("p",{className:"font-weight-bolder",children:"Comapny Name : "})}),Object(p.jsx)("div",{children:Object(p.jsx)("p",{children:t.pr_company_name})})]}),Object(p.jsxs)("div",{className:"PR_printUI_Top_select",children:[Object(p.jsx)("div",{className:"d-flex align-items-center",children:Object(p.jsx)("p",{className:"font-weight-bolder mr-3",children:"Delivery / Work Location : "})}),Object(p.jsx)("div",{children:Object(p.jsx)("p",{children:t.location_name})})]})]}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"PR_printUI_Top_select mb-2",children:[Object(p.jsx)("div",{className:"d-flex align-items-center mr-3",children:Object(p.jsx)("p",{className:"font-weight-bolder",children:"PR Number  "})}),Object(p.jsx)("div",{children:Object(p.jsx)("p",{children:t.pr_code})})]}),Object(p.jsxs)("div",{className:"PR_printUI_Top_select",children:[Object(p.jsx)("div",{className:"d-flex align-items-center mr-3",children:Object(p.jsx)("p",{className:"font-weight-bolder",children:" Date "})}),Object(p.jsx)("div",{children:Object(p.jsx)("p",{children:null===a?null:a.toDateString()})})]})]})]}),Object(p.jsxs)("div",{className:"PR_printUI_Middle",children:[Object(p.jsxs)("div",{className:"PR_printUI_Grid",style:{backgroundColor:"rgb(243, 243, 243)"},children:[Object(p.jsx)("div",{children:Object(p.jsx)("p",{className:"font-weight-bolder",children:"No"})}),Object(p.jsx)("div",{children:Object(p.jsxs)("p",{className:"font-weight-bolder",children:["Description ",Object(p.jsx)("sub",{className:"d-block",children:"(include specification required)"})," "]})}),Object(p.jsx)("div",{children:Object(p.jsx)("p",{className:"font-weight-bolder",children:"Reason"})}),Object(p.jsx)("div",{children:Object(p.jsx)("p",{className:"font-weight-bolder",children:"Quantity"})}),Object(p.jsx)("div",{children:Object(p.jsxs)("p",{className:"font-weight-bolder",children:["Estimated Cost ",Object(p.jsx)("sub",{children:"(PKR)"})," "]})}),Object(p.jsx)("div",{children:Object(p.jsxs)("p",{className:"font-weight-bolder",children:["Tax ",Object(p.jsx)("sub",{children:"Required ?"})," "]})}),Object(p.jsx)("div",{children:Object(p.jsx)("p",{className:"font-weight-bolder",children:"Tax %"})}),Object(p.jsx)("div",{children:Object(p.jsx)("p",{className:"font-weight-bolder",children:"Total Cost"})})]}),s.map((function(t,n){return Object(p.jsxs)("div",{className:"PR_printUI_Grid MyItems MyItems"+n,onDoubleClick:function(){return e.OnEdit(n)},onContextMenu:function(){return e.onDelete(n)},children:[Object(p.jsxs)("div",{children:[" ",Object(p.jsxs)("p",{children:[" ",n+1," "]}),"  "]}),Object(p.jsxs)("div",{children:[" ",Object(p.jsxs)("p",{children:[" ",t.description," "]})]}),Object(p.jsxs)("div",{children:[" ",Object(p.jsxs)("p",{children:[" ",t.reason," "]})]}),Object(p.jsxs)("div",{children:[" ",Object(p.jsxs)("p",{children:[" ",t.quantity," "]})," "]}),Object(p.jsxs)("div",{children:[" ",Object(p.jsxs)("p",{children:[" ",t.price," "]})," "]}),Object(p.jsxs)("div",{children:[" ",Object(p.jsxs)("p",{children:[" ",t.taxRequired," "]})," "]}),Object(p.jsxs)("div",{children:[" ",Object(p.jsxs)("p",{children:[" ",t.tax," "]})," "]}),Object(p.jsxs)("div",{children:[" ",Object(p.jsxs)("p",{children:[" ","Rs "+t.amount.toLocaleString("en-US")," "]})," "]})]},n)})),"Viewed"===t.status||"Sent"===t.status?Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"PR_printUI_Grid insertion",children:[Object(p.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:Object(p.jsx)("p",{children:e.Items.length+1})}),Object(p.jsx)("div",{children:Object(p.jsx)("textarea",{className:"form-control",onChange:e.onChnageHandler,onKeyDown:e.AddItem,value:e.Item.description,name:"description"})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("textarea",{className:"form-control",onChange:e.onChnageHandler,onKeyDown:e.AddItem,value:e.Item.reason,name:"reason"}),Object(p.jsx)("p",{className:"err_reason text-danger"})]}),Object(p.jsx)("div",{children:Object(p.jsx)("input",{type:"text",className:"form-control",placeholder:"0",onChange:e.onChnageHandler,onKeyDown:e.AddItem,value:e.Item.quantity,pattern:"[0-9]+",name:"quantity"})}),Object(p.jsx)("div",{children:Object(p.jsx)("input",{type:"text",className:"form-control",placeholder:"0",onChange:e.onChnageHandler,onKeyDown:e.AddItem,value:e.Item.price,pattern:"[0-9]+",name:"price"})}),Object(p.jsx)("div",{children:Object(p.jsxs)("select",{type:"text",className:"form-control",placeholder:"0",onChange:e.onChnageHandler,name:"taxRequired",children:[Object(p.jsx)("option",{value:"NO",children:"No"}),Object(p.jsx)("option",{value:"YES",children:"YES"})]})}),Object(p.jsx)("div",{children:Object(p.jsx)("input",{type:"text",className:"form-control",placeholder:"0",onChange:e.onChnageHandler,onKeyDown:e.AddItem,value:e.Item.tax,name:"tax",id:"TAX",disabled:!0})}),Object(p.jsx)("div",{children:Object(p.jsx)("input",{type:"text",className:"form-control",placeholder:"0",value:"Rs "+e.Amount.toLocaleString("en-US"),pattern:"[0-9]+",name:"itemAmount",disabled:!0})})]},n)}):null,Object(p.jsxs)("div",{className:"PR_printUI_Grid",children:[Object(p.jsx)("div",{}),Object(p.jsx)("div",{style:{backgroundColor:"rgb(243, 243, 243)"},children:Object(p.jsx)("p",{className:"font-weight-bolder text-right mr-2",children:"Total :"})}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{children:Object(p.jsx)("p",{children:"Rs "+e.Total.toLocaleString("en-US")})})]})]}),Object(p.jsxs)("div",{className:"w-100",children:[Object(p.jsxs)("div",{className:"PR_printUI_Remarks mt-4",style:{backgroundColor:"rgb(243, 243, 243)"},children:[Object(p.jsx)("div",{className:"DIVS",children:Object(p.jsx)("p",{className:"font-weight-bolder",children:"Sumbitted By"})}),Object(p.jsx)("div",{className:"DIVS",children:Object(p.jsx)("p",{className:"font-weight-bolder",children:"Submitted To"})}),null===t.discard_emp_name?Object(p.jsx)("div",{className:"DIVS",children:Object(p.jsx)("p",{className:"font-weight-bolder",children:"Approved By"})}):Object(p.jsx)("div",{className:"DIVS",children:Object(p.jsx)("p",{className:"font-weight-bolder",children:"Discard By"})})]}),Object(p.jsxs)("div",{className:"PR_printUI_Remarks PR_printUI_Remark",children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"DIVS",children:[Object(p.jsx)("p",{className:"font-weight-bolder ",children:"Name : "}),Object(p.jsx)("p",{children:t.sender_name})]}),Object(p.jsxs)("div",{className:"DIVS",children:[Object(p.jsx)("p",{className:"font-weight-bolder",children:"Date : "}),Object(p.jsx)("p",{children:null===a?null:a.toDateString()})]})]}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"DIVS",children:[Object(p.jsx)("p",{className:"font-weight-bolder",children:"Name : "}),Object(p.jsx)("p",{children:t.handle_emp_name})]}),Object(p.jsxs)("div",{className:"DIVS",children:[Object(p.jsx)("p",{className:"font-weight-bolder",children:"Date : "}),Object(p.jsxs)("p",{children:[" ",null===i?null:i.toDateString()," "]})]})]}),null===t.discard_emp_name?Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"DIVS",children:[Object(p.jsx)("p",{className:"font-weight-bolder",children:"Name : "}),Object(p.jsx)("p",{children:t.emp_approve_name})]}),Object(p.jsxs)("div",{className:"DIVS",children:[Object(p.jsx)("p",{className:"font-weight-bolder",children:"Date : "}),Object(p.jsxs)("p",{children:[" ",null===c?null:c.toDateString()," "]})]})]}):Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"DIVS",children:[Object(p.jsx)("p",{className:"font-weight-bolder",children:"Name : "}),Object(p.jsx)("p",{children:t.discard_emp_name})]}),Object(p.jsxs)("div",{className:"DIVS",children:[Object(p.jsx)("p",{className:"font-weight-bolder",children:"Date : "}),Object(p.jsxs)("p",{children:[" ",null===r?null:r.toDateString()," "]})]})]})]})]})]})})})}))})},w=(n(667),function(e){var t=Object(r.useState)([]),n=Object(i.a)(t,2),s=n[0],a=n[1],c=Object(r.useState)([]),o=Object(i.a)(c,2),l=o[0],d=o[1],j=Object(r.useState)([]),u=Object(i.a)(j,2),b=u[0],m=u[1];return Object(r.useEffect)((function(){a(e.AttachQuotations),m(e.QuotationPreview),d(e.List)}),[e.AttachQuotations,e.QuotationPreview,e.List]),Object(p.jsxs)("div",{className:"AttachedQuotations",children:[Object(p.jsx)("div",{className:"Attach",children:l[0]&&("Viewed"===l[0].status||"Sent"===l[0].status)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("input",{type:"file",onChange:e.onAttachQuotations,name:"attachments",className:"d-none",id:"upload-quotations",multiple:!0,accept:"image/*"}),Object(p.jsx)("label",{className:"label",children:" UPLOAD QUOTATIONS "}),Object(p.jsx)("label",{className:"AttachContent",for:"upload-quotations",children:Object(p.jsxs)("div",{children:[Object(p.jsx)("i",{className:"las la-file"}),Object(p.jsx)("p",{children:"Upload Quotations in image format"})]})})]}):null}),Object(p.jsxs)("div",{className:"AttachmentPreview",children:[Object(p.jsx)("label",{className:"label",children:" QUOTATIONS PREVIEW "}),Object(p.jsx)("div",{className:"Preview",style:{backgroundImage:"url('"+(b.length>0?b[0].image?"images/Inventory/pr_attachments/"+b[0].image:URL.createObjectURL(b[0].file):null)+"')"},children:0===b.length?Object(p.jsx)("p",{children:"No Quotation Selected"}):null})]}),Object(p.jsx)("div",{className:"QuotationsList",children:s.map((function(t,n){var s;return s=t.image?"images/Inventory/pr_attachments/"+t.image:URL.createObjectURL(t.file),Object(p.jsxs)("div",{className:"QuotationItem",children:[Object(p.jsx)("div",{className:"thumbnail",style:{backgroundImage:"url('"+s+"')"}}),Object(p.jsxs)("div",{className:"d-flex justify-content-between flex-column",children:[Object(p.jsx)("p",{className:"font-weight-bold",children:"IMage1.jpg"}),Object(p.jsxs)("div",{className:"btn-group",children:[Object(p.jsx)("button",{className:"btn btn-sm btn-light",onClick:function(){return e.PreviewQuotation(n)},children:"View"}),l[0]&&("Viewed"===l[0].status||"Sent"===l[0].status)?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("button",{className:"btn btn-sm btn-light",onClick:function(){return e.RemoveQuotation(n)},children:"Remove"})}):null]})]})]},n)}))})]})}),N=(n(668),n(94)),y=n(79),_=(n(669),function(e){var t=Object(r.useState)([]),n=Object(i.a)(t,2),s=n[0],a=n[1];return Object(r.useEffect)((function(){a(e.data)}),[e.data]),Object(p.jsx)("div",{className:"DicussionDrive",children:s.map((function(t,n){return Object(p.jsx)("div",{className:"DriveItem",style:{backgroundImage:"url('images/drive/"+t.name+"')"},onClick:function(){return e.AttachDrive(t.name)}},n)}))})}),S=function(e){var t=Object(r.useState)(!1),n=Object(i.a)(t,2),s=n[0],a=n[1],c=Object(r.useState)(0),l=Object(i.a)(c,2),j=l[0],u=l[1],b=Object(r.useState)({}),m=Object(i.a)(b,2),h=m[0],O=m[1],x=Object(r.useState)([]),f=Object(i.a)(x,2),v=f[0],g=f[1],w=Object(r.useState)([]),S=Object(i.a)(w,2),D=S[0],q=S[1],R=Object(r.useState)([]),I=Object(i.a)(R,2),C=I[0],k=I[1],T=Object(r.useState)([]),A=Object(i.a)(T,2),P=A[0],E=A[1];Object(r.useEffect)((function(){for(var t=[],n=[],s=0;s<e.Tweets.length;s++)n.includes(e.Tweets[s].emp_id)||(t.push({name:e.Tweets[s].name,designation:e.Tweets[s].designation_name,department:e.Tweets[s].department_name,company:e.Tweets[s].company_name}),n.push(e.Tweets[s].emp_id));q(e.Tweets),E(t),O(e.EmpData),N.a.on("prsubdiscussions",(function(e){V(e,"")}))}),[e.Tweets]);var V=function(e,t){o.a.post("/getsubdiscussions",{chat_id:e}).then((function(n){k(n.data),void 0===t&&(d()(".Reply").not(".Reply"+e).hide(300),d()(".Reply"+e).toggle(300),d()("textarea[name='"+e+"']").val(""))})).catch((function(e){console.log(e)}))},F=function(e){o.a.post("/getalldrive",{emp_id:h.emp_id}).then((function(t){g(t.data),u("number"===typeof e?e:void 0)})).catch((function(e){console.log(e)})),U()},U=function(){a(!s)};return Object(p.jsxs)("div",{className:"PRDiscussions",children:[Object(p.jsx)(y.a,{show:s,Hide:U,content:Object(p.jsx)(_,{AttachDrive:function(t){var n="/***"+t+"***/";e.AttachDrive(n,j),U()},data:v})}),Object(p.jsxs)("div",{className:"Left",children:[Object(p.jsxs)("form",{className:"TweetBox",onSubmit:e.onTweet,children:[Object(p.jsx)("textarea",{onChange:e.onTweetboxChange,placeholder:"Enter your message",className:"form-control w-100",name:"tweet",style:{fontSize:"13px"},required:!0}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{type:"submit",className:"btn btn-block border-light",children:"Send"}),Object(p.jsx)("button",{type:"button",className:"btn btn-block border-light",onClick:F,children:Object(p.jsx)("i",{className:"las la-thumbtack",style:{fontSize:"17px"}})})]})]}),Object(p.jsx)("div",{className:"TweetContainer",id:"TweetContainer",children:D.map((function(t,n){var s=new Date(t.date);return Object(p.jsxs)("div",{className:"Tweet",children:[Object(p.jsxs)("div",{className:"upper",children:[Object(p.jsx)("div",{className:"emp_img",style:{backgroundImage:"url('images/employees/"+t.emp_image+"')"}}),Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{className:"font-weight-bold",children:t.name}),Object(p.jsxs)("p",{children:[" ",t.designation_name," in ",t.department_name," Department, ",t.company_name," "]})]})]}),Object(p.jsx)("div",{className:"body",children:Object(p.jsx)("p",{children:t.body.includes("/***")?Object(p.jsx)("img",{src:"images/drive/"+t.body.split("/***")[1].split("***")[0],alt:"discussion attachment",width:"100%"}):t.body})}),Object(p.jsxs)("div",{className:"footer",children:[Object(p.jsx)("div",{children:Object(p.jsxs)("p",{className:"font-weight-bold",children:[s.toDateString()," at ",t.time]})}),Object(p.jsx)("div",{children:Object(p.jsx)("p",{onClick:function(){return V(t.chat_id)},className:"font-weight-bold",children:"Reply"})})]}),Object(p.jsxs)("form",{onSubmit:function(n){return function(t,n){t.preventDefault(),e.onTweet(t),setTimeout((function(){V(n,"")}),300)}(n,t.chat_id)},className:"Reply Reply"+t.chat_id,children:[C.map((function(e,n){var s=new Date(t.date);return Object(p.jsxs)("div",{className:"SubTweet",children:[Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"branch"})}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"upper",children:[Object(p.jsx)("div",{className:"emp_img",style:{backgroundImage:"url('images/employees/"+e.emp_image+"')"}}),Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{className:"font-weight-bold",children:e.name}),Object(p.jsxs)("p",{children:[" ",e.designation_name," in ",e.department_name," Department, ",e.company_name," "]})]})]}),Object(p.jsx)("div",{className:"body",children:e.body.includes("/***")?Object(p.jsx)("img",{src:"images/drive/"+e.body.split("/***")[1].split("***")[0],alt:"discussion attachment",width:"100%"}):Object(p.jsx)("p",{children:e.body})}),Object(p.jsxs)("div",{className:"footer",children:[Object(p.jsx)("div",{children:Object(p.jsx)("p",{className:"font-weight-bold",children:s.toDateString()})}),Object(p.jsx)("div",{children:Object(p.jsx)("p",{className:"font-weight-bold",children:t.time})})]})]})]},n)})),Object(p.jsx)("textarea",{onChange:e.onTweetboxChange,placeholder:"Enter your message",className:"form-control mt-2",name:t.chat_id,style:{fontSize:"12px"}}),Object(p.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(p.jsx)("button",{type:"button",className:"btn btn-sm btn-light mt-1 px-3",onClick:function(){return F(t.chat_id)},children:Object(p.jsx)("i",{className:"las la-thumbtack",style:{fontSize:"15px"}})}),Object(p.jsx)("button",{type:"submit",className:"btn btn-sm btn-light mt-1",children:"Send"})]})]})]},n)}))})]}),Object(p.jsxs)("div",{className:"Right",children:[Object(p.jsx)("h5",{className:"font-weight-bolder",children:"Members"}),Object(p.jsx)("hr",{}),P.map((function(e,t){return Object(p.jsxs)("div",{className:"Emp",children:[Object(p.jsxs)("p",{className:"font-weight-bold",children:[" ",e.name," "]}),Object(p.jsxs)("p",{children:[e.designation," in ",e.department," Department, ",e.company]})]},t)}))]})]})},D=n(76);n(77),t.default=function(){var e=Object(r.useState)(Object(p.jsx)(p.Fragment,{})),t=Object(i.a)(e,2),n=t[0],l=t[1],b=Object(r.useState)(!1),h=Object(i.a)(b,2),x=h[0],f=h[1],v=Object(r.useState)([]),_=Object(i.a)(v,2),q=_[0],R=_[1],I=Object(r.useState)([]),C=Object(i.a)(I,2),k=C[0],T=C[1],A=Object(r.useState)([]),P=Object(i.a)(A,2),E=P[0],V=P[1],F=Object(r.useState)([]),U=Object(i.a)(F,2),L=U[0],B=U[1],Q=Object(r.useState)([]),M=Object(i.a)(Q,2),H=M[0],J=M[1],G=Object(r.useState)({column:"employees.name",value:""}),W=Object(i.a)(G,2),K=W[0],z=W[1],Y=Object(r.useState)({column:"companies.company_code",value:""}),X=Object(i.a)(Y,2),Z=X[0],$=X[1],ee=Object(r.useState)({column:"locations.location_code",value:""}),te=Object(i.a)(ee,2),ne=te[0],se=te[1],ae=Object(r.useState)({column:"invtry_purchase_requests.status",value:""}),ce=Object(i.a)(ae,2),ie=ce[0],re=ce[1],oe=Object(r.useState)({column:"invtry_purchase_requests.request_date",value:""}),le=Object(i.a)(oe,2),de=le[0],je=le[1],ue=Object(r.useState)([]),be=Object(i.a)(ue,2),pe=be[0],me=be[1],he=Object(r.useState)([]),Oe=Object(i.a)(he,2),xe=Oe[0],fe=Oe[1],ve=Object(r.useState)([]),ge=Object(i.a)(ve,2),we=ge[0],Ne=ge[1],ye=Object(r.useState)(0),_e=Object(i.a)(ye,2),Se=_e[0],De=_e[1],qe=Object(r.useState)(0),Re=Object(i.a)(qe,2),Ie=Re[0],Ce=Re[1],ke=Object(r.useState)(),Te=Object(i.a)(ke,2),Ae=Te[0],Pe=Te[1],Ee=Object(r.useState)(!1),Ve=Object(i.a)(Ee,2),Fe=Ve[0],Ue=Ve[1],Le=Object(r.useState)({description:"",reason:"",price:0,taxRequired:"NO",tax:"",quantity:1}),Be=Object(i.a)(Le,2),Qe=Be[0],Me=Be[1],He=Object(r.useState)(0),Je=Object(i.a)(He,2),Ge=Je[0],We=Je[1],Ke=Object(r.useState)([]),ze=Object(i.a)(Ke,2),Ye=ze[0],Xe=ze[1],Ze=Object(r.useState)([]),$e=Object(i.a)(Ze,2),et=$e[0],tt=$e[1],nt=Object(r.useState)({tweet:"",reply:0}),st=Object(i.a)(nt,2),at=st[0],ct=st[1],it=Object(r.useState)([]),rt=Object(i.a)(it,2),ot=rt[0],lt=rt[1],dt=Object(j.c)((function(e){return e.EmpAuth.EmployeeData})),jt=Object(u.g)();Object(r.useEffect)((function(){var e=window.location.href.split("/").pop().split("id=").pop();o.a.post("/getpurchaseorderdetails",{pr_id:e,po_id:null}).then((function(t){fe(t.data[5]),me(t.data[4]),Ce(t.data[4][0].total),"Approved"===t.data[4][0].status&&"Delivered"===t.data[4][0].status&&"Waiting For Approval"===t.data[4][0].status||Xe(t.data[6]),Ue(!1),Pe(0),De(0),d()("select").val("NO"),Me({description:"",reason:"",price:0,taxRequired:"NO",tax:"",quantity:1}),d()(".ViewPrRequests .PR_printUI_Middle .PR_printUI_Grid.MyItems").removeClass("d-none"),We(parseInt(e)),ut(parseInt(e))})).catch((function(e){console.log(e)})),pt(),ht(),Ot(),bt()}),[window.location.href.split("/").pop().split("id=").pop()]),Object(r.useEffect)((function(){mt()}),[K,Z,ne,ie,de]),Object(r.useEffect)((function(){N.a.on("newpurchaserequision",(function(){pt()})),N.a.on("prdiscussions",(function(){ut(window.location.href.split("/").pop().split("id=").pop())}))}),[]);var ut=function(e){o.a.post("/getprdiscussion",{pr_id:e}).then((function(e){lt(e.data),setTimeout((function(){var e=document.getElementById("TweetContainer");e&&(e.scrollTop=e.scrollHeight)}),300)})).catch((function(e){console.log(e)}))},bt=function(){var e={emp_id:dt.emp_id,access:dt.access};o.a.post("/getmonthlyrequests",{myData:JSON.stringify(e)}).then((function(e){V(e.data)})).catch((function(e){console.log(e)}))},pt=function(){var e={emp_id:dt.emp_id,access:dt.access};o.a.post("/getallpr",{myData:JSON.stringify(e)}).then((function(e){R(e.data)})).catch((function(e){console.log(e)}))},mt=function(){var e={emp_id:dt.emp_id,access:dt.access},t=[K,Z,ne,ie,de];o.a.post("/getallprsorted",{myData:JSON.stringify(e),filters:t}).then((function(e){R(e.data);for(var t=[],n=0;n<e.data.length;n++)t.push(e.data[n].status);T(t)})).catch((function(e){console.log(e)}))},ht=function(){o.a.get("/getallcompanies").then((function(e){B(e.data)})).catch((function(e){console.log(e)}))},Ot=function(){o.a.get("/getalllocations").then((function(e){J(e.data)})).catch((function(e){console.log(e)}))},xt=function(e,t){var n=t.target.value;"Key"===e?z(Object(c.a)(Object(c.a)({},K),{},{value:n})):"Company"===e?$(Object(c.a)(Object(c.a)({},Z),{},{value:n})):"Location"===e?se(Object(c.a)(Object(c.a)({},ne),{},{value:n})):"Status"===e?re(Object(c.a)(Object(c.a)({},ie),{},{value:n})):je(Object(c.a)(Object(c.a)({},de),{},{value:n})),"Key"===e&&""===n?z(Object(c.a)(Object(c.a)({},K),{},{value:""})):"Company"===e&&""===n?$(Object(c.a)(Object(c.a)({},Z),{},{value:""})):"Location"===e&&""===n?se(Object(c.a)(Object(c.a)({},ne),{},{value:""})):"Status"===e&&""===n?re(Object(c.a)(Object(c.a)({},ie),{},{value:""})):"MyDate"===e&&""===n&&je(Object(c.a)(Object(c.a)({},de),{},{value:""}))},ft=function(e){"Viewed"!==pe[0].status&&"Sent"!==pe[0].status||(Ue(!0),Pe(e),De(xe[e].amount),Me(xe[e]),d()(".ViewPrRequests .PR_printUI_Middle .PR_printUI_Grid.MyItems"+e).toggleClass("d-none"))},vt=function(e){var t=e.target,n=t.name,s=t.value,i=Object(c.a)(Object(c.a)({},Qe),{},Object(a.a)({},n,s));if(Me(i),"price"===n){var r=s*Qe.quantity;De(r)}if("quantity"===n){var o=s*Qe.price;De(o)}if("taxRequired"===n){var l=document.getElementById("TAX");"YES"===s?l.disabled=!1:(Me(Object(c.a)(Object(c.a)({},Qe),{},{tax:""})),l.disabled=!0)}if("tax"===n){var d=Qe.price*Qe.quantity/100*s;De(d+Qe.price*Qe.quantity)}},gt=function(e){if(13===e.keyCode&&""!==Qe.description&&""!==Qe.reason&&Qe.quantity>0)if(Qe.reason.length<20){var t=d()(".err_reason").val(),n=0,a="Reason must contain 20 characters minimum!!!",c=50;t="",function e(){n<a.length&&(t+=a.charAt(n),d()(".err_reason").html(t),n++,setTimeout(e,c))}(),setTimeout((function(){d()(".err_reason").html("")}),5e3)}else if("YES"===Qe.taxRequired&&"0"===Qe.tax.toString())alert("tax required");else if(Fe){var i=xe,r={};r=Qe.id?{id:Qe.id,pr_id:Qe.pr_id,description:Qe.description,reason:Qe.reason,price:Qe.price,quantity:Qe.quantity,tax:Qe.tax,amount:Se}:{description:Qe.description,reason:Qe.reason,price:Qe.price,quantity:Qe.quantity,tax:Qe.tax,amount:Se},Ce(Ie-i[Ae].amount+Se),i[Ae]=r,fe(i),De(0),d()("select").val("NO"),Me({description:"",reason:"",price:0,taxRequired:"NO",tax:"",quantity:1}),Ue(!1),Pe(),d()(".ViewPrRequests .PR_printUI_Middle .PR_printUI_Grid.MyItems").removeClass("d-none")}else{var o={description:Qe.description,reason:Qe.reason,price:Qe.price,quantity:Qe.quantity,tax:Qe.tax,amount:Se};fe([].concat(Object(s.a)(xe),[o])),De(0),d()("select").val("NO"),Me({description:"",reason:"",price:0,taxRequired:"NO",tax:"",quantity:1});var l=Ie;Ce(l+=Se);var j=document.getElementById("ItemsLIst");null!==j&&(j.scrollTop=j.scrollHeight)}},wt=function(e){if("Viewed"===pe[0].status||"Sent"===pe[0].status){var t=xe.filter((function(t,n){return n===e}));Ne(t),fe(xe.filter((function(t,n){return n!==e}))),Ce(Ie-xe[e].amount)}},Nt=function(e){var t=new FileReader,n=e.target.files;t.onload=function(){if(2===t.readyState){for(var e=[],s=0;s<n.length;s++)e.push({name:n[s].name,file:n[s]});Xe(e)}},n[0]&&t.readAsDataURL(n[0])},yt=function(e){var t=[];t=Ye[0].image?Ye.filter((function(t,n,s){return s[n].image===s[e].image})):Ye.filter((function(t,n,s){return s[n].name===s[e].name})),tt(t)},_t=function(e){var t=Ye.filter((function(t,n,s){return s[n].name!==s[e].name}));Xe(t)},St=function(e){var t=e.target,n=t.name,s=t.value;ct("tweet"===n?{tweet:s,reply:0}:{tweet:s,reply:parseInt(n)})},Dt=function(e,t,n){e.preventDefault();var s=new Date;o.a.post("/prdiscussion",{pr_id:Ge,emp_id:dt.emp_id,body:t||at.tweet,reply:n||at.reply,date:s.toString()}).then((function(){d()("textarea").val(""),ct({tweet:"",reply:0}),n?N.a.emit("prsubdiscussions",n):0===at.reply?N.a.emit("prdiscussions"):N.a.emit("prsubdiscussions",at.reply),ut(window.location.href.split("/").pop().split("id=").pop())})).catch((function(e){console.log(e)}))},qt=function(e){if(JSON.parse(dt.access).includes(512)||JSON.parse(dt.access).includes(514)||JSON.parse(dt.access).includes(1)){var t=new FormData;t.append("prID",e),t.append("empID",dt.emp_id),o.a.post("/setprtoviewed",t).then((function(){N.a.emit("newpurchaserequision")})).catch((function(e){console.log(e)}))}},Rt=function(e){l(Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{children:"Do you want to discard this request?"}),Object(p.jsxs)("form",{onSubmit:function(t){return It(e,t)},children:[Object(p.jsx)("textarea",{style:{fontSize:"13px"},name:"remarks",className:"form-control mb-3",placeholder:"Add Remarks",required:!0,minLength:"10"}),Object(p.jsx)("button",{type:"submit",className:"btn btn-sm btn-danger d-block ml-auto px-3",children:"Yes"})]})]})),Tt()},It=function(e,t){t.preventDefault();var n=new FormData;n.append("prID",e),n.append("empID",dt.emp_id),n.append("remarks",t.target.remarks.value),o.a.post("/setprtodiscard",n).then((function(){var n=new FormData;n.append("eventID",3),n.append("link","/purchaserequisition/view=previousrequests/"+e),n.append("receiverID",pe[0].request_by),n.append("senderID",sessionStorage.getItem("EmpID")),n.append("Title",sessionStorage.getItem("name")),n.append("NotificationBody",sessionStorage.getItem("name")+" has discard your purchase request with id#"+e+" under this reason '"+t.target.remarks.value+"'"),o.a.post("/newnotification",n).then((function(){o.a.post("/sendmail",n).then((function(){N.a.emit("newpurchaserequision"),jt.replace("/purchaserequisition/view=purchase_requisition&&id="+(e-1)),setTimeout((function(){jt.replace("/purchaserequisition/view=purchase_requisition&&id="+e)}),100)}))})),D.b.dark("Request has been Discard",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),f(!1)})).catch((function(e){console.log(e)}))},Ct=function(e,t){t.preventDefault();var n=new FormData;n.append("prID",e),n.append("empID",dt.emp_id),n.append("remarks",t.target.remarks.value),o.a.post("/setprtoapprove",n).then((function(){f(!1),D.b.dark("Request has been approved".toString(),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=new FormData;t.append("eventID",3),t.append("receiverID",pe[0].request_by),t.append("senderID",sessionStorage.getItem("EmpID")),t.append("Title",sessionStorage.getItem("name")),t.append("NotificationBody",sessionStorage.getItem("name")+" has approved your purchase request with id#"+e),o.a.post("/newnotification",t).then((function(){o.a.post("/sendmail",t).then((function(){N.a.emit("newpurchaserequision"),jt.replace("/purchaserequisition/view=purchase_requisition&&id="+(e-1)),setTimeout((function(){jt.replace("/purchaserequisition/view=purchase_requisition&&id="+e)}),100)}))}))})).catch((function(e){console.log(e)}))},kt=function(e){for(var t=!0,n=0;n<xe.length;n++)""!==xe[n].description||""!==xe[n].reason||xe[n].quantity>0||(D.b.dark("Please fill all the fields in the items list",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t=!1,Tt());if(0===Ye.length&&(D.b.dark("Please attach at least 1 quotation",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t=!1,Tt()),t)if(xe.length>0){var s=new FormData;s.append("prID",e),s.append("Items",JSON.stringify(xe)),s.append("deletedItems",JSON.stringify(we)),s.append("Total",Ie),o.a.post("/setprtofinal",s).then((function(){var t=new FormData;t.append("prID",e),t.append("empID",dt.emp_id),Ye.forEach((function(e){t.append("Attachments",e.file)})),o.a.post("/setprtowaitforapproval",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){jt.replace("/purchaserequisition/view=purchase_requisition&&id="+(e-1)),setTimeout((function(){jt.replace("/purchaserequisition/view=purchase_requisition&&id="+e)}),100),fe([]),l(Object(p.jsx)(p.Fragment,{})),f(!1),Pe(),Ue(!1),Ce(0),De(0);var t=new FormData;t.append("eventID",3),t.append("receiverID",pe[0].request_by),t.append("senderID",sessionStorage.getItem("EmpID")),t.append("Title",sessionStorage.getItem("name")),t.append("NotificationBody",sessionStorage.getItem("name")+" has sent your purchase request with id#"+e+" for approval"),o.a.post("/newnotification",t).then((function(){o.a.post("/sendmail",t).then((function(){N.a.emit("NewNotification",pe[0].request_by),N.a.emit("newpurchaserequision")}))})),N.a.emit("newpurchaserequision");var n=JSON.stringify([513,514,515]),s=new FormData;s.append("access",n),o.a.post("/getemployeeaccesslike",s).then((function(t){if(t.data[0])for(var n=function(n){var s=new FormData;s.append("eventID",3),s.append("receiverID",t.data[n].emp_id),s.append("senderID",sessionStorage.getItem("EmpID")),s.append("Title",sessionStorage.getItem("name")),s.append("NotificationBody",sessionStorage.getItem("name")+" put forward a purchase request with id#"+e+" for approval"),o.a.post("/newnotification",s).then((function(){o.a.post("/sendmail",s).then((function(){}))}))},s=0;s<t.data.length;s++)n(s)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}else D.b.dark("one specification required",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t=!1,Tt()},Tt=function(){f(!x)},At=function(e,t){ct({tweet:e,reply:t});var n=document.createEvent("event");Dt(n,e,t)};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"ViewPrRequests",children:[Object(p.jsx)(y.a,{show:x,Hide:Tt,content:n}),Object(p.jsx)(D.a,{}),Object(p.jsx)("iframe",{title:"pr",id:"pr",className:"d-none w-100",src:"https://"+window.location.host+"/#/view=purchase_requisition/"+Ge}),Object(p.jsxs)("div",{className:"SearchnFilterDiv",children:[Object(p.jsxs)("div",{className:"searchdiv",children:[Object(p.jsx)("div",{children:Object(p.jsx)("i",{class:"las la-search"})}),Object(p.jsx)("input",{type:"text",placeholder:"Tap To Search",className:"form-control",onChange:function(e){return xt("Key",e)}})]}),Object(p.jsxs)("div",{className:"filterdiv",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{children:"Companies"}),Object(p.jsxs)("select",{name:"companies",id:"",onChange:function(e){xt("Company",e),""!==e.target.value?o.a.post("/getcompanylocations",{company_code:e.target.value}).then((function(e){J(e.data)})).catch((function(e){console.log(e)})):Ot()},className:"form-control",children:[Object(p.jsx)("option",{value:"",children:"Default"}),L.map((function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("option",{value:e.company_code,children:e.company_name})})}))]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{children:"Locations"}),Object(p.jsxs)("select",{onChange:function(e){xt("Location",e),Ot()},className:"form-control",children:[Object(p.jsx)("option",{value:"",children:"Default"}),H.map((function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("option",{value:e.location_code,children:e.location_name})})}))]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{children:"Status"}),Object(p.jsxs)("select",{onChange:function(e){return xt("Status",e)},className:"form-control",children:[Object(p.jsx)("option",{value:"",children:"Default"}),Object(p.jsx)("option",{value:"Approved",children:"Approved"}),Object(p.jsx)("option",{value:"Rejected",children:"Rejected"}),Object(p.jsx)("option",{value:"Waiting For Approval",children:"Waiting For Approval"}),Object(p.jsx)("option",{value:"Sent",children:"Sent"}),Object(p.jsx)("option",{value:"Viewed",children:"Viewed"})]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{children:"Date"}),Object(p.jsx)("input",{type:"date",onChange:function(e){return xt("MyDate",e)},className:"form-control",name:""})]})]})]}),Object(p.jsxs)("div",{className:"ViewPrRequests_grid",children:[Object(p.jsx)("div",{className:"ViewPrRequests_Left",children:q.map((function(e,t){var n=new Date(e.request_date);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(O,{data:e,date:n,ViewTheRequest:qt,EmpData:dt},t)})}))}),Object(p.jsxs)("div",{className:"ViewPrRequests_Right",children:[Object(p.jsxs)("div",{className:"previewWindow",children:[Object(p.jsx)(u.b,{exact:!0,path:"/purchaserequisition/home",render:function(){return Object(p.jsx)(m,{ViewRequest:q,CountRequests:q.length,CountStatus:k,MonthlyRequests:E,EmpData:dt})}}),Object(p.jsx)(u.b,{exact:!0,path:"/purchaserequisition/view=purchase_requisition&&id=:pr_id",render:function(){return Object(p.jsx)(g,{List:pe,Items:xe,Item:Qe,Total:Ie,Amount:Se,onChnageHandler:vt,AddItem:gt,OnEdit:ft,onDelete:wt})}}),Object(p.jsx)(u.b,{exact:!0,path:"/purchaserequisition/view=quotations&&id=:pr_id",render:function(){return Object(p.jsx)(w,{List:pe,AttachQuotations:Ye,QuotationPreview:et,onAttachQuotations:Nt,PreviewQuotation:yt,RemoveQuotation:_t})}}),Object(p.jsx)(u.b,{exact:!0,path:"/purchaserequisition/view=discussions&&id=:pr_id",render:function(){return Object(p.jsx)(S,{Tweets:ot,EmpData:dt,onTweetboxChange:St,onTweet:Dt,AttachDrive:At})}})]}),Object(p.jsx)("div",{className:"control",children:"home"!==window.location.href.split("/").pop()?Object(p.jsxs)("div",{className:"btn-group",children:[Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return jt.replace("/purchaserequisition/view=purchase_requisition&&id="+Ge)},children:"Purchase Requisition"}),Object(p.jsx)("button",{className:"btn btn-info",onClick:function(){return jt.replace("/purchaserequisition/view=quotations&&id="+Ge)},children:"Quotations"}),Object(p.jsx)("button",{className:"btn btn-light",onClick:function(){return jt.replace("/purchaserequisition/view=discussions&&id="+Ge)},children:"Discussions"}),Object(p.jsx)("button",{className:"btn btn-warning",onClick:function(){return function(e){var t=document.getElementById("pr");t.src="https://"+window.location.host+"/#/view=purchase_requisition/"+e,t.contentWindow.print()}(Ge)},children:"Print"}),(JSON.parse(dt.access).includes(513)||JSON.parse(dt.access).includes(515))&&pe[0]&&"Waiting For Approval"===pe[0].status?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{className:"btn btn-sm btn-danger",onClick:function(){return Rt(window.location.href.split("/").pop().split("id=").pop())},children:"Discard"}),Object(p.jsx)("button",{className:"btn btn-sm btn-success",onClick:function(){return e=window.location.href.split("/").pop().split("id=").pop(),l(Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{children:"Do you want to approve this request?"}),Object(p.jsxs)("form",{onSubmit:function(t){return Ct(e,t)},children:[Object(p.jsx)("textarea",{style:{fontSize:"13px"},name:"remarks",className:"form-control mb-3",placeholder:"Add Remarks",required:!0,minLength:"10"}),Object(p.jsx)("button",{type:"submit",className:"btn btn-sm btn-success d-block ml-auto px-3",children:"Yes"})]})]})),void Tt();var e},children:"Approve"})]}):null,pe[0]&&("Viewed"===pe[0].status||"Sent"===pe[0].status)&&dt.access&&(JSON.parse(dt.access).includes(512)||JSON.parse(dt.access).includes(514)||JSON.parse(dt.access).includes(1))?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{className:"btn btn-success",onClick:function(){return e=window.location.href.split("/").pop().split("id=").pop(),l(Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{children:"Do you want to forward this request?"}),Object(p.jsx)("button",{onClick:function(){return kt(e)},className:"btn btn-sm btn-info d-block ml-auto px-3",children:"Yes"})]})),void Tt();var e},children:"Forward"}),Object(p.jsx)("button",{className:"btn btn-danger",style:{backgroundColor:"red",color:"white"},onClick:function(){return Rt(window.location.href.split("/").pop().split("id=").pop())},children:"Discard"}),Object(p.jsx)("button",{className:"btn d-none onTweetBtn",onClick:function(e){return Dt(e)},children:"Tweet"})]}):null]}):null})]})]})]})})}},79:function(e,t,n){"use strict";n(1),n(80);var s=n(0);t.a=function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"Attandence_Request_Div",style:{display:e.show?"flex":"none"},children:[Object(s.jsx)("div",{className:"dark",onClick:e.Hide}),Object(s.jsx)("div",{style:{animationDelay:"0.1".toString()+"s"},className:e.show?"Attandence_Request_Div_Content Attandence_Request_Div_Content2":"Attandence_Request_Div_Content",children:e.content})]})})}},80:function(e,t,n){},82:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var s=n(18);var a=n(26);function c(e){return function(e){if(Array.isArray(e))return Object(s.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=15.6403d417.chunk.js.map