{"version":3,"sources":["Components/EmployeeProtal/Dashboard/Pages/Procurement/ViewPurchaseRequisition/Components/Home/Home.jsx","Components/EmployeeProtal/Dashboard/Pages/Procurement/ViewPurchaseRequisition/Components/Requests/Requests.jsx","Components/EmployeeProtal/Dashboard/Pages/Procurement/ViewPurchaseRequisition/Components/PurchaseRequisition/Logos/QFS-LOGO.PNG","Components/EmployeeProtal/Dashboard/Pages/Procurement/ViewPurchaseRequisition/Components/PurchaseRequisition/Logos/SBL-LOGO.PNG","Components/EmployeeProtal/Dashboard/Pages/Procurement/ViewPurchaseRequisition/Components/PurchaseRequisition/Logos/SEABOARD-SERVICES.PNG","Components/EmployeeProtal/Dashboard/Pages/Procurement/ViewPurchaseRequisition/Components/PurchaseRequisition/PurchaseRequisition.jsx","Components/EmployeeProtal/Dashboard/Pages/Procurement/ViewPurchaseRequisition/Components/Quotations/Quotations.jsx","Components/EmployeeProtal/Dashboard/Pages/Procurement/ViewPurchaseRequisition/Components/Discussions/Drive/Drive.jsx","Components/EmployeeProtal/Dashboard/Pages/Procurement/ViewPurchaseRequisition/Components/Discussions/Discussions.jsx","Components/EmployeeProtal/Dashboard/Pages/Procurement/ViewPurchaseRequisition/ViewPurchaseRequisition.jsx","Components/UI/Modal/Modal.jsx","../node_modules/webpack/buildin/module.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"names":["Home","props","useState","ChartData","setChartData","MonthlyRequests","setMonthlyRequests","RequestsSplit","setRequestsSplit","MinMax","setMinMax","EmpData","setEmpData","TotalValue","setTotalValue","useEffect","count","rejected","approved","waiting","sent","viewed","x","CountStatus","length","push","labels","datasets","label","data","backgroundColor","arr","companies","ViewRequest","includes","company_name","filter","val","total","parseFloat","company","ReactTooltip","rebuild","className","CountRequests","Object","keys","access","JSON","parse","toLocaleString","width","height","map","index","style","fontSize","display","marginRight","Math","max","min","totalCount","percent","month","Requests","bgColor","txt","status","forward_by","department_code","src","emp_image","alt","name","designation_name","department_name","date","toDateString","class","location_name","onClick","ViewTheRequest","pr_id","to","key","PurchaseRequisition","Items","setItems","List","d1","request_date","Date","d2","approve_date","d3","view_date","d4","discard_date","title","id","window","location","host","QFS","SBS","SBL","pr_company_name","pr_code","onDoubleClick","OnEdit","onContextMenu","onDelete","description","reason","quantity","price","taxRequired","tax","amount","onChange","onChnageHandler","onKeyDown","AddItem","value","Item","type","placeholder","pattern","disabled","Amount","Total","discard_emp_name","sender_name","handle_emp_name","emp_approve_name","Quotations","AttachQuotations","setAttachQuotations","setList","QuotationPreview","setQuotationPreview","onAttachQuotations","multiple","accept","for","backgroundImage","image","URL","createObjectURL","file","PreviewQuotation","RemoveQuotation","Drive","Data","setData","AttachDrive","Discussions","Show","setShow","ReplyTo","setReplyTo","DriveContent","setDriveContent","Tweets","setTweets","SubTweets","setSubTweets","Employees","setEmployees","added","emp_id","designation","department","socket","on","OpenReplyBox","condition","axios","post","chat_id","then","res","undefined","$","not","hide","toggle","catch","err","console","log","AttachDriveDocs","ShowHide","Modal","show","Hide","content","body","onSubmit","onTweet","onTweetboxChange","required","d","split","time","e","preventDefault","setTimeout","ModalContent","setModalContent","ModalShow","setModalShow","setViewRequest","setCountStatus","Companies","setCompanies","Locations","setLocations","column","Key","setKey","Company","setCompany","Location","setLocation","Status","setStatus","MyDate","setMyDate","DeletedItems","setDeletedItems","setAmount","setTotal","Index","setIndex","EditMode","setEditMode","setItem","PRID","setPRID","tweet","reply","Tweet","setTweet","useSelector","state","EmpAuth","EmployeeData","history","useHistory","href","pop","po_id","removeClass","parseInt","GetDiscussions","AllPr","AllCompanies","AllLocations","GetMonthlyRequests","SortedPr","objDiv","document","getElementById","scrollTop","scrollHeight","myData","stringify","response","error","filters","get","onSearchPR","target","toggleClass","onChangeHandler","input","keyCode","i","speed","typeWriter","charAt","html","toString","alert","cart","t","reader","FileReader","files","onload","readyState","readAsDataURL","array","emit","Data2","FormData","append","onDiscard","prID","DiscardRequest","minLength","HideModelFunction","request_by","sessionStorage","getItem","replace","toast","dark","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","ApproveRequest","ForwardRequest","pass","y","forEach","headers","list","Data3","createEvent","company_code","location_code","cl","exact","path","render","iframe","contentWindow","print","Print","color","animationDelay","module","exports","webpackPolyfill","deprecate","paths","children","defineProperty","enumerable","l","_toConsumableArray","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError"],"mappings":"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","file":"static/js/15.63c77b6f.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nimport './Home.css';\r\nimport { Pie } from 'react-chartjs-2';\r\nimport ReactTooltip from 'react-tooltip';\r\n\r\nconst Home = (props) => {\r\n\r\n    const [ChartData, setChartData] = useState({});\r\n    const [MonthlyRequests, setMonthlyRequests] = useState([]);\r\n    const [RequestsSplit, setRequestsSplit] = useState([]);\r\n\r\n    const [MinMax, setMinMax] = useState([]);\r\n    const [EmpData, setEmpData] = useState({});\r\n    \r\n    const [TotalValue, setTotalValue] = useState(0.00);\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            // IMPORTANT VARIABLES\r\n            let count = [];\r\n            let rejected = 0;\r\n            let approved = 0;\r\n            let waiting = 0;\r\n            let sent = 0;\r\n            let viewed = 0;\r\n\r\n            // FOR REJECTED\r\n            for (let x = 0; x < props.CountStatus.length; x++) {\r\n\r\n                if (props.CountStatus[x] === 'Rejected') {\r\n                    rejected = rejected + 1;\r\n                }\r\n\r\n            }\r\n\r\n            // FOR APPROVED\r\n            for (let x = 0; x < props.CountStatus.length; x++) {\r\n\r\n                if (props.CountStatus[x] === 'Approved') {\r\n                    approved = approved + 1;\r\n                }\r\n\r\n            }\r\n\r\n            // FOR WAITING\r\n            for (let x = 0; x < props.CountStatus.length; x++) {\r\n\r\n                if (props.CountStatus[x] === 'Waiting For Approval') {\r\n                    waiting = waiting + 1;\r\n                }\r\n\r\n            }\r\n\r\n            // FOR SENT\r\n            for (let x = 0; x < props.CountStatus.length; x++) {\r\n\r\n                if (props.CountStatus[x] === 'Sent') {\r\n                    sent = sent + 1;\r\n                }\r\n\r\n            }\r\n\r\n            // FOR VIEWED\r\n            for (let x = 0; x < props.CountStatus.length; x++) {\r\n\r\n                if (props.CountStatus[x] === 'Viewed') {\r\n                    viewed = viewed + 1;\r\n                }\r\n\r\n            }\r\n\r\n            count.push(\r\n                rejected,\r\n                approved,\r\n                waiting,\r\n                sent,\r\n                viewed\r\n            )\r\n\r\n            setChartData(\r\n                {\r\n                    labels: ['Rejected', 'Approved', 'Waiting For Approval', 'Sent', 'Viewed'],\r\n                    datasets: [\r\n                        {\r\n                            label: 'Requests for the year',\r\n                            data: count,\r\n                            backgroundColor: [\r\n                                '#DC3545',\r\n                                '#28A745',\r\n                                '#FFC107',\r\n                                '#17A2B8',\r\n                                '#007BFF'\r\n                            ]\r\n                        }\r\n                    ]\r\n                }\r\n            );\r\n\r\n\r\n        }, [props.CountStatus]\r\n    );\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            setMonthlyRequests(props.MonthlyRequests);\r\n            let arr = [];\r\n\r\n            for ( let x = 0; x < props.MonthlyRequests.length; x++ )\r\n            {\r\n                arr.push( props.MonthlyRequests[x].count );\r\n            }\r\n\r\n            setMinMax( arr );\r\n\r\n        }, [props.MonthlyRequests]\r\n    )\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            let companies = [];\r\n            let data = [];\r\n            for ( let x = 0; x < props.ViewRequest.length; x++ )\r\n            {\r\n                if ( !companies.includes( props.ViewRequest[x].company_name ) )\r\n                {\r\n                    companies.push( props.ViewRequest[x].company_name );\r\n                }\r\n            }\r\n\r\n            for ( let x = 0; x < companies.length; x++ )\r\n            {\r\n                let arr = props.ViewRequest.filter(\r\n                    ( val ) => {\r\n\r\n                        return val.company_name === companies[x];\r\n\r\n                    }\r\n                );\r\n\r\n                let total = 0.00;\r\n                for( let x = 0; x < arr.length; x++ )\r\n                {\r\n\r\n                    total = total + parseFloat( arr[x].total );\r\n\r\n                }\r\n\r\n                data.push(\r\n                    {\r\n                        company: companies[x],\r\n                        count: arr.length,\r\n                        total: total\r\n                    }\r\n                )\r\n            }\r\n\r\n            setRequestsSplit( data );\r\n\r\n            let total = 0.00;\r\n            for( let x = 0; x < props.ViewRequest.length; x++ )\r\n            {\r\n\r\n                total = total + parseFloat( props.ViewRequest[x].total );\r\n\r\n            }\r\n\r\n            setTotalValue( total );\r\n\r\n        }, [ props.ViewRequest ]\r\n    )\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            setEmpData( props.EmpData );\r\n\r\n        }, [ props.EmpData ]\r\n    )\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            ReactTooltip.rebuild();\r\n\r\n        }\r\n    )\r\n\r\n    return (\r\n        <div className=\"Home\">\r\n            <ReactTooltip />\r\n            <div className=\"three\">\r\n                <div className=\"Calculate px-4\">\r\n                    <small className=\"text-secondary\">Total Requests</small>\r\n                    <h3 className=\"font-weight-bolder\">\r\n                        {props.CountRequests} <small className=\"text-secondary\">Received</small>\r\n                    </h3>\r\n                    {\r\n                        Object.keys(EmpData).length === 0\r\n                        ?\r\n                        null\r\n                        :\r\n                        EmpData.access ? JSON.parse(EmpData.access).includes(522) || JSON.parse(EmpData.access).includes(1)\r\n                        ?\r\n                            <>\r\n                                <small className=\"text-secondary\">Total Value Rs</small>\r\n                                <h3 className=\"font-weight-bolder\">\r\n                                    { TotalValue.toLocaleString('en-US') } <small className=\"text-secondary\">Estimated</small>\r\n                                </h3>\r\n                            </>\r\n                            :\r\n                            null\r\n                        :\r\n                        null\r\n                    }\r\n                </div>\r\n                <div className=\"RequestStatusChart\">\r\n                    <Pie\r\n                        width='100%'\r\n                        height='100px'\r\n                        data={ChartData}\r\n                    />\r\n                </div>\r\n                <div className=\"RequestStatusChart py-4 px-3\">\r\n                    {\r\n                        RequestsSplit.map(\r\n                            ( val, index ) => {\r\n\r\n                                return (\r\n                                    <div \r\n                                        className=\" mb-3\"\r\n                                        style={\r\n                                            {\r\n                                                fontSize: '13px'\r\n                                            }\r\n                                        }\r\n                                        key={ index }\r\n                                    >\r\n                                        <div className=\"font-weight-bold\">\r\n                                            {\r\n                                                val.company\r\n                                            }: \r\n                                        </div>\r\n                                        <div className=\"d-flex align-items-center justify-content-between\"> \r\n                                            <div>\r\n                                                {\r\n                                                    val.count\r\n                                                } <sub>Requests</sub>\r\n                                            </div>\r\n                                            <div>\r\n                                                PKR \r\n                                                <span className=\"ml-2\">\r\n                                                    {\r\n                                                        val.total\r\n                                                    } /-\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n\r\n                            }\r\n                        )\r\n                    }\r\n                </div>\r\n            </div>\r\n            {/* <div className=\"graph\">\r\n                <div className='Heading'> <h4> Monthly Requests </h4> </div>\r\n                {\r\n                    MonthlyRequests.map(\r\n                        (val, index) => {\r\n\r\n                            let totalCount = 0;\r\n                            for (let x = 0; x < MonthlyRequests.length; x++) {\r\n                                totalCount = totalCount + MonthlyRequests[x].count;\r\n                            }\r\n\r\n                            let percent = (val.count / totalCount) * 85;\r\n\r\n                            return (\r\n                                <div\r\n                                    style={\r\n                                        {\r\n                                            height: percent + '%'\r\n                                        }\r\n                                    }\r\n                                    className='GraphItem'\r\n                                    data-tip={val.month + ' ' + val.year} key={index}\r\n                                >\r\n                                    <div> {val.count} </div>\r\n                                </div>\r\n                            )\r\n\r\n                        }\r\n                    )\r\n                }\r\n            </div> */}\r\n            <div className=\"ViewPrRequests_graph\">\r\n                <div className=\"border-bottom mb-3\"><h4>Monthly Requests</h4></div>\r\n                <div className=\"d-flex\">\r\n                    <div style={{ display: \"grid\", marginRight: \"10px\" }} >\r\n                        <p className=\"font-weight-bolder\">{Math.max(...MinMax)}</p>\r\n                        <p className=\"d-flex align-items-end font-weight-bolder\">{Math.min(...MinMax)}</p>\r\n                    </div>\r\n                    <div className=\"ViewPrRequests_graphdiv\">\r\n                        <div className=\"graph_data \">\r\n                            <div className=\"Graph_Bargrid\">\r\n                                {\r\n                                    MonthlyRequests.map(\r\n                                        (val, index) => {\r\n\r\n                                            let totalCount = 0;\r\n\r\n                                            for (let x = 0; x < MonthlyRequests.length; x++) {\r\n                                                totalCount = totalCount + MonthlyRequests[x].count;\r\n                                            }\r\n\r\n                                            let percent = (val.count / totalCount) * 100;\r\n\r\n                                            return (\r\n                                                <>\r\n                                                    <div key={ index } className=\"graphbar\" style={{ height: percent + '%' }}>\r\n                                                        <div className=\"tooltip\">{val.count} Requests</div>\r\n                                                    </div>\r\n                                                </>\r\n                                            )\r\n                                        }\r\n                                    )\r\n                                }\r\n                            </div>\r\n                            <div className=\"Graph_monthgrid\">\r\n                                {\r\n                                     MonthlyRequests.map(\r\n                                        (val, index) => {\r\n\r\n                                            return (\r\n                                                <>\r\n                                                    <div key={ index }>{val.month}</div>\r\n                                                </>\r\n                                            )\r\n                                        }\r\n                                    )\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"graphyear\">\r\n                    2022\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;","import React from \"react\";\r\n\r\nimport './Requests.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Requests = ( props ) => {\r\n\r\n    let bgColor = '#0eb8de';\r\n    let txt = props.data.status;\r\n\r\n    if (props.data.status === 'Approved' || props.data.status === 'Delivered') {\r\n        bgColor = '#307365';\r\n        txt = \"Approved By accounts\";\r\n    }\r\n    if (props.data.status === 'Rejected') {\r\n        bgColor = '#d19399';\r\n        if ( props.data.forward_by === null )\r\n        {\r\n            txt = \"Rejected by inventory\";\r\n        }\r\n        else\r\n        {\r\n            txt = \"Rejected by accounts\";\r\n        }\r\n    }\r\n    if (props.data.status === 'Waiting For Approval') {\r\n        bgColor = '#fc9701';\r\n        if ( props.EmpData.department_code !== 1 ) // DEPARTMENT IS NOT ACCOUNTS\r\n        {\r\n            txt = \"Transferred to accounts\";\r\n        }else\r\n        if ( props.EmpData.department_code === 1 ) // DEPARTMENT IS NOT ACCOUNTS\r\n        {\r\n            txt = \"Received\";\r\n        }\r\n    }\r\n    if ( props.data.status === \"Sent\" )\r\n    {\r\n        if ( props.EmpData.department_code !== 1 ) // DEPARTMENT IS NOT ACCOUNTS\r\n        {\r\n            txt = \"Received\";\r\n        }else\r\n        if ( props.EmpData.department_code === 1 ) // DEPARTMENT IS NOT ACCOUNTS\r\n        {\r\n            txt = \"Received at inventory\";\r\n        }\r\n    }\r\n    if ( props.data.status === \"Viewed\" )\r\n    {\r\n        if ( props.EmpData.department_code === 1 ) // DEPARTMENT IS NOT ACCOUNTS\r\n        {\r\n            txt = \"Viewed at inventory\";\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"ViewPrRequests_div\" key={ props.key }>\r\n            <div className=\"d-flex align-items-center justify-content-between\">\r\n                <div className=\"d-flex align-items-center w-75\">\r\n                    <img src={'images/employees/' + props.data.emp_image} alt=\"\" />\r\n                    <div>\r\n                        <p className=\"font-weight-bolder\"> {props.data.name} </p>\r\n                        <p> {props.data.designation_name + ' in ' + props.data.department_name + ' Department, ' + props.data.company_name} </p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"w-25\">\r\n                    <p className=\"font-weight-bolder\">Total</p>\r\n                    <p> Rs {props.data.total.toLocaleString('en-US')}</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"py-3\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <div>\r\n                        <p className=\"font-weight-bolder\">Date</p>\r\n                        <p>{props.date.toDateString()}</p>\r\n                    </div>\r\n                    <div>\r\n                        <p className=\"font-weight-bolder\">Status</p>\r\n                        <p style={ { backgroundColor: bgColor, fontSize: '10px' } } className=\"text-white text-center rounded-pill px-2\">{ txt }</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"d-flex align-items-center\">\r\n                <i class=\"las la-map-marker-alt\"></i>\r\n                <div>\r\n                    <p className=\"font-weight-bolder\">{props.data.company_name}</p>\r\n                    <p>{props.data.location_name}</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"ViewPrRequests_button\" onClick={ () => props.ViewTheRequest( props.data.pr_id ) }>\r\n                {/* <button className=\"btn\">Decline</button> */}\r\n                <Link className=\"btn\" to={ \"/purchaserequisition/view=purchase_requisition&&id=\" + props.data.pr_id }>\r\n                    View\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Requests;","export default __webpack_public_path__ + \"static/media/QFS-LOGO.a4ccc54a.PNG\";","export default __webpack_public_path__ + \"static/media/SBL-LOGO.3e8ecf8d.PNG\";","export default __webpack_public_path__ + \"static/media/SEABOARD-SERVICES.b1cc0596.PNG\";","import React, { useEffect, useState } from 'react';\r\n\r\nimport './PurchaseRequisition.css';\r\n\r\nimport QFS from './Logos/QFS-LOGO.PNG';\r\nimport SBL from './Logos/SBL-LOGO.PNG';\r\nimport SBS from './Logos/SEABOARD-SERVICES.PNG';\r\n\r\nconst PurchaseRequisition = (props) => {\r\n\r\n    const [ Items, setItems ] = useState([]);\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            setItems( props.Items )\r\n\r\n        }, [ props.Items ]\r\n    )\r\n\r\n    return (\r\n        <>\r\n            {\r\n                props.List.map(\r\n                    (val, index) => {\r\n\r\n                            const d1 = val.request_date === null ? null :  new Date( val.request_date );\r\n                            const d2 = val.approve_date === null ? null :  new Date( val.approve_date );\r\n                            const d3 = val.view_date === null ? null :  new Date( val.view_date );\r\n                            const d4 = val.discard_date === null ? null :  new Date( val.discard_date );\r\n\r\n                        return (\r\n                            <>\r\n                                <iframe \r\n                                    title=\"pr\" \r\n                                    id=\"pr\" \r\n                                    className=\"d-none w-100\"\r\n                                    src={ 'https://' + window.location.host + '/#/view=purchase_requisition/' + val.pr_id }\r\n                                >\r\n                                </iframe>\r\n                                <div className=\"PR_printUIView\">\r\n                                    <div className=\"PR_printUI_Div\">\r\n                                        <h1 className=\" font-weight-bolder text-center\">Seaboard Group</h1>\r\n                                        <div className=\"PR_printUI_Logos\">\r\n                                            <div><img src={QFS} alt=\"QFS Logo\" /></div>\r\n                                            <div><img src={SBS} alt=\"SBS Logo\" /></div>\r\n                                            <div><img src={SBL} alt=\"SBL Logo\" /></div>\r\n                                        </div>\r\n                                        <h3 className=\"font-weight-bolder text-center\" >Purchase Requisition</h3>\r\n                                        <div className=\"PR_printUI_Top mt-5\">\r\n                                            <div>\r\n                                                <div className=\"PR_printUI_Top_select mb-2\">\r\n                                                    <div className=\"d-flex align-items-center\"><p className=\"font-weight-bolder\">Comapny Name : </p></div>\r\n                                                    <div>\r\n                                                        <p>{val.pr_company_name}</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"PR_printUI_Top_select\">\r\n                                                    <div className=\"d-flex align-items-center\"><p className=\"font-weight-bolder mr-3\">Delivery / Work Location : </p></div>\r\n                                                    <div>\r\n                                                        <p>{val.location_name}</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div>\r\n                                                <div className=\"PR_printUI_Top_select mb-2\">\r\n                                                    <div className=\"d-flex align-items-center mr-3\"><p className=\"font-weight-bolder\">PR Number  </p></div>\r\n                                                    <div><p>{ val.pr_code }</p></div>\r\n                                                </div>\r\n                                                <div className=\"PR_printUI_Top_select\">\r\n                                                    <div className=\"d-flex align-items-center mr-3\"><p className=\"font-weight-bolder\"> Date </p></div>\r\n                                                    <div><p>{ d1 === null ? null : d1.toDateString() }</p></div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"PR_printUI_Middle\">\r\n                                            <div className=\"PR_printUI_Grid\" style={{ backgroundColor: \"rgb(243, 243, 243)\" }}>\r\n                                                <div><p className=\"font-weight-bolder\">No</p></div>\r\n                                                <div><p className=\"font-weight-bolder\">Description <sub className='d-block'>(include specification required)</sub> </p></div>\r\n                                                <div><p className=\"font-weight-bolder\">Reason</p></div>\r\n                                                <div><p className=\"font-weight-bolder\">Quantity</p></div>\r\n                                                <div><p className=\"font-weight-bolder\" >Estimated Cost <sub>(PKR)</sub> </p></div>\r\n                                                <div><p className=\"font-weight-bolder\" >Tax <sub>Required ?</sub> </p></div>\r\n                                                <div><p className=\"font-weight-bolder\" >Tax %</p></div>\r\n                                                <div><p className=\"font-weight-bolder\">Total Cost</p></div>\r\n                                            </div>\r\n                                            {\r\n                                                Items.map(\r\n                                                    (val, index) => {\r\n\r\n                                                        return (\r\n\r\n                                                            <div \r\n                                                                className={ \"PR_printUI_Grid MyItems MyItems\" + index } \r\n                                                                key={index} \r\n                                                                onDoubleClick={ () => props.OnEdit( index ) } \r\n                                                                onContextMenu={() => props.onDelete(index)}\r\n                                                            >\r\n                                                                <div> <p> {index + 1} </p>  </div>\r\n                                                                <div> <p> {val.description} </p></div>\r\n                                                                <div> <p> {val.reason} </p></div>\r\n                                                                <div> <p> {val.quantity} </p> </div>\r\n                                                                <div> <p> {val.price} </p> </div>\r\n                                                                <div> <p> {val.taxRequired} </p> </div>\r\n                                                                <div> <p> {val.tax} </p> </div>\r\n                                                                <div> <p> {'Rs ' + val.amount.toLocaleString('en-US')} </p> </div>\r\n                                                            </div>\r\n\r\n                                                        )\r\n\r\n                                                    }\r\n                                                )\r\n                                            }\r\n                                            {\r\n                                                val.status === 'Viewed'\r\n                                                ||\r\n                                                val.status === 'Sent'\r\n                                                ?\r\n                                                <>\r\n                                                    <div key={index} className=\"PR_printUI_Grid insertion\">\r\n                                                        <div className=\"d-flex align-items-center justify-content-center\"><p>{props.Items.length + 1}</p></div>\r\n                                                        <div>\r\n                                                            <textarea\r\n                                                                className=\"form-control\"\r\n                                                                onChange={props.onChnageHandler}\r\n                                                                onKeyDown={props.AddItem}\r\n                                                                value={props.Item.description}\r\n                                                                name=\"description\"\r\n                                                            />\r\n                                                        </div>\r\n                                                        <div>\r\n                                                            <textarea\r\n                                                                className=\"form-control\"\r\n                                                                onChange={props.onChnageHandler}\r\n                                                                onKeyDown={props.AddItem}\r\n                                                                value={props.Item.reason}\r\n                                                                name=\"reason\"\r\n                                                            />\r\n                                                            <p className=\"err_reason text-danger\"></p>\r\n                                                        </div>\r\n                                                        <div>\r\n                                                            <input\r\n                                                                type=\"text\"\r\n                                                                className=\"form-control\"\r\n                                                                placeholder=\"0\"\r\n                                                                onChange={props.onChnageHandler}\r\n                                                                onKeyDown={props.AddItem}\r\n                                                                value={props.Item.quantity}\r\n                                                                pattern=\"[0-9]+\"\r\n                                                                name=\"quantity\"\r\n                                                            />\r\n                                                        </div>\r\n                                                        <div>\r\n                                                            <input\r\n                                                                type=\"text\"\r\n                                                                className=\"form-control\"\r\n                                                                placeholder=\"0\"\r\n                                                                onChange={props.onChnageHandler}\r\n                                                                onKeyDown={props.AddItem}\r\n                                                                value={props.Item.price}\r\n                                                                pattern=\"[0-9]+\"\r\n                                                                name=\"price\"\r\n                                                            />\r\n                                                        </div>\r\n                                                        <div>\r\n                                                            <select\r\n                                                                type=\"text\"\r\n                                                                className=\"form-control\"\r\n                                                                placeholder=\"0\"\r\n                                                                onChange={props.onChnageHandler}\r\n                                                                name=\"taxRequired\"\r\n                                                            >\r\n                                                                <option value=\"NO\">No</option>\r\n                                                                <option value=\"YES\">YES</option>\r\n                                                            </select>\r\n                                                        </div>\r\n                                                        <div>\r\n                                                            <input\r\n                                                                type=\"text\"\r\n                                                                className=\"form-control\"\r\n                                                                placeholder=\"0\"\r\n                                                                onChange={props.onChnageHandler}\r\n                                                                onKeyDown={props.AddItem}\r\n                                                                value={props.Item.tax}\r\n                                                                name=\"tax\"\r\n                                                                id=\"TAX\"\r\n                                                                disabled\r\n                                                            />\r\n                                                        </div>\r\n                                                        <div>\r\n                                                            <input\r\n                                                                type=\"text\"\r\n                                                                className=\"form-control\"\r\n                                                                placeholder=\"0\"\r\n                                                                value={'Rs ' + props.Amount.toLocaleString('en-US')}\r\n                                                                pattern=\"[0-9]+\"\r\n                                                                name=\"itemAmount\"\r\n                                                                disabled\r\n                                                            />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </>\r\n                                                :\r\n                                                null\r\n                                            }\r\n                                            <div className=\"PR_printUI_Grid\">\r\n                                                <div></div>\r\n                                                <div style={{ backgroundColor: \"rgb(243, 243, 243)\" }}><p className=\"font-weight-bolder text-right mr-2\">Total :</p></div>\r\n                                                <div></div>\r\n                                                <div></div>\r\n                                                <div></div>\r\n                                                <div></div>\r\n                                                <div></div>\r\n                                                <div><p>{'Rs ' + props.Total.toLocaleString('en-US')}</p></div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"w-100\">\r\n                                            <div className=\"PR_printUI_Remarks mt-4\" style={{ backgroundColor: \"rgb(243, 243, 243)\" }}>\r\n                                                <div className=\"DIVS\" ><p className=\"font-weight-bolder\">Sumbitted By</p></div>\r\n                                                <div className=\"DIVS\" ><p className=\"font-weight-bolder\">Submitted To</p></div>\r\n                                                {\r\n                                                    val.discard_emp_name === null\r\n                                                    ?\r\n                                                    <div className=\"DIVS\" ><p className=\"font-weight-bolder\">Approved By</p></div>\r\n                                                    :\r\n                                                    <div className=\"DIVS\" ><p className=\"font-weight-bolder\">Discard By</p></div>\r\n                                                }\r\n                                            </div>\r\n                                            <div className=\"PR_printUI_Remarks PR_printUI_Remark\">\r\n                                                <div>\r\n                                                    <div className=\"DIVS\" ><p className=\"font-weight-bolder \">Name : </p><p>{val.sender_name}</p></div>\r\n                                                    <div className=\"DIVS\" ><p className=\"font-weight-bolder\">Date : </p><p>{ d1 === null ? null : d1.toDateString() }</p></div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div className=\"DIVS\" ><p className=\"font-weight-bolder\">Name : </p><p>{val.handle_emp_name}</p></div>\r\n                                                    <div className=\"DIVS\" ><p className=\"font-weight-bolder\">Date : </p><p> { d3 === null ? null : d3.toDateString() } </p></div>\r\n                                                </div>\r\n                                                {\r\n                                                    val.discard_emp_name === null\r\n                                                    ?\r\n                                                    <div>\r\n                                                        <div className=\"DIVS\" ><p className=\"font-weight-bolder\">Name : </p><p>{val.emp_approve_name}</p></div>\r\n                                                        <div className=\"DIVS\" ><p className=\"font-weight-bolder\">Date : </p><p> { d2 === null ? null : d2.toDateString() } </p></div>\r\n                                                    </div>\r\n                                                    :\r\n                                                    <div>\r\n                                                        <div className=\"DIVS\" ><p className=\"font-weight-bolder\">Name : </p><p>{val.discard_emp_name}</p></div>\r\n                                                        <div className=\"DIVS\" ><p className=\"font-weight-bolder\">Date : </p><p> { d4 === null ? null : d4.toDateString() } </p></div>\r\n                                                    </div>\r\n                                                }\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </>\r\n                        )\r\n                    }\r\n                )\r\n            }\r\n        </>\r\n    )\r\n}\r\nexport default PurchaseRequisition;","import React, { useEffect, useState } from 'react';\r\n\r\n// IMPORT CSS\r\nimport './Quotations.css';\r\n\r\nconst Quotations = ( props ) => {\r\n\r\n    const [ AttachQuotations, setAttachQuotations ] = useState([]); // FOR ATTACH QUOTATIONS\r\n    const [ List, setList ] = useState([]); // FOR ATTACH QUOTATIONS\r\n    const [ QuotationPreview, setQuotationPreview ] = useState([]); // FOR QUOTATION PREVIEW\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            setAttachQuotations( props.AttachQuotations );\r\n            setQuotationPreview( props.QuotationPreview );\r\n            setList( props.List );\r\n\r\n        }, [ props.AttachQuotations, props.QuotationPreview, props.List ]\r\n    )\r\n\r\n    return (\r\n        <div className=\"AttachedQuotations\">\r\n\r\n            {/* FOR ATTACH QUOTATIONS */}\r\n            <div className=\"Attach\">\r\n            {\r\n            List[0]\r\n            ?\r\n            List[0].status === 'Viewed' || List[0].status === 'Sent'\r\n            ?\r\n            <>\r\n                <input type=\"file\" onChange={ props.onAttachQuotations } name=\"attachments\" className=\"d-none\" id=\"upload-quotations\" multiple accept=\"image/*\" />\r\n                <label className='label'> UPLOAD QUOTATIONS </label>\r\n                <label className=\"AttachContent\" for=\"upload-quotations\">\r\n                    <div>\r\n                        <i className=\"las la-file\"></i>\r\n                        <p>Upload Quotations in image format</p>\r\n                    </div>\r\n                </label>\r\n            </>\r\n            :\r\n            null\r\n            :\r\n            null\r\n            }\r\n            </div>\r\n            \r\n            {/* FOR ATTACHMENT PREVIEW */}\r\n            <div className=\"AttachmentPreview\">\r\n                <label className='label'> QUOTATIONS PREVIEW </label>\r\n                <div className=\"Preview\"\r\n                    style={\r\n                        {\r\n                            backgroundImage: \"url('\" + ( QuotationPreview.length > 0 ? QuotationPreview[0].image ? ( 'images/Inventory/pr_attachments/' + QuotationPreview[0].image ) : URL.createObjectURL( QuotationPreview[0].file ) : null ) + \"')\"\r\n                        }\r\n                    }\r\n                >\r\n                    {\r\n                        QuotationPreview.length === 0\r\n                        ?\r\n                        <p>No Quotation Selected</p>\r\n                        :\r\n                        null\r\n                    }\r\n                </div>\r\n            </div>\r\n            \r\n            {/* QUOTATIONS */}\r\n            <div className=\"QuotationsList\">\r\n                {\r\n                    AttachQuotations.map(\r\n                        ( val, index ) => {\r\n\r\n                            let image;\r\n                            if ( val.image )\r\n                            {\r\n                                image = 'images/Inventory/pr_attachments/' + val.image;\r\n                            }else\r\n                            {\r\n                                image = URL.createObjectURL( val.file )\r\n                            }\r\n\r\n                            return(\r\n\r\n                                <div className=\"QuotationItem\" key={ index }>\r\n                                    <div className=\"thumbnail\"\r\n                                        style={\r\n                                            {\r\n                                                backgroundImage: \"url('\" + image + \"')\"\r\n                                            }\r\n                                        }\r\n                                    ></div>\r\n                                    <div className=\"d-flex justify-content-between flex-column\">\r\n                                        <p className=\"font-weight-bold\">IMage1.jpg</p>\r\n                                        <div className=\"btn-group\">\r\n                                            <button className='btn btn-sm btn-light' onClick={ () => props.PreviewQuotation( index ) }>View</button>\r\n                                            {\r\n                                                List[0]\r\n                                                ?\r\n                                                List[0].status === 'Viewed' || List[0].status === 'Sent'\r\n                                                ?\r\n                                                <>\r\n                                                    <button className='btn btn-sm btn-light' onClick={ () => props.RemoveQuotation( index ) }>Remove</button>\r\n                                                </>\r\n                                                :\r\n                                                null\r\n                                                :\r\n                                                null\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            )\r\n\r\n                        }\r\n                    )\r\n                }\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Quotations;","import React, { useEffect, useState } from 'react';\r\n\r\nimport './Drive.css';\r\n\r\nconst Drive = ( props ) => {\r\n\r\n    const [ Data, setData ] = useState([]);\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            setData( props.data );\r\n\r\n        }, [ props.data ]\r\n    )\r\n\r\n    return (\r\n        <div className=\"DicussionDrive\">\r\n            {\r\n                Data.map(\r\n                    ( val, index ) => {\r\n\r\n                        return (\r\n                            <div \r\n                                key={ index } \r\n                                className=\"DriveItem\"\r\n                                style={\r\n                                    {\r\n                                        backgroundImage: \"url('images/drive/\" + val.name + \"')\"\r\n                                    }\r\n                                }\r\n                                onClick={ () => props.AttachDrive( val.name ) }\r\n                            ></div>\r\n                        )\r\n\r\n                    }\r\n                )\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Drive;","import React, { useEffect, useState } from 'react';\r\n\r\n// IMPORT CSS\r\nimport './Discussions.css';\r\nimport $ from 'jquery';\r\nimport axios from '../../../../../../../../axios';\r\nimport socket from '../../../../../../../../io';\r\n\r\nimport Modal from '../../../../../../../UI/Modal/Modal';\r\nimport Drive from './Drive/Drive';\r\n\r\nconst Discussions = ( props ) => {\r\n\r\n    const [ Show, setShow ] = useState( false );\r\n    const [ ReplyTo, setReplyTo ] = useState(0);\r\n\r\n    const [ EmpData, setEmpData ] = useState({});\r\n    const [ DriveContent, setDriveContent ] = useState([]);\r\n\r\n    const [ Tweets, setTweets ] = useState([]);\r\n    const [ SubTweets, setSubTweets ] = useState([]);\r\n    const [ Employees, setEmployees ] = useState([]);\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            let arr = [];\r\n            let added = [];\r\n            for ( let x = 0; x < props.Tweets.length; x++ )\r\n            {\r\n                if ( !added.includes( props.Tweets[x].emp_id ) )\r\n                {\r\n                    arr.push(\r\n                        {\r\n                            name: props.Tweets[x].name,\r\n                            designation: props.Tweets[x].designation_name,\r\n                            department: props.Tweets[x].department_name,\r\n                            company: props.Tweets[x].company_name\r\n                        }\r\n                    )\r\n                    added.push( props.Tweets[x].emp_id );\r\n                }\r\n            }\r\n\r\n            setTweets( props.Tweets );\r\n            setEmployees( arr );\r\n            setEmpData( props.EmpData );\r\n\r\n            socket.on('prsubdiscussions', ( id ) => {\r\n                OpenReplyBox( id, '' );\r\n            });\r\n\r\n        }, [ props.Tweets ]\r\n    )\r\n\r\n    const OpenReplyBox = ( index, condition ) => {\r\n\r\n        axios.post(\r\n            '/getsubdiscussions',\r\n            {\r\n                chat_id: index\r\n            }\r\n        ).then(\r\n            res => {\r\n\r\n                setSubTweets( res.data );\r\n\r\n                if ( condition === undefined )\r\n                {\r\n                    $('.Reply').not('.Reply' + index).hide(300);\r\n                    $('.Reply' + index).toggle(300);\r\n                    $(\"textarea[name='\" + index + \"']\").val('');\r\n                }\r\n\r\n            }\r\n        ).catch(\r\n            err => {\r\n\r\n                console.log( err );\r\n\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    const onTweet = ( e, id ) => {\r\n\r\n        e.preventDefault();\r\n        props.onTweet( e );\r\n        setTimeout(() => {\r\n            OpenReplyBox( id, '' );\r\n        }, 300);\r\n\r\n    }\r\n\r\n    const AttachDriveDocs = ( id ) => {\r\n\r\n        axios.post(\r\n            '/getalldrive',\r\n            {\r\n                emp_id: EmpData.emp_id\r\n            }\r\n        ).then(\r\n            res => {\r\n\r\n                setDriveContent(\r\n                    res.data\r\n                );\r\n                setReplyTo( typeof( id ) === 'number' ? id : undefined );\r\n\r\n            }\r\n        ).catch(\r\n            err => {\r\n\r\n                console.log( err );\r\n\r\n            }\r\n        )\r\n        ShowHide();\r\n\r\n    }\r\n\r\n    const ShowHide = () => {\r\n\r\n        setShow( !Show );\r\n\r\n    }\r\n\r\n    const AttachDrive = ( txt ) => {\r\n\r\n        let body = '/***' + txt + '***/';\r\n        props.AttachDrive( body, ReplyTo );\r\n        ShowHide();\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"PRDiscussions\">\r\n            <Modal show={ Show } Hide={ ShowHide } content={ <Drive AttachDrive={ AttachDrive } data={ DriveContent } /> } />\r\n            \r\n            <div className=\"Left\">\r\n\r\n                {/* USER CAN TWEET */}\r\n                <form className=\"TweetBox\" onSubmit={ props.onTweet }>\r\n                    <textarea \r\n                        onChange={ props.onTweetboxChange }\r\n                        placeholder=\"Enter your message\" \r\n                        className=\"form-control w-100\"\r\n                        name=\"tweet\"\r\n                        style={\r\n                            {\r\n                                fontSize: '13px'\r\n                            }\r\n                        }\r\n                        required\r\n                     />\r\n                    <div>\r\n                        <button type='submit' className=\"btn btn-block border-light\">Send</button>\r\n                        <button \r\n                            type='button' \r\n                            className=\"btn btn-block border-light\"\r\n                            onClick={ AttachDriveDocs }\r\n                        >\r\n                            <i className=\"las la-thumbtack\" style={ { fontSize: '17px' } }></i>\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n                <div className=\"TweetContainer\" id=\"TweetContainer\">\r\n                    {\r\n                        Tweets.map(\r\n                            ( val, index ) => {\r\n\r\n                                const d = new Date( val.date );\r\n\r\n                                return (\r\n                                    <div className=\"Tweet\" key={ index }>\r\n\r\n                                        <div className=\"upper\">\r\n                                            <div className=\"emp_img\" style={ { backgroundImage: \"url('images/employees/\" + val.emp_image + \"')\" } }></div>\r\n                                            <div>\r\n                                                <p className=\"font-weight-bold\">{ val.name }</p>\r\n                                                <p> { val.designation_name } in { val.department_name } Department, { val.company_name } </p>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"body\">\r\n                                            <p>\r\n                                                {\r\n                                                    val.body.includes('/***')\r\n                                                    ?\r\n                                                    <img \r\n                                                        src={ 'images/drive/' + val.body.split('/***')[1].split('***')[0] } \r\n                                                        alt=\"discussion attachment\"\r\n                                                        width=\"100%\"\r\n                                                     />\r\n                                                    :\r\n                                                    val.body\r\n                                                }\r\n                                            </p>\r\n                                        </div>\r\n\r\n                                        <div className='footer'>\r\n                                            <div>\r\n                                                <p className=\"font-weight-bold\">{ d.toDateString() } at { val.time }</p>\r\n                                            </div>\r\n                                            <div>\r\n                                                <p onClick={ () => OpenReplyBox( val.chat_id ) } className=\"font-weight-bold\">Reply</p>\r\n                                            </div>\r\n                                        </div>\r\n                                        \r\n\r\n                                        <form onSubmit={ ( e ) => onTweet( e, val.chat_id ) } className={ \"Reply Reply\" + val.chat_id }>\r\n                                            {\r\n                                                SubTweets.map(\r\n                                                    ( value, index ) => {\r\n\r\n                                                        const d = new Date( val.date );\r\n\r\n                                                        return (\r\n                                                            <div key={ index } className=\"SubTweet\">\r\n                                                                <div>\r\n                                                                    <div className=\"branch\"></div>\r\n                                                                </div>\r\n                                                                <div>\r\n                                                                    <div className=\"upper\">\r\n                                                                        <div className=\"emp_img\" style={{ backgroundImage: \"url('images/employees/\" + value.emp_image + \"')\" }}></div>\r\n                                                                        <div>\r\n                                                                            <p className=\"font-weight-bold\">{value.name}</p>\r\n                                                                            <p> {value.designation_name} in {value.department_name} Department, {value.company_name} </p>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                    <div className=\"body\">\r\n                                                                        {\r\n                                                                            value.body.includes('/***')\r\n                                                                                ?\r\n                                                                                <img\r\n                                                                                    src={'images/drive/' + value.body.split('/***')[1].split('***')[0]}\r\n                                                                                    alt=\"discussion attachment\"\r\n                                                                                    width=\"100%\"\r\n                                                                                />\r\n                                                                                :\r\n                                                                                <p>\r\n                                                                                    { value.body }\r\n                                                                                </p>\r\n                                                                        }\r\n                                                                    </div>\r\n                                                                    <div className='footer'>\r\n                                                                        <div>\r\n                                                                            <p className=\"font-weight-bold\">{d.toDateString()}</p>\r\n                                                                        </div>\r\n                                                                        <div>\r\n                                                                            <p className=\"font-weight-bold\">{val.time}</p>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        )\r\n\r\n                                                    }\r\n                                                )\r\n                                            }\r\n                                            <textarea\r\n                                                onChange={ props.onTweetboxChange }\r\n                                                placeholder=\"Enter your message\" \r\n                                                className=\"form-control mt-2\"\r\n                                                name={ val.chat_id }\r\n                                                style={\r\n                                                    {\r\n                                                        fontSize: '12px'\r\n                                                    }\r\n                                                }\r\n                                             />\r\n                                            <div className=\"d-flex justify-content-end\">\r\n                                                <button\r\n                                                    type='button'\r\n                                                    className=\"btn btn-sm btn-light mt-1 px-3\"\r\n                                                    onClick={ () => AttachDriveDocs( val.chat_id ) }\r\n                                                >\r\n                                                    <i className=\"las la-thumbtack\" style={{ fontSize: '15px' }}></i>\r\n                                                </button>\r\n                                                <button type=\"submit\" className=\"btn btn-sm btn-light mt-1\">Send</button>\r\n                                            </div>\r\n                                        </form>\r\n\r\n                                    </div>\r\n                                )\r\n\r\n                            }\r\n                        )\r\n                    }\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div className=\"Right\">\r\n\r\n                <h5 className=\"font-weight-bolder\">Members</h5>\r\n                <hr />\r\n                {\r\n                    Employees.map(\r\n                        ( val, index ) => {\r\n\r\n                            return (\r\n                                <div className=\"Emp\" key={ index }>\r\n                                    <p className=\"font-weight-bold\"> { val.name } </p>\r\n                                    <p>{ val.designation } in { val.department } Department, {val.company }</p>\r\n                                </div>\r\n                            )\r\n\r\n                        }\r\n                    )\r\n                }\r\n\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Discussions;","import React, { useState, useEffect } from \"react\";\r\n\r\nimport './UI.css';\r\nimport axios from \"../../../../../../axios\";\r\nimport $ from 'jquery';\r\n\r\n// React Redux Packages\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory, Route } from 'react-router-dom';\r\nimport Home from \"./Components/Home/Home\";\r\nimport Requests from \"./Components/Requests/Requests\";\r\nimport Purchaserequisition from \"./Components/PurchaseRequisition/PurchaseRequisition\";\r\nimport Quotations from \"./Components/Quotations/Quotations\";\r\nimport Discussions from \"./Components/Discussions/Discussions\";\r\n\r\nimport socket from '../../../../../../io';\r\n\r\nimport Modal from '../../../../../UI/Modal/Modal';\r\n\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst PurchaseRequisition = () => {\r\n    \r\n    const [ModalContent, setModalContent] = useState(<></>);\r\n    const [ModalShow, setModalShow] = useState( false );\r\n\r\n    const [ViewRequest, setViewRequest] = useState([]);\r\n    const [CountStatus, setCountStatus] = useState([]);\r\n    const [MonthlyRequests, setMonthlyRequests] = useState([]);\r\n    const [Companies, setCompanies] = useState([]);\r\n    const [Locations, setLocations] = useState([]);\r\n    const [Key, setKey] = useState(\r\n        {\r\n            column: 'employees.name',\r\n            value: ''\r\n        }\r\n    );\r\n    const [Company, setCompany] = useState(\r\n        {\r\n            column: 'companies.company_code',\r\n            value: ''\r\n        }\r\n    );\r\n    const [Location, setLocation] = useState(\r\n        {\r\n            column: 'locations.location_code',\r\n            value: ''\r\n        }\r\n    );\r\n    const [Status, setStatus] = useState(\r\n        {\r\n            column: 'invtry_purchase_requests.status',\r\n            value: ''\r\n        }\r\n    );\r\n    const [MyDate, setMyDate] = useState(\r\n        {\r\n            column: 'invtry_purchase_requests.request_date',\r\n            value: ''\r\n        }\r\n    );\r\n\r\n    const [List, setList] = useState([]);\r\n\r\n    const [Items, setItems] = useState([]);\r\n    const [DeletedItems, setDeletedItems] = useState([]);\r\n    const [Amount, setAmount] = useState(0.0);\r\n    const [Total, setTotal] = useState(0.0);\r\n    const [Index, setIndex] = useState();\r\n\r\n    const [EditMode, setEditMode] = useState(false);\r\n\r\n    const [Item, setItem] = useState({\r\n        description: \"\",\r\n        reason: \"\",\r\n        price: 0,\r\n        taxRequired: \"NO\",\r\n        tax: '',\r\n        quantity: 1,\r\n    });\r\n\r\n    \r\n    const [PRID, setPRID] = useState(0); // FOR THE CURRENT PR ID\r\n    const [ AttachQuotations, setAttachQuotations ] = useState([]); // FOR QUOTATION ATTACHMENTS\r\n    const [ QuotationPreview, setQuotationPreview ] = useState([]); // FOR QUOTATION PREVIEW\r\n    const [ Tweet, setTweet ] = useState(\r\n        {\r\n            tweet: '',\r\n            reply: 0\r\n        }\r\n    );\r\n    const [ Tweets, setTweets ] = useState([]); // FOR PR DISCUSSIONS\r\n    \r\n\r\n    // Current Employee Data\r\n    const EmpData = useSelector((state) => state.EmpAuth.EmployeeData);\r\n    // HISTORY FOR REACT ROUTING\r\n    const history = useHistory();\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            let pr_id = window.location.href.split('/').pop().split('id=').pop(); // RETURNS AN ID ( PR ID ) FROM THE URL\r\n\r\n            axios.post(\r\n                '/getpurchaseorderdetails',\r\n                {\r\n                    pr_id: pr_id,\r\n                    po_id: null\r\n                }\r\n            ).then(\r\n                (res) => {\r\n                    \r\n                    setItems( res.data[5] );\r\n                    setList( res.data[4] );\r\n                    setTotal( res.data[4][0].total );\r\n\r\n                    if ( res.data[4][0].status !== 'Approved' || res.data[4][0].status !== 'Delivered' || res.data[4][0].status !== 'Waiting For Approval' )\r\n                    {\r\n                        setAttachQuotations( res.data[6] ); // QUOTATIONS\r\n                    }\r\n\r\n                    setEditMode(false);\r\n                    setIndex(0);\r\n\r\n                    setAmount(0.00);\r\n                    $('select').val('NO');\r\n                    setItem({\r\n                        description: '',\r\n                        reason: '',\r\n                        price: 0,\r\n                        taxRequired: \"NO\",\r\n                        tax: '',\r\n                        quantity: 1,\r\n                    });\r\n\r\n                    $(\".ViewPrRequests .PR_printUI_Middle .PR_printUI_Grid.MyItems\").removeClass(\"d-none\");\r\n                    setPRID( parseInt( pr_id ) );\r\n                    GetDiscussions( parseInt( pr_id ) );\r\n\r\n                }\r\n            ).catch(err => {\r\n\r\n                console.log(err);\r\n\r\n            })\r\n\r\n            AllPr();\r\n            AllCompanies();\r\n            AllLocations();\r\n            GetMonthlyRequests();\r\n\r\n        }, [ window.location.href.split('/').pop().split('id=').pop() ]\r\n    )\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            SortedPr();\r\n\r\n        }, [ Key, Company, Location, Status, MyDate ]\r\n    )\r\n    \r\n    useEffect(\r\n        () => {\r\n\r\n            socket.on(\r\n                'newpurchaserequision', () => {\r\n                    \r\n                    AllPr();\r\n            \r\n                }\r\n            )\r\n            socket.on('prdiscussions', () => {\r\n                \r\n                GetDiscussions( window.location.href.split('/').pop().split('id=').pop() );\r\n\r\n            });\r\n\r\n        }, []\r\n    )\r\n\r\n    const GetDiscussions = ( pr_id ) => {\r\n\r\n        axios.post(\r\n            '/getprdiscussion',\r\n            {\r\n                pr_id: pr_id\r\n            }\r\n        ).then(\r\n            res => {\r\n\r\n                setTweets( res.data );\r\n                setTimeout(() => {\r\n                    var objDiv = document.getElementById(\"TweetContainer\");\r\n                    if ( objDiv )\r\n                    {\r\n                        objDiv.scrollTop = objDiv.scrollHeight;\r\n                    }\r\n                }, 300);\r\n\r\n            }\r\n        ).catch(\r\n            err => {\r\n\r\n                console.log( err );\r\n\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    const GetMonthlyRequests = () => {\r\n\r\n        let val = {\r\n            emp_id: EmpData.emp_id,\r\n            access: EmpData.access\r\n        }\r\n        axios.post('/getmonthlyrequests', { myData: JSON.stringify(val) }).then(response => {\r\n\r\n            setMonthlyRequests(response.data);\r\n\r\n        }).catch(error => {\r\n\r\n            console.log(error);\r\n\r\n        });\r\n\r\n    }\r\n\r\n    const AllPr = () => {\r\n\r\n        let val = {\r\n            emp_id: EmpData.emp_id,\r\n            access: EmpData.access\r\n        }\r\n        axios.post('/getallpr', { myData: JSON.stringify(val) }).then(response => {\r\n\r\n            setViewRequest( response.data );\r\n\r\n        }).catch(error => {\r\n\r\n            console.log(error);\r\n\r\n        });\r\n\r\n    }\r\n\r\n    const SortedPr = () => {\r\n\r\n        let val = {\r\n            emp_id: EmpData.emp_id,\r\n            access: EmpData.access\r\n        }\r\n\r\n        let filters = [\r\n            Key,\r\n            Company,\r\n            Location,\r\n            Status,\r\n            MyDate\r\n        ]\r\n\r\n        axios.post('/getallprsorted', { myData: JSON.stringify(val), filters: filters }).then(response => {\r\n\r\n            setViewRequest(response.data);\r\n            let arr = [];\r\n            for( let x = 0; x < response.data.length; x++ )\r\n            {\r\n\r\n                arr.push(response.data[x].status)\r\n\r\n            }\r\n            setCountStatus( arr );\r\n\r\n        }).catch(error => {\r\n\r\n            console.log(error);\r\n\r\n        });\r\n\r\n    }\r\n\r\n\r\n    const AllCompanies = () => {\r\n\r\n        axios.get('/getallcompanies').then(response => {\r\n\r\n            setCompanies(response.data);\r\n\r\n        }).catch(error => {\r\n\r\n            console.log(error);\r\n\r\n        });\r\n\r\n    }\r\n\r\n    const AllLocations = () => {\r\n\r\n        axios.get('/getalllocations').then(response => {\r\n\r\n            setLocations(response.data);\r\n\r\n        }).catch(error => {\r\n\r\n            console.log(error);\r\n\r\n        });\r\n\r\n    }\r\n\r\n    const onChangeCompany = (e) => {\r\n\r\n        onSearchPR('Company', e);\r\n        if ( e.target.value !== '' )\r\n        {\r\n            axios.post('/getcompanylocations', { company_code: e.target.value }).then(response => {\r\n    \r\n                setLocations(response.data);\r\n    \r\n            }).catch(error => {\r\n    \r\n                console.log(error);\r\n    \r\n            });\r\n        }else\r\n        {\r\n            AllLocations();\r\n        }\r\n\r\n    }\r\n\r\n    const onChangeLocation = ( e ) => {\r\n\r\n        onSearchPR('Location', e);\r\n        AllLocations();\r\n\r\n    }\r\n\r\n    const onSearchPR = ( column, e ) => {\r\n\r\n        const { value } = e.target;\r\n\r\n        if ( column === 'Key' )\r\n        {\r\n            setKey(\r\n                {\r\n                    ...Key,\r\n                    value: value\r\n                }\r\n            );\r\n        }else if ( column === 'Company' )\r\n        {\r\n            setCompany(\r\n                {\r\n                    ...Company,\r\n                    value: value\r\n                }\r\n            );\r\n        }else if ( column === 'Location' )\r\n        {\r\n            setLocation(\r\n                {\r\n                    ...Location,\r\n                    value: value\r\n                }\r\n            );\r\n        }else if ( column === 'Status' )\r\n        {\r\n            setStatus(\r\n                {\r\n                    ...Status,\r\n                    value: value\r\n                }\r\n            );\r\n        }else\r\n        {\r\n            setMyDate(\r\n                {\r\n                    ...MyDate,\r\n                    value: value\r\n                }\r\n            );\r\n        }\r\n\r\n\r\n        // IF EMPTY\r\n        if ( column === 'Key' && value === '' )\r\n        {\r\n            setKey(\r\n                {\r\n                    ...Key,\r\n                    value: ''\r\n                }\r\n            );\r\n        }else if ( column === 'Company' && value === '' )\r\n        {\r\n            setCompany(\r\n                {\r\n                    ...Company,\r\n                    value: ''\r\n                }\r\n            );\r\n        }else if ( column === 'Location' && value === '' )\r\n        {\r\n            setLocation(\r\n                {\r\n                    ...Location,\r\n                    value: ''\r\n                }\r\n            );\r\n        }else if ( column === 'Status' && value === '' )\r\n        {\r\n            setStatus(\r\n                {\r\n                    ...Status,\r\n                    value: ''\r\n                }\r\n            );\r\n        }else if ( column === 'MyDate' && value === '' )\r\n        {\r\n            setMyDate(\r\n                {\r\n                    ...MyDate,\r\n                    value: ''\r\n                }\r\n            );\r\n        }\r\n\r\n    }\r\n\r\n    const OnEdit = (index) => {\r\n        if ( \r\n            List[0].status === 'Viewed'\r\n            ||\r\n            List[0].status === 'Sent'\r\n        )\r\n        {\r\n            setEditMode(true);\r\n            setIndex(index);\r\n    \r\n            setAmount(Items[index].amount);\r\n            setItem(Items[index]);\r\n    \r\n            $(\".ViewPrRequests .PR_printUI_Middle .PR_printUI_Grid.MyItems\" + index).toggleClass(\"d-none\");\r\n        }\r\n    };\r\n\r\n    const onChangeHandler = ( e ) => {\r\n\r\n        // console.log( e.target.name );\r\n        const { name, value } = e.target;\r\n\r\n        const val = {\r\n          ...Item,\r\n          [name]: value,\r\n        };\r\n    \r\n        setItem(val);\r\n    \r\n        if (name === \"price\") {\r\n          let amount = value * Item.quantity;\r\n          setAmount(amount);\r\n        }\r\n    \r\n        if (name === \"quantity\") {\r\n          let amount = value * Item.price;\r\n          setAmount(amount);\r\n        }\r\n\r\n        if (name === \"taxRequired\") {\r\n            let input = document.getElementById('TAX');\r\n            if ( value === 'YES' )\r\n            {\r\n                input.disabled = false;\r\n            }else\r\n            {\r\n                setItem(\r\n                    {\r\n                        ...Item,\r\n                        tax: ''\r\n                    }\r\n                )\r\n                input.disabled = true;\r\n            }\r\n        }\r\n\r\n        if (name === \"tax\") {\r\n\r\n            let amount = ( ( Item.price * Item.quantity ) / 100 ) * value;\r\n            setAmount( amount + ( Item.price * Item.quantity ) );\r\n        }\r\n\r\n    }\r\n\r\n    const AddItem = ( e ) => {\r\n\r\n        if (\r\n            e.keyCode === 13 && Item.description !== '' && Item.reason !== '' && Item.quantity > 0\r\n        ) {\r\n\r\n            if (Item.reason.length < 20) {\r\n\r\n                let val = $(\".err_reason\").val();\r\n\r\n                let i = 0;\r\n                let txt = \"Reason must contain 20 characters minimum!!!\";\r\n                let speed = 50;\r\n                val = '';\r\n\r\n                function typeWriter() {\r\n                    if (i < txt.length) {\r\n                        val += txt.charAt(i);\r\n                        $(\".err_reason\").html(val);\r\n                        i++;\r\n                        setTimeout(typeWriter, speed);\r\n                    }\r\n                }\r\n\r\n                typeWriter();\r\n\r\n                setTimeout(() => {\r\n                    $(\".err_reason\").html('');\r\n                }, 5000);\r\n\r\n            } else {\r\n\r\n                if (Item.taxRequired === \"YES\" && Item.tax.toString() === '0') {\r\n                    alert('tax required');\r\n                } else {\r\n                    if (!EditMode) {\r\n                        let cart = {\r\n                            description: Item.description,\r\n                            reason: Item.reason,\r\n                            price: Item.price,\r\n                            quantity: Item.quantity,\r\n                            tax: Item.tax,\r\n                            amount: Amount,\r\n                        };\r\n                        setItems([...Items, cart]);\r\n\r\n                        setAmount(0.0);\r\n                        $('select').val('NO');\r\n                        setItem({\r\n                            description: \"\",\r\n                            reason: \"\",\r\n                            price: 0,\r\n                            taxRequired: \"NO\",\r\n                            tax: '',\r\n                            quantity: 1,\r\n                        });\r\n\r\n                        let t = Total;\r\n                        t = t + Amount;\r\n\r\n                        setTotal(t);\r\n\r\n                        var objDiv = document.getElementById(\"ItemsLIst\");\r\n                        if (objDiv !== null) {\r\n                            objDiv.scrollTop = objDiv.scrollHeight;\r\n                        }\r\n\r\n                    } else {\r\n                        let arr = Items;\r\n                        let cart = {};\r\n                        if (Item.id) {\r\n                            cart = {\r\n                                id: Item.id,\r\n                                pr_id: Item.pr_id,\r\n                                description: Item.description,\r\n                                reason: Item.reason,\r\n                                price: Item.price,\r\n                                quantity: Item.quantity,\r\n                                tax: Item.tax,\r\n                                amount: Amount,\r\n                            };\r\n                        } else {\r\n                            cart = {\r\n                                description: Item.description,\r\n                                reason: Item.reason,\r\n                                price: Item.price,\r\n                                quantity: Item.quantity,\r\n                                tax: Item.tax,\r\n                                amount: Amount,\r\n                            };\r\n                        }\r\n                        setTotal(Total - arr[Index].amount + Amount);\r\n\r\n                        arr[Index] = cart;\r\n                        setItems(arr);\r\n\r\n                        setAmount(0.0);\r\n                        $('select').val('NO');\r\n                        setItem({\r\n                            description: \"\",\r\n                            reason: \"\",\r\n                            price: 0,\r\n                            taxRequired: \"NO\",\r\n                            tax: '',\r\n                            quantity: 1,\r\n                        });\r\n                        setEditMode(false);\r\n                        setIndex();\r\n                        $(\".ViewPrRequests .PR_printUI_Middle .PR_printUI_Grid.MyItems\").removeClass(\"d-none\");\r\n\r\n\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const onDelete = (id) => {\r\n        if ( \r\n            List[0].status === 'Viewed'\r\n            ||\r\n            List[0].status === 'Sent'\r\n        )\r\n        {\r\n            let arr = Items.filter((val, index) => {\r\n                return index === id;\r\n            })\r\n\r\n            setDeletedItems( arr );\r\n\r\n            setItems(\r\n                Items.filter((val, index) => {\r\n                    return index !== id;\r\n                })\r\n            );\r\n    \r\n            setTotal(Total - Items[id].amount);\r\n\r\n        }\r\n    };\r\n\r\n    const onAttachQuotations = ( e ) => {\r\n\r\n        const reader = new FileReader();\r\n        const { files } = e.target;\r\n\r\n        reader.onload = () => {\r\n\r\n            if (reader.readyState === 2) {\r\n                let arr = [];\r\n                // let invoAttachments = document.querySelector('.invoAttachments');\r\n\r\n                for (let x = 0; x < files.length; x++) {\r\n                    arr.push(\r\n                        {\r\n                            name: files[x].name,\r\n                            file: files[x]\r\n                        }\r\n                    )\r\n                }\r\n\r\n                setAttachQuotations( arr );\r\n            }\r\n\r\n\r\n\r\n        }\r\n\r\n        if (files[0]) {\r\n            reader.readAsDataURL(files[0]);\r\n        }\r\n\r\n    }\r\n\r\n    const PreviewQuotation = ( id ) => {\r\n\r\n        let array = [];\r\n        if ( AttachQuotations[0].image )\r\n        {\r\n            array = AttachQuotations.filter(\r\n                ( val, index, arr ) => {\r\n          \r\n                  return arr[index].image === arr[id].image;\r\n          \r\n                }\r\n            )\r\n        }else\r\n        {\r\n            array = AttachQuotations.filter(\r\n                ( val, index, arr ) => {\r\n          \r\n                  return arr[index].name === arr[id].name;\r\n          \r\n                }\r\n            )\r\n        }\r\n        \r\n      \r\n        setQuotationPreview( array );\r\n\r\n    }\r\n\r\n    const RemoveQuotation = ( id ) => {\r\n\r\n        let array = AttachQuotations.filter(\r\n            ( val, index, arr ) => {\r\n      \r\n              return arr[index].name !== arr[id].name;\r\n      \r\n            }\r\n        )\r\n      \r\n        setAttachQuotations( array );\r\n\r\n    }\r\n\r\n    const onTweetboxChange = ( e ) => {\r\n\r\n        const { name, value } = e.target;\r\n\r\n        if ( name === 'tweet' )\r\n        {\r\n            setTweet(\r\n                {\r\n                    tweet: value,\r\n                    reply: 0\r\n                }\r\n            )\r\n        }else\r\n        {\r\n            setTweet(\r\n                {\r\n                    tweet: value,\r\n                    reply: parseInt( name )\r\n                }\r\n            )\r\n        }\r\n\r\n    }\r\n\r\n    const onTweet = ( e, txt, id ) => {\r\n\r\n        e.preventDefault();\r\n        const d = new Date();\r\n\r\n        axios.post(\r\n            '/prdiscussion',\r\n            {\r\n                pr_id: PRID,\r\n                emp_id: EmpData.emp_id,\r\n                body: txt ? txt : Tweet.tweet,\r\n                reply: id ? id : Tweet.reply,\r\n                date: d.toString()\r\n            }\r\n        ).then(\r\n            () => {\r\n\r\n                $(\"textarea\").val('');\r\n                setTweet(\r\n                    {\r\n                        tweet: '',\r\n                        reply: 0\r\n                    }\r\n                )\r\n                if ( id )\r\n                {\r\n                    socket.emit('prsubdiscussions', id);\r\n                }else\r\n                {\r\n                    if ( Tweet.reply === 0 )\r\n                    {\r\n                        socket.emit('prdiscussions');   \r\n                    }else\r\n                    {\r\n                        socket.emit('prsubdiscussions', Tweet.reply);\r\n                    }\r\n                }\r\n                GetDiscussions( window.location.href.split('/').pop().split('id=').pop() );\r\n\r\n            }\r\n        ).catch(\r\n            err => {\r\n\r\n                console.log( err );\r\n\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    const ViewTheRequest = ( pr_id ) => {\r\n\r\n        if ( JSON.parse(  EmpData.access ).includes(512) || JSON.parse( EmpData.access ).includes(514) || JSON.parse( EmpData.access ).includes(1) )\r\n        {\r\n            const Data2 = new FormData();\r\n            Data2.append('prID', pr_id);\r\n            Data2.append('empID', EmpData.emp_id);\r\n            axios.post('/setprtoviewed', Data2).then(\r\n                () => {\r\n\r\n                    socket.emit('newpurchaserequision');\r\n    \r\n                }\r\n    \r\n            ).catch(\r\n                (err) => {\r\n    \r\n                    console.log(err);\r\n    \r\n                }\r\n            )\r\n        }\r\n\r\n    }\r\n\r\n    const onDiscard = ( prID ) => {\r\n\r\n        setModalContent(\r\n            <div>\r\n                <p>Do you want to discard this request?</p>\r\n                <form onSubmit={(e) => DiscardRequest(prID, e)}>\r\n                    <textarea \r\n                        style={\r\n                            {\r\n                                fontSize: '13px'\r\n                            }\r\n                        }\r\n                        name='remarks' \r\n                        className=\"form-control mb-3\" \r\n                        placeholder=\"Add Remarks\" \r\n                        required \r\n                        minLength=\"10\"\r\n                     />\r\n                    <button type=\"submit\" className=\"btn btn-sm btn-danger d-block ml-auto px-3\">Yes</button>\r\n                </form>\r\n            </div>\r\n        )\r\n\r\n        HideModelFunction();\r\n\r\n    }\r\n\r\n    const DiscardRequest = ( prID, e ) => {\r\n\r\n        e.preventDefault();\r\n\r\n        const Data = new FormData();\r\n        Data.append('prID', prID);\r\n        Data.append('empID', EmpData.emp_id);\r\n        Data.append('remarks', e.target['remarks'].value);\r\n        axios.post('/setprtodiscard', Data).then(\r\n            () => {\r\n\r\n                const Data2 = new FormData();\r\n                Data2.append('eventID', 3);\r\n                Data2.append('link', '/purchaserequisition/view=previousrequests/' + prID);\r\n                Data2.append('receiverID', List[0].request_by);\r\n                Data2.append('senderID', sessionStorage.getItem('EmpID'));\r\n                Data2.append('Title', sessionStorage.getItem('name'));\r\n                Data2.append('NotificationBody', sessionStorage.getItem('name') + \" has discard your purchase request with id#\" + prID + \" under this reason '\" + e.target['remarks'].value + \"'\");\r\n                axios.post('/newnotification', Data2).then(() => {\r\n\r\n                    axios.post('/sendmail', Data2).then(() => {\r\n\r\n                        socket.emit('newpurchaserequision');\r\n                        history.replace('/purchaserequisition/view=purchase_requisition&&id=' + ( prID - 1 ) );\r\n                        setTimeout(() => {\r\n                            history.replace('/purchaserequisition/view=purchase_requisition&&id=' + prID );\r\n                        }, 100);\r\n\r\n                    })\r\n                })\r\n\r\n                toast.dark('Request has been Discard', {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n\r\n                setModalShow(false);\r\n\r\n            }\r\n\r\n        ).catch(\r\n            (err) => {\r\n\r\n                console.log(err);\r\n\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    const onForward = ( prID ) => {\r\n\r\n        setModalContent(\r\n            <div>\r\n                <p>Do you want to forward this request?</p>\r\n                <button onClick={ () => ForwardRequest( prID ) } className=\"btn btn-sm btn-info d-block ml-auto px-3\">Yes</button>\r\n            </div>\r\n        )\r\n\r\n        HideModelFunction();\r\n\r\n    }\r\n\r\n    const onApprove = ( prID ) => {\r\n\r\n        setModalContent(\r\n            <div>\r\n                <p>Do you want to approve this request?</p>\r\n                <form onSubmit={(e) => ApproveRequest(prID, e)}>\r\n                    <textarea \r\n                        style={\r\n                            {\r\n                                fontSize: '13px'\r\n                            }\r\n                        }\r\n                        name='remarks' \r\n                        className=\"form-control mb-3\" \r\n                        placeholder=\"Add Remarks\" \r\n                        required \r\n                        minLength=\"10\"\r\n                     />\r\n                    <button type=\"submit\" className=\"btn btn-sm btn-success d-block ml-auto px-3\">Yes</button>\r\n                </form>\r\n            </div>\r\n        )\r\n\r\n        HideModelFunction();\r\n\r\n    }\r\n\r\n    const ApproveRequest = ( prID, e ) => {\r\n\r\n        e.preventDefault();\r\n\r\n        const Data = new FormData();\r\n        Data.append('prID', prID);\r\n        Data.append('empID', EmpData.emp_id);\r\n        Data.append('remarks', e.target['remarks'].value);\r\n        axios.post('/setprtoapprove', Data).then(\r\n            () => {\r\n\r\n                setModalShow(false);\r\n                toast.dark('Request has been approved'.toString(), {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n\r\n                const Data2 = new FormData();\r\n                Data2.append('eventID', 3);\r\n                Data2.append('receiverID', List[0].request_by);\r\n                Data2.append('senderID', sessionStorage.getItem('EmpID'));\r\n                Data2.append('Title', sessionStorage.getItem('name'));\r\n                Data2.append('NotificationBody', sessionStorage.getItem('name') + \" has approved your purchase request with id#\" + prID);\r\n                axios.post('/newnotification', Data2).then(() => {\r\n\r\n                    axios.post('/sendmail', Data2).then(() => {\r\n\r\n                        socket.emit('newpurchaserequision');\r\n                        history.replace('/purchaserequisition/view=purchase_requisition&&id=' + ( prID - 1 ) );\r\n                        setTimeout(() => {\r\n                            history.replace('/purchaserequisition/view=purchase_requisition&&id=' + prID );\r\n                        }, 100);\r\n\r\n                    })\r\n                })\r\n\r\n            }\r\n        ).catch(\r\n            (err) => {\r\n\r\n                console.log(err);\r\n\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    const ForwardRequest = ( prID ) => {\r\n\r\n        let pass = true;\r\n        for (let y = 0; y < Items.length; y++) {\r\n            if (\r\n                Items[y].description !== ''\r\n                ||\r\n                Items[y].reason !== ''\r\n                ||\r\n                Items[y].quantity > 0\r\n            ) {\r\n\r\n            } else {\r\n                toast.dark('Please fill all the fields in the items list', {\r\n                    position: 'top-center',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n                pass = false;\r\n                HideModelFunction();\r\n            }\r\n        }\r\n\r\n        if ( AttachQuotations.length === 0 )\r\n        {\r\n            toast.dark('Please attach atleast 1 quotation', {\r\n                position: 'top-center',\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            });\r\n            pass = false;\r\n            HideModelFunction();\r\n        }\r\n\r\n        if ( pass )\r\n        {\r\n\r\n            if ( Items.length > 0 )\r\n            {\r\n                \r\n                const d = new FormData();\r\n        \r\n                d.append('prID', prID);\r\n                d.append('Items', JSON.stringify( Items ));\r\n                d.append('deletedItems', JSON.stringify( DeletedItems ));\r\n                d.append('Total', Total);\r\n        \r\n                axios.post('/setprtofinal', d).then(\r\n                    () => {\r\n        \r\n                        const Data = new FormData();\r\n                        Data.append('prID', prID);\r\n                        Data.append('empID', EmpData.emp_id);\r\n                        AttachQuotations.forEach(file => {\r\n                            Data.append(\"Attachments\", file.file);\r\n                        });\r\n                        axios.post('/setprtowaitforapproval', Data, {\r\n        \r\n                            headers: {\r\n                                \"Content-Type\": \"multipart/form-data\"\r\n                            }\r\n        \r\n                        }).then(\r\n                            () => {\r\n    \r\n                                history.replace('/purchaserequisition/view=purchase_requisition&&id=' + ( prID - 1 ) );\r\n                                setTimeout(() => {\r\n                                    history.replace('/purchaserequisition/view=purchase_requisition&&id=' + prID );\r\n                                }, 100);\r\n        \r\n                                setItems([]);\r\n                                setModalContent(<></>);\r\n                                setModalShow(false);\r\n        \r\n                                setIndex()\r\n                                setEditMode(false)\r\n                                setTotal(0.00)\r\n                                setAmount(0.00)\r\n                                \r\n                                const Data2 = new FormData();\r\n                                Data2.append('eventID', 3);\r\n                                Data2.append('receiverID', List[0].request_by);\r\n                                Data2.append('senderID', sessionStorage.getItem('EmpID'));\r\n                                Data2.append('Title', sessionStorage.getItem('name'));\r\n                                Data2.append('NotificationBody', sessionStorage.getItem('name') + \" has sent your purchase request with id#\" + prID + ' for approval');\r\n                                axios.post('/newnotification', Data2).then(() => {\r\n        \r\n                                    axios.post('/sendmail', Data2).then(() => {\r\n\r\n                                        socket.emit( 'NewNotification', List[0].request_by);\r\n                                        socket.emit('newpurchaserequision');\r\n        \r\n                                    })\r\n                                })\r\n\r\n                                \r\n                                socket.emit('newpurchaserequision');\r\n        \r\n                                let list = JSON.stringify([513, 514, 515]);\r\n                                const Data3 = new FormData();\r\n                                Data3.append('access', list);\r\n                                axios.post('/getemployeeaccesslike', Data3).then(\r\n                                    (res) => {\r\n        \r\n                                        if (res.data[0]) {\r\n                                            for (let x = 0; x < res.data.length; x++) {\r\n                                                const Data2 = new FormData();\r\n                                                Data2.append('eventID', 3);\r\n                                                Data2.append('receiverID', res.data[x].emp_id);\r\n                                                Data2.append('senderID', sessionStorage.getItem('EmpID'));\r\n                                                Data2.append('Title', sessionStorage.getItem('name'));\r\n                                                Data2.append('NotificationBody', sessionStorage.getItem('name') + \" put forward a purchase request with id#\" + prID + ' for approval');\r\n                                                axios.post('/newnotification', Data2).then(() => {\r\n        \r\n                                                    axios.post('/sendmail', Data2).then(() => {\r\n        \r\n                                                    })\r\n                                                });\r\n                                            }\r\n                                        }\r\n        \r\n                                    }\r\n                                )\r\n        \r\n                            }\r\n        \r\n                        ).catch(\r\n                            (err) => {\r\n        \r\n                                console.log(err);\r\n        \r\n                            }\r\n                        )\r\n        \r\n                    }\r\n        \r\n                ).catch(\r\n                    (err) => {\r\n        \r\n                        console.log(err);\r\n        \r\n                    }\r\n                )\r\n\r\n            }else\r\n            {\r\n                toast.dark('one specification required', {\r\n                    position: 'top-center',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n                pass = false;\r\n                HideModelFunction();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const HideModelFunction = () => {\r\n\r\n        setModalShow( !ModalShow );\r\n\r\n    }\r\n\r\n    const AttachDrive = ( txt, id ) => {\r\n\r\n        setTweet(\r\n            {\r\n                tweet: txt,\r\n                reply: id\r\n            }\r\n        );\r\n\r\n        let e = document.createEvent('event');\r\n        onTweet( e, txt, id );\r\n\r\n    }\r\n\r\n    // IF THE USER PRINTS THE REQUEST\r\n    const Print = ( id ) => {\r\n\r\n        let iframe = document.getElementById('pr');\r\n        iframe.src = 'https://' + window.location.host + '/#/view=purchase_requisition/' + id\r\n        iframe.contentWindow.print();\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"ViewPrRequests\">\r\n                <Modal show={ ModalShow } Hide={HideModelFunction} content={ModalContent} />\r\n                <ToastContainer />\r\n\r\n                {/* TOPBAR FOR SEARCH FILTERS */}\r\n                <div className=\"SearchnFilterDiv\">\r\n                    <div className=\"searchdiv\">\r\n                        <div><i class=\"las la-search\"></i></div>\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Tap To Search\"\r\n                            className=\"form-control\"\r\n                            onChange={(e) => onSearchPR('Key', e)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"filterdiv\">\r\n                        <div>\r\n                            <label >Companies</label>\r\n                            <select name=\"companies\" id=\"\" onChange={onChangeCompany} className=\"form-control\">\r\n                                <option value=\"\">Default</option>\r\n                                {\r\n                                    Companies.map(\r\n                                        (val) => {\r\n                                            return (\r\n                                                <>\r\n                                                    <option value={val.company_code}>{val.company_name}</option>\r\n                                                </>\r\n                                            )\r\n                                        }\r\n                                    )\r\n                                }\r\n                            </select>\r\n                        </div>\r\n                        <div>\r\n                            <label >Locations</label>\r\n                            <select onChange={onChangeLocation} className=\"form-control\">\r\n                                <option value=\"\">Default</option>\r\n                                {\r\n                                    Locations.map(\r\n                                        (val) => {\r\n                                            return (\r\n                                                <>\r\n                                                    <option value={val.location_code}>{val.location_name}</option>\r\n                                                </>\r\n                                            )\r\n                                        }\r\n                                    )\r\n                                }\r\n                            </select>\r\n                        </div>\r\n                        <div>\r\n                            <label >Status</label>\r\n                            <select onChange={(e) => onSearchPR('Status', e)} className=\"form-control\">\r\n                                <option value=\"\">Default</option>\r\n                                <option value=\"Approved\">Approved</option>\r\n                                <option value=\"Rejected\">Rejected</option>\r\n                                <option value=\"Waiting For Approval\">Waiting For Approval</option>\r\n                                <option value=\"Sent\">Sent</option>\r\n                                <option value=\"Viewed\">Viewed</option>\r\n                            </select>\r\n                        </div>\r\n                        <div cl>\r\n                            <label >Date</label>\r\n                            <input type=\"date\" onChange={(e) => onSearchPR('MyDate', e)} className=\"form-control\" name=\"\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"ViewPrRequests_grid\">\r\n                    <div className=\"ViewPrRequests_Left\">\r\n                        {\r\n                            ViewRequest.map(\r\n                                (val, index) => {\r\n\r\n                                    const d = new Date(val.request_date);\r\n\r\n                                    return (\r\n                                        <>\r\n                                            <Requests \r\n                                                key={index} \r\n                                                data={val} \r\n                                                date={d} \r\n                                                ViewTheRequest={ ViewTheRequest } \r\n                                                EmpData={ EmpData }\r\n                                            />\r\n                                        </>\r\n                                    )\r\n                                }\r\n                            )\r\n                        }\r\n                    </div>\r\n                    <div className=\"ViewPrRequests_Right\">\r\n                        <div className='previewWindow'>\r\n\r\n                            <Route\r\n                                exact\r\n                                path=\"/purchaserequisition/home\"\r\n                                render={\r\n                                    () =>\r\n                                        <Home\r\n                                            ViewRequest={ ViewRequest }\r\n                                            CountRequests={ViewRequest.length}\r\n                                            CountStatus={CountStatus}\r\n                                            MonthlyRequests={MonthlyRequests}\r\n                                            EmpData={ EmpData }\r\n                                        />\r\n                                }\r\n                            />\r\n\r\n                            <Route\r\n                                exact\r\n                                path=\"/purchaserequisition/view=purchase_requisition&&id=:pr_id\"\r\n                                render={\r\n                                    () =>\r\n                                        <Purchaserequisition\r\n                                            List={List}\r\n                                            Items={Items}\r\n                                            Item={Item}\r\n                                            Total={Total}\r\n                                            Amount={Amount}\r\n\r\n                                            onChnageHandler={onChangeHandler}\r\n                                            AddItem={AddItem}\r\n                                            OnEdit={OnEdit}\r\n                                            onDelete={onDelete}\r\n                                        />\r\n                                }\r\n                            />\r\n\r\n                            <Route\r\n                                exact\r\n                                path=\"/purchaserequisition/view=quotations&&id=:pr_id\"\r\n                                render={\r\n                                    () =>\r\n                                        <Quotations\r\n                                            List={List}\r\n                                            AttachQuotations={AttachQuotations}\r\n                                            QuotationPreview={QuotationPreview}\r\n\r\n                                            onAttachQuotations={onAttachQuotations}\r\n                                            PreviewQuotation={PreviewQuotation}\r\n                                            RemoveQuotation={RemoveQuotation}\r\n                                        />\r\n                                }\r\n                            />\r\n\r\n                            <Route\r\n                                exact\r\n                                path=\"/purchaserequisition/view=discussions&&id=:pr_id\"\r\n                                render={\r\n                                    () =>\r\n                                        <Discussions\r\n                                            Tweets={ Tweets }\r\n                                            EmpData={ EmpData }\r\n\r\n                                            onTweetboxChange={ onTweetboxChange }\r\n                                            onTweet={ onTweet }\r\n                                            AttachDrive={ AttachDrive }\r\n                                        />\r\n                                }\r\n                            />\r\n\r\n                        </div>\r\n                        <div className=\"control\">\r\n\r\n                            {\r\n                                window.location.href.split('/').pop() !== 'home'\r\n                                ?\r\n                                <div className=\"btn-group\">\r\n                                    <button className=\"btn btn-primary\" onClick={() => history.replace('/purchaserequisition/view=purchase_requisition&&id=' + PRID)}>Purchase Requisition</button>\r\n                                    <button className=\"btn btn-info\" onClick={() => history.replace('/purchaserequisition/view=quotations&&id=' + PRID)}>Quotations</button>\r\n                                    <button className=\"btn btn-light\" onClick={() => history.replace('/purchaserequisition/view=discussions&&id=' + PRID)}>Discussions</button>\r\n                                    <button className=\"btn btn-warning\" onClick={ () => Print(PRID) }>Print</button>\r\n                                        {\r\n                                            JSON.parse(EmpData.access).includes(513) || JSON.parse(EmpData.access).includes(515)\r\n                                                ?\r\n                                                List[0]\r\n                                                ?\r\n                                                    List[0].status === 'Waiting For Approval'\r\n                                                        ?\r\n                                                        <>\r\n                                                                <button\r\n                                                                    className=\"btn btn-sm btn-danger\"\r\n                                                                    onClick={() => onDiscard( window.location.href.split('/').pop().split('id=').pop() )}\r\n                                                                >\r\n                                                                    Discard\r\n                                                                </button>\r\n                                                                <button\r\n                                                                    className=\"btn btn-sm btn-success\"\r\n                                                                    onClick={() => onApprove( window.location.href.split('/').pop().split('id=').pop() )}\r\n                                                                >\r\n                                                                    Approve\r\n                                                                </button>\r\n                                                        </>\r\n                                                        :\r\n                                                        null\r\n                                                    :\r\n                                                    null\r\n                                                :\r\n                                            null\r\n                                        }\r\n                                        {\r\n                                            List[0]\r\n                                            ?\r\n                                            List[0].status === 'Viewed'\r\n                                            ||\r\n                                            List[0].status === 'Sent'\r\n                                            ?\r\n                                            EmpData.access\r\n                                            ?\r\n                                            JSON.parse(  EmpData.access ).includes(512) || JSON.parse( EmpData.access ).includes(514) || JSON.parse( EmpData.access ).includes(1)\r\n                                            ?\r\n                                            <>\r\n                                                <button\r\n                                                    className=\"btn btn-success\"\r\n                                                    onClick={() => onForward( window.location.href.split('/').pop().split('id=').pop() )}\r\n                                                >\r\n                                                    Forward\r\n                                                </button>\r\n                                                <button\r\n                                                    className=\"btn btn-danger\"\r\n                                                    style={{ backgroundColor: 'red', color: 'white' }}\r\n                                                    onClick={() => onDiscard( window.location.href.split('/').pop().split('id=').pop() )}\r\n                                                >\r\n                                                    Discard\r\n                                                </button>\r\n                                                <button\r\n                                                    className=\"btn d-none onTweetBtn\"\r\n                                                    onClick={(e) => onTweet(e)}\r\n                                                >\r\n                                                    Tweet\r\n                                                </button>\r\n                                            </>\r\n                                            :\r\n                                            null\r\n                                            :\r\n                                            null\r\n                                            :\r\n                                            null\r\n                                            :\r\n                                            null\r\n                                        }\r\n                                </div>\r\n                                :\r\n                                null\r\n                            }\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default PurchaseRequisition;","import React from 'react'\r\nimport './Modal.css';\r\n\r\nconst Modal = ( props ) =>{\r\n    return (\r\n        <>\r\n            <div className=\"Attandence_Request_Div\" style={ { display: props.show ? 'flex' : 'none'  } }>\r\n                <div className=\"dark\" onClick={ props.Hide }>\r\n                </div>\r\n                <div style={ { animationDelay: ( 0 + '.' + 1 ).toString() + 's' } } className={ props.show ? \"Attandence_Request_Div_Content Attandence_Request_Div_Content2\" : \"Attandence_Request_Div_Content\" }>\r\n                    {\r\n                        props.content\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Modal;","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"sourceRoot":""}