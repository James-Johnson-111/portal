{"version":3,"sources":["Components/EmployeeProtal/Dashboard/Pages/Inventory/ViewInvtryRequests/InvoiceBuilder/Components/InputFields/InputFields.jsx","Components/EmployeeProtal/Dashboard/Pages/Inventory/ViewInvtryRequests/InvoiceBuilder/InvoiceBuilderUI.jsx","Components/EmployeeProtal/Dashboard/Pages/Inventory/ViewInvtryRequests/InvoiceBuilder/InvoiceBuilder.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"names":["InputFields","props","className","onChange","onChnageHandler","onKeyDown","AddItem","type","value","Item","description","placeholder","name","reason","price","pattern","quantity","Amount","toLocaleString","disabled","InvoiceBuilderUI","id","RequestDetails","info","company_name","location_name","sender_name","emp_for_name","handle_emp_name","AttchemntsMode","Items","map","val","index","amount","title","onClick","OnEdit","onDelete","EditMode","Total","length","status","onSendingForApproval","pr_id","style","backgroundColor","color","onDiscard","EmpData","access","JSON","parse","includes","onOverride","InvoiceBuilder","useState","setItem","Attachments","setAttachments","setItems","setAmount","setTotal","setEditMode","Index","setIndex","ModalContent","setModalContent","ModalShow","setModalShow","SendRequestForApproval","prID","d","FormData","append","stringify","axios","post","then","Data","emp_id","forEach","file","headers","Data2","request_for","sessionStorage","getItem","ShowAllRequests","list","Data3","res","data","x","catch","err","console","log","$","i","txt","speed","typeWriter","charAt","html","setTimeout","SendRequestForDiscard","e","preventDefault","target","toast","dark","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","onAttach","reader","FileReader","files","onload","readyState","arr","invoAttachments","document","querySelector","push","Array","prototype","call","indexOf","div","createElement","icon","setAttribute","cursor","addEventListener","RemoveAttchment","appendChild","Image","src","URL","createObjectURL","width","height","readAsDataURL","img","array","filter","getElementById","display","ShowAttchments","multiple","accept","for","CancelAttachments","useEffect","specifications","total","onApprove","pass","y","Object","values","every","alert","onSubmit","required","minLength","keyCode","cart","addClass","removeClass","t","objDiv","scrollTop","scrollHeight","Modal","show","Hide","content","_toConsumableArray","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError"],"mappings":"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","file":"static/js/53.a57f1a77.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction InputFields(props) {\r\n  return (\r\n    <tr className=\"InputFeilds\">\r\n      <td></td>\r\n      <td>\r\n        <input\r\n          onChange={props.onChnageHandler}\r\n          onKeyDown={props.AddItem}\r\n          type=\"text\"\r\n          value={props.Item.description}\r\n          placeholder=\"Item Name\"\r\n          name=\"description\"\r\n          className=\"form-control\"\r\n        />\r\n        <small className=\"text-danger errs err_description\"></small>\r\n      </td>\r\n      <td>\r\n        <input\r\n          onChange={props.onChnageHandler}\r\n          onKeyDown={props.AddItem}\r\n          type=\"text\"\r\n          value={props.Item.reason}\r\n          placeholder=\"Item Reason\"\r\n          name=\"reason\"\r\n          className=\"form-control\"\r\n        />\r\n        <small className=\"text-danger errs err_reason\"></small>\r\n      </td>\r\n      <td>\r\n        <input\r\n          onChange={props.onChnageHandler}\r\n          onKeyDown={props.AddItem}\r\n          type=\"text\"\r\n          value={props.Item.price}\r\n          placeholder=\"Item Rate\"\r\n          pattern=\"[0-9]+\"\r\n          name=\"price\"\r\n          className=\"form-control\"\r\n        />\r\n        <small className=\"text-danger errs err_price\"></small>\r\n      </td>\r\n      <td>\r\n        <input\r\n          onChange={props.onChnageHandler}\r\n          onKeyDown={props.AddItem}\r\n          type=\"text\"\r\n          value={props.Item.quantity}\r\n          placeholder=\"Item Quantity\"\r\n          pattern=\"[0-9]+\"\r\n          name=\"quantity\"\r\n          className=\"form-control\"\r\n        />\r\n        <small className=\"text-danger errs err_quantity\"></small>\r\n      </td>\r\n      <td>\r\n        <input\r\n          type=\"text\"\r\n          value={ 'Rs ' + props.Amount.toLocaleString('en-US') }\r\n          placeholder=\"Item Amount\"\r\n          pattern=\"[0-9]+\"\r\n          name=\"itemAmount\"\r\n          className=\"form-control\"\r\n          disabled\r\n        />\r\n        <small className=\"text-danger errs err_itemAmount\"></small>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default InputFields;\r\n","import React from \"react\";\r\nimport InputFields from \"./Components/InputFields/InputFields\";\r\n\r\nimport \"./InvoiceBuilderUI.css\";\r\n\r\nfunction InvoiceBuilderUI( props ) {\r\n\r\n  return (\r\n    <div className=\"InvoiceBuilder\">\r\n      <div>\r\n        <div className=\"title\">\r\n          <h2>PURCHASE REQUISITION</h2>\r\n        </div>\r\n        <div className=\"upper\">\r\n          <div>\r\n            <div className=\"input-group\">\r\n              <span className=\"input-group-text\" id=\"basic-addon3\">\r\n                Company\r\n              </span>\r\n              <input disabled type=\"text\" className=\"form-control\" value={ props.RequestDetails.info[0].company_name } />\r\n            </div>\r\n            <div className=\"input-group\">\r\n              <span className=\"input-group-text\" id=\"basic-addon3\">\r\n                Delivery Location\r\n              </span>\r\n              <input disabled type=\"text\" className=\"form-control\" value={ props.RequestDetails.info[0].location_name } />\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <div>\r\n            <div className=\"input-group\">\r\n              <span className=\"input-group-text\" id=\"basic-addon3\">\r\n                Request By\r\n              </span>\r\n              <input disabled type=\"text\" className=\"form-control\" value={ props.RequestDetails.info[0].sender_name } name=\"\" />\r\n            </div>\r\n            <div className=\"input-group\">\r\n              <span className=\"input-group-text\" id=\"basic-addon3\">\r\n                Request For\r\n              </span>\r\n              <input disabled type=\"text\" className=\"form-control\" value={ props.RequestDetails.info[0].emp_for_name === props.RequestDetails.info[0].sender_name ? 'Self' : props.RequestDetails.info[0].emp_for_name } name=\"\" />\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <div>\r\n            <div className=\"input-group\">\r\n              <span className=\"input-group-text\" id=\"basic-addon3\">\r\n                Request To\r\n              </span>\r\n              <input disabled type=\"text\" className=\"form-control\" value={ props.RequestDetails.info[0].handle_emp_name } name=\"\" />\r\n            </div>\r\n            <div className=\"input-group\">\r\n              <span className=\"input-group-text\" id=\"basic-addon3\">\r\n                Attachments\r\n              </span>\r\n              <select className=\"form-control AttachmentsSelect\" onChange={props.AttchemntsMode}>\r\n                <option value=\"\">Select the option</option>\r\n                <option value=\"view\">View</option>\r\n                <option value=\"yes\">Yes</option>\r\n                <option value=\"no\">No</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n\r\n        </div>\r\n      </div>\r\n      <div className=\"items_list\">\r\n        <div className=\"items_list_content\">\r\n          <div className=\"list\" id='ItemsLIst'>\r\n            <table className=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Sr.No</th>\r\n                  <th>Item Name</th>\r\n                  <th>Item Reason</th>\r\n                  <th>Rate</th>\r\n                  <th>Quantity</th>\r\n                  <th>Amount</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {props.Items.map((val, index) => {\r\n                  return (\r\n                    <>\r\n                      <tr\r\n                        key={index}\r\n                        className={\"items data itemsData\" + index}\r\n                      >\r\n                        <td> {index + 1} </td>\r\n                        <td> {val.description} </td>\r\n                        <td>{val.reason}</td>\r\n                        <td>{val.price}</td>\r\n                        <td>{val.quantity}</td>\r\n                        <td>{ 'Rs ' + val.amount.toLocaleString('en-US') }</td>\r\n                        <div className=\"abs\">\r\n                          <i\r\n                            className=\"lar la-edit\"\r\n                            title=\"Edit\"\r\n                            onClick={() => props.OnEdit(index)}\r\n                          ></i>\r\n                          <i\r\n                            className=\"las la-trash\"\r\n                            title=\"Remove\"\r\n                            onClick={() => props.onDelete(index)}\r\n                          ></i>\r\n                        </div>\r\n                      </tr>\r\n                      <tr\r\n                        key={index}\r\n                        className={\"items edition itemsEdit itemsEdit\" + index}\r\n                      >\r\n                        <td></td>\r\n                        <td>\r\n                          <input\r\n                            onChange={props.onChnageHandler}\r\n                            onKeyDown={props.AddItem}\r\n                            type=\"text\"\r\n                            value={props.Item.description}\r\n                            placeholder=\"Item Name\"\r\n                            name=\"description\"\r\n                            className=\"form-control\"\r\n                          />\r\n                        </td>\r\n                        <td>\r\n                          <input\r\n                            onChange={props.onChnageHandler}\r\n                            onKeyDown={props.AddItem}\r\n                            type=\"text\"\r\n                            value={props.Item.reason}\r\n                            placeholder=\"Item Reason\"\r\n                            name=\"reason\"\r\n                            className=\"form-control\"\r\n                          />\r\n                        </td>\r\n                        <td>\r\n                          <input\r\n                            onChange={props.onChnageHandler}\r\n                            onKeyDown={props.AddItem}\r\n                            type=\"text\"\r\n                            value={props.Item.price}\r\n                            placeholder=\"Item Rate\"\r\n                            pattern=\"[0-9]+\"\r\n                            name=\"price\"\r\n                            className=\"form-control\"\r\n                          />\r\n                        </td>\r\n                        <td>\r\n                          <input\r\n                            onChange={props.onChnageHandler}\r\n                            onKeyDown={props.AddItem}\r\n                            type=\"text\"\r\n                            value={props.Item.quantity}\r\n                            placeholder=\"Item Quantity\"\r\n                            pattern=\"[0-9]+\"\r\n                            name=\"quantity\"\r\n                            className=\"form-control\"\r\n                          />\r\n                        </td>\r\n                        <td>\r\n                          <input\r\n                            type=\"text\"\r\n                            value={ 'Rs ' + props.Amount.toLocaleString('en-US') }\r\n                            placeholder=\"Item Amount\"\r\n                            pattern=\"[0-9]+\"\r\n                            name=\"itemAmount\"\r\n                            className=\"form-control\"\r\n                            disabled\r\n                          />\r\n                        </td>\r\n                      </tr>\r\n                    </>\r\n                  );\r\n                })}\r\n                {props.EditMode ? null : (\r\n                  <InputFields\r\n                    onChnageHandler={props.onChnageHandler}\r\n                    AddItem={props.AddItem}\r\n                    Item={props.Item}\r\n                    Amount={props.Amount}\r\n                  />\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div className=\"controls\">\r\n            <div>\r\n              <div className=\"input-group\">\r\n                <span className=\"input-group-text\" id=\"basic-addon3\">\r\n                  Total\r\n                </span>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  disabled\r\n                  name=\"\"\r\n                  value={ 'Rs ' + props.Total.toLocaleString('en-US') }\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"text-right\">\r\n                  {\r\n                    props.RequestDetails.info.length > 0\r\n                    ?\r\n                    props.RequestDetails.info[0].status === 'Viewed'\r\n                    ||\r\n                    props.RequestDetails.info[0].status === 'Sent'\r\n                    ?\r\n                    <>\r\n                      <button \r\n                        className=\"btn saveBtn\" \r\n                        onClick={ () => props.onSendingForApproval(props.RequestDetails.info[0].pr_id) }>\r\n                        Forward\r\n                      </button>\r\n                      <button \r\n                        className=\"btn\" \r\n                        style={ { backgroundColor: 'red', color: 'white' } }\r\n                        onClick={ () => props.onDiscard(props.RequestDetails.info[0].pr_id) }>\r\n                        Discard\r\n                      </button>\r\n                    </>\r\n                    :\r\n                    null\r\n                    :\r\n                    null\r\n                  }\r\n                  {\r\n                    props.EmpData.access // if employee has access\r\n                    ?\r\n                    JSON.parse(props.EmpData.access).includes(514) // if employee has specific access\r\n                    ?\r\n                    props.RequestDetails.info[0].status !== 'Approved' // if the request has not approved\r\n                    && \r\n                    props.RequestDetails.info[0].status !== 'Delivered' // if the request has not delivered\r\n                    ?\r\n                    <button \r\n                      className=\"btn\" \r\n                      style={ { backgroundColor: 'orange', color: 'white' } }\r\n                      onClick={ () => props.onOverride(props.RequestDetails.info[0].pr_id) }>\r\n                      Override\r\n                    </button>\r\n                    :\r\n                    null // the request has approved or delivered\r\n                    :\r\n                    null // the employee do not have the specofoc access\r\n                    :\r\n                    null // the employee access are not loaded\r\n                  }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InvoiceBuilderUI;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport InvoiceBuilderUI from \"./InvoiceBuilderUI\";\r\nimport $ from \"jquery\";\r\nimport Modal from '../../../../../../UI/Modal/Modal';\r\n\r\nimport axios from '../../../../../../../axios';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst InvoiceBuilder = ( props ) => {\r\n  const [Item, setItem] = useState({\r\n    description: \"\",\r\n    reason: \"\",\r\n    price: 0,\r\n    quantity: 1,\r\n  });\r\n\r\n  const [Attachments, setAttachments] = useState([]);\r\n  \r\n  const [Items, setItems] = useState([]);\r\n  const [Amount, setAmount] = useState(0.0);\r\n  const [Total, setTotal] = useState(0.0);\r\n  const [EditMode, setEditMode] = useState(false);\r\n  const [Index, setIndex] = useState();\r\n\r\n// for modal content(HTML)\r\nconst [ ModalContent, setModalContent ] = useState(<></>);\r\n// toggle modal true/false\r\nconst [ ModalShow, setModalShow ] = useState(false);\r\n\r\n  const AddItem = (e) => {\r\n    if (\r\n      Object.values(Item).every((x) => x !== \"\" && x !== 0) &&\r\n      e.keyCode === 13\r\n    ) \r\n    {\r\n\r\n      if ( Item.reason.length < 20 )\r\n      {\r\n        \r\n        let val = $(\".InvoiceBuilder .err_reason\").val();\r\n\r\n        let i = 0;\r\n        let txt = \"Reason must contain 20 characters minimum!!!\";\r\n        let speed = 50;\r\n        val = '';\r\n\r\n        function typeWriter() {\r\n          if (i < txt.length) {\r\n            val += txt.charAt(i);\r\n            $(\".InvoiceBuilder .err_reason\").html(val);\r\n            i++;\r\n            setTimeout(typeWriter, speed);\r\n          }\r\n        }\r\n\r\n        typeWriter();\r\n\r\n        setTimeout(() => {\r\n          $(\".InvoiceBuilder .err_reason\").html('');\r\n        }, 5000);\r\n\r\n      }else\r\n      {\r\n\r\n          if (!EditMode) \r\n          {\r\n            let cart = {\r\n              description: Item.description,\r\n              reason: Item.reason,\r\n              price: Item.price,\r\n              quantity: Item.quantity,\r\n              amount: Amount,\r\n            };\r\n            setItems([...Items, cart]);\r\n\r\n            setAmount(0.0);\r\n            setItem({\r\n              description: \"\",\r\n              reason: \"\",\r\n              price: 0,\r\n              quantity: 1,\r\n            });\r\n            let t = Total;\r\n\r\n            t = t + Amount;\r\n            setTotal(t);\r\n\r\n            var objDiv = document.getElementById(\"ItemsLIst\");\r\n            if (objDiv !== null) {\r\n                objDiv.scrollTop = objDiv.scrollHeight;\r\n            }\r\n    \r\n          } else {\r\n            let arr = Items;\r\n            let cart = {};\r\n            if (Item.id) {\r\n              cart = {\r\n                id: Item.id,\r\n                pr_id: Item.pr_id,\r\n                description: Item.description,\r\n                reason: Item.reason,\r\n                price: Item.price,\r\n                quantity: Item.quantity,\r\n                amount: Amount,\r\n              };\r\n            } else {\r\n              cart = {\r\n                description: Item.description,\r\n                reason: Item.reason,\r\n                price: Item.price,\r\n                quantity: Item.quantity,\r\n                amount: Amount,\r\n              };\r\n            }\r\n            setTotal(Total - arr[Index].amount + Amount);\r\n    \r\n            arr[Index] = cart;\r\n            setItems(arr);\r\n    \r\n            setAmount(0.0);\r\n            setItem({\r\n              description: \"\",\r\n              reason: \"\",\r\n              price: 0,\r\n              quantity: 1,\r\n            });\r\n            setEditMode(false);\r\n            setIndex();\r\n    \r\n            $(\".InvoiceBuilder .edition\").addClass(\"itemsEdit\");\r\n            $(\".InvoiceBuilder .data\").removeClass(\"d-none\");\r\n          }\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  const onChnageHandler = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    const val = {\r\n      ...Item,\r\n      [name]: value,\r\n    };\r\n\r\n    setItem(val);\r\n\r\n    if (name === \"price\") {\r\n      let amount = value * Item.quantity;\r\n      setAmount(amount);\r\n    }\r\n\r\n    if (name === \"quantity\") {\r\n      let amount = value * Item.price;\r\n      setAmount(amount);\r\n    }\r\n  };\r\n\r\n  const OnEdit = (index) => {\r\n    setEditMode(true);\r\n    setIndex(index);\r\n\r\n    setAmount(Items[index].amount);\r\n    setItem({\r\n      id: Items[index].id,\r\n      pr_id: Items[index].pr_id,\r\n      description: Items[index].description,\r\n      reason: Items[index].reason,\r\n      price: Items[index].price,\r\n      quantity: Items[index].quantity,\r\n    });\r\n\r\n    $(\".InvoiceBuilder .edition\").addClass(\"itemsEdit\");\r\n    $(\".InvoiceBuilder .data\").removeClass(\"d-none\");\r\n\r\n    $(\".InvoiceBuilder .itemsEdit\" + index).removeClass(\"itemsEdit\");\r\n\r\n    $(\".InvoiceBuilder .itemsData\" + index).addClass(\"d-none\");\r\n  };\r\n\r\n  const onDelete = (id) => {\r\n\r\n    setItems(\r\n\r\n      Items.filter((val, index) => {\r\n\r\n        return index !== id;\r\n\r\n      })\r\n\r\n    );\r\n\r\n    setTotal( Total - Items[id].amount );\r\n\r\n  };\r\n\r\n  // toggle the modal show/hide by true/false\r\n  const ShowHideModal = () => {\r\n\r\n    if (ModalShow) {\r\n      setModalShow(false);\r\n    } else {\r\n      setModalShow(true);\r\n    }\r\n\r\n  }\r\n\r\n  // When user override the request\r\n  const onOverride = (prID) => { }\r\n  // When user approve the request\r\n  const onApprove = (prID) => { }\r\n  // When user sending the request for approval\r\n  const onSendingForApproval = (prID) => {\r\n\r\n    let arr = Items;\r\n    let pass = true;\r\n\r\n    for ( let y= 0; y < arr.length; y++ )\r\n    {\r\n      if ( Object.values(Items[y]).every((x) => x !== \"\" && x !== 0) )\r\n      {\r\n        \r\n      }else\r\n      {\r\n        alert('Please fill all the fields in the items list');\r\n        pass = false;\r\n      }\r\n    }\r\n\r\n    if ( pass )\r\n    {\r\n      setModalContent(\r\n        <div>\r\n          {/* Confirming that the user realy want to send this request for approval */}\r\n          <p>Do you want to send this request for approval?</p>\r\n          <button className=\"btn btn-sm btn-success d-block ml-auto px-3\" onClick={() => SendRequestForApproval(prID)}>Yes</button>\r\n        </div>\r\n      )\r\n  \r\n      setModalShow(true);\r\n    }\r\n\r\n\r\n  }\r\n\r\n  // after confirmation the request is sent\r\n  const SendRequestForApproval = (prID) => {\r\n\r\n    if ( Items.length > 0 )\r\n    {\r\n      const d = new FormData();\r\n  \r\n      d.append('prID', prID);\r\n      d.append('Items', JSON.stringify( Items ));\r\n      d.append('Total', Total);\r\n  \r\n      axios.post('/setprtofinal', d).then(\r\n        () => {\r\n  \r\n          const Data = new FormData();\r\n          Data.append('prID', prID);\r\n          Data.append('empID', props.EmpData.emp_id);\r\n          Attachments.forEach(file => {\r\n            Data.append(\"Attachments\", file.file);\r\n          });\r\n          axios.post('/setprtowaitforapproval', Data, {\r\n  \r\n            headers: {\r\n              \"Content-Type\": \"multipart/form-data\"\r\n            }\r\n  \r\n          }).then(\r\n            () => {\r\n  \r\n              const Data2 = new FormData();\r\n              Data2.append('eventID', 3);\r\n              Data2.append('receiverID', props.RequestDetails.info[0].request_for);\r\n              Data2.append('senderID', sessionStorage.getItem('EmpID'));\r\n              Data2.append('Title', sessionStorage.getItem('name'));\r\n              Data2.append('NotificationBody', sessionStorage.getItem('name') + \" has sent your purchase request with id#\" + prID + ' for approval');\r\n              axios.post('/newnotification', Data2).then(() => {\r\n  \r\n                axios.post('/sendmail', Data2).then(() => {\r\n  \r\n                })\r\n              })\r\n  \r\n              props.ShowAllRequests();\r\n              let list = null;\r\n              if (Total > 150000) {\r\n                list = JSON.stringify([514, 515]);\r\n              }\r\n              else {\r\n                list = JSON.stringify([513, 514]);\r\n              }\r\n              const Data3 = new FormData();\r\n              Data3.append('access', list);\r\n              axios.post('/getemployeeaccesslike', Data3).then(\r\n                (res) => {\r\n  \r\n                  if (res.data[0]) {\r\n                    for (let x = 0; x < res.data.length; x++) {\r\n                      const Data2 = new FormData();\r\n                      Data2.append('eventID', 3);\r\n                      Data2.append('receiverID', res.data[x].emp_id);\r\n                      Data2.append('senderID', sessionStorage.getItem('EmpID'));\r\n                      Data2.append('Title', sessionStorage.getItem('name'));\r\n                      Data2.append('NotificationBody', sessionStorage.getItem('name') + \" put forward a purchase request with id#\" + prID + ' for approval');\r\n                      axios.post('/newnotification', Data2).then(() => {\r\n  \r\n                        axios.post('/sendmail', Data2).then(() => {\r\n  \r\n                        })\r\n                      });\r\n                    }\r\n                  }\r\n  \r\n                }\r\n              )\r\n  \r\n              setItems([]);\r\n              setModalContent(<></>);\r\n              setModalShow(false);\r\n  \r\n              setIndex()\r\n              setEditMode(false)\r\n              setTotal(0.00)\r\n              setAmount(0.00)\r\n  \r\n            }\r\n  \r\n          ).catch(\r\n            (err) => {\r\n  \r\n              console.log(err);\r\n  \r\n            }\r\n          )\r\n  \r\n        }\r\n  \r\n      ).catch(\r\n        (err) => {\r\n  \r\n          console.log(err);\r\n  \r\n        }\r\n      )\r\n    }else\r\n    {\r\n      let val = $(\".InvoiceBuilder .errs\").val();\r\n\r\n      let i = 0;\r\n      let txt = \"Minimu 1 Specification is required!!!\";\r\n      let speed = 50;\r\n      val = '';\r\n\r\n      function typeWriter() {\r\n        if (i < txt.length) {\r\n          val += txt.charAt(i);\r\n          $(\".InvoiceBuilder .errs\").html(val);\r\n          i++;\r\n          setTimeout(typeWriter, speed);\r\n        }\r\n      }\r\n\r\n      typeWriter();\r\n\r\n      setTimeout(() => {\r\n        $(\".InvoiceBuilder .errs\").html('');\r\n      }, 5000);\r\n    }\r\n\r\n  }\r\n  // When user discard the request\r\n  const onDiscard = (prID) => {\r\n\r\n    setModalContent(\r\n      <div>\r\n        <p>Do you want to discard this request?</p>\r\n        <form onSubmit={(e) => SendRequestForDiscard(prID, e)}>\r\n          <textarea name='remarks' className=\"form-control mb-3\" placeholder=\"Add Remarks\" required minLength=\"10\" />\r\n          <button className=\"btn btn-sm btn-danger d-block ml-auto px-3\">Yes</button>\r\n        </form>\r\n      </div>\r\n    )\r\n\r\n    setModalShow(true);\r\n\r\n  }\r\n\r\n  const SendRequestForDiscard = ( prID, e ) => {\r\n\r\n    e.preventDefault();\r\n\r\n    const Data = new FormData();\r\n    Data.append('prID', prID);\r\n    Data.append('empID', props.EmpData.emp_id);\r\n    Data.append('remarks', e.target['remarks'].value);\r\n    axios.post('/setprtodiscard', Data).then(\r\n      () => {\r\n\r\n        const Data2 = new FormData();\r\n        Data2.append('eventID', 3);\r\n        Data2.append('receiverID', props.RequestDetails.info[0].request_for);\r\n        Data2.append('senderID', sessionStorage.getItem('EmpID'));\r\n        Data2.append('Title', sessionStorage.getItem('name'));\r\n        Data2.append('NotificationBody', sessionStorage.getItem('name') + \" has discard your purchase request with id#\" + prID + \" under this reason '\" + e.target['remarks'].value + \"'\");\r\n        axios.post('/newnotification', Data2).then(() => {\r\n\r\n          axios.post('/sendmail', Data2).then(() => {\r\n\r\n          })\r\n        })\r\n\r\n        toast.dark('Request has been Discard', {\r\n          position: 'top-right',\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        });\r\n\r\n        setItems([]);\r\n        setModalContent(<></>);\r\n        setModalShow(false);\r\n\r\n        setIndex()\r\n        setEditMode(false)\r\n        setTotal(0.00)\r\n        setAmount(0.00);\r\n        props.ShowAllRequests();\r\n\r\n      }\r\n\r\n    ).catch(\r\n      (err) => {\r\n\r\n        console.log(err);\r\n\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n  // When attachment is perform\r\n  const onAttach = ( e ) => {\r\n\r\n    const reader = new FileReader();\r\n    const { files } = e.target;\r\n\r\n    reader.onload = () => {\r\n\r\n      if( reader.readyState === 2 )\r\n      {\r\n        let arr = [];\r\n        let invoAttachments = document.querySelector('.invoAttachments');\r\n    \r\n        for ( let x = 0; x < files.length; x++ )\r\n        {\r\n          arr.push(\r\n            {\r\n              name: files[x].name ,\r\n              file: files[x]\r\n            }\r\n          )\r\n        }\r\n    \r\n        setAttachments( arr );\r\n\r\n        Array.prototype.forEach.call(files, function (file) {\r\n          if (file.type.indexOf('image/' === 0)) {\r\n            let div = document.createElement('div');\r\n            let icon = document.createElement('i');\r\n            icon.setAttribute('class', 'las la-times crossAttachments');\r\n            icon.style.cursor = 'pointer';\r\n            icon.addEventListener('click', () => {\r\n\r\n              div.setAttribute('id', file.name);\r\n              RemoveAttchment(file.name, arr);\r\n\r\n            })\r\n            div.setAttribute('class', 'divs');\r\n            div.appendChild(icon);\r\n            var i = new Image();\r\n            i.src = URL.createObjectURL(file);  // creates a blobURI\r\n            i.style.width = '100%';\r\n            i.style.height = '-webkit-fill-available';\r\n            // i.setAttribute('class', 'divs');\r\n            div.appendChild(i);\r\n            invoAttachments.appendChild(div);\r\n          }\r\n        });\r\n      }\r\n\r\n\r\n\r\n    }\r\n\r\n    if (files[0]) {\r\n      reader.readAsDataURL(files[0]);\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  const RemoveAttchment = ( img, arr ) => {\r\n\r\n    let array = arr.filter(\r\n      ( val, index, arr ) => {\r\n\r\n        return arr[index].name !== img;\r\n\r\n      }\r\n    )\r\n\r\n    setAttachments( array );\r\n    document.getElementById(img).style.display = 'none';\r\n\r\n  }\r\n\r\n  // When user wants to attach some files to the request\r\n  const AttchemntsMode = ( e ) => {\r\n\r\n    // extract value from the target\r\n    const { value } = e.target;\r\n        if ( value === 'yes' ) // if value is 'yes'\r\n        {\r\n\r\n          $('.AttachmentsSelect').val('');\r\n          ShowAttchments();\r\n\r\n        }else if ( value === 'view' )\r\n        {\r\n\r\n          $('.AttachmentsSelect').val('');\r\n          setModalShow(true);\r\n\r\n        }else\r\n        {\r\n          CancelAttachments();\r\n        }\r\n\r\n  }\r\n\r\n  const ShowAttchments = () => {\r\n\r\n    setModalContent(\r\n      <div>\r\n        <h5>Attachments</h5>\r\n        <input type=\"file\" onChange={ onAttach } name=\"attachments\" className=\"d-none\" id=\"upload-photo\" multiple accept=\"image/*\" />\r\n        <div className=\"invoAttachments\">\r\n          {/* Upload Documents */}\r\n          <label for=\"upload-photo\" className='m-0'>\r\n          <div className=\"divs\">\r\n            <i className=\"las la-plus\"></i>\r\n          </div>\r\n          </label>\r\n        </div>\r\n      </div>\r\n    )\r\n\r\n    setModalShow(true);\r\n\r\n  }\r\n\r\n  const CancelAttachments = () => {\r\n\r\n    setAttachments([]);\r\n    setModalContent(<></>);\r\n\r\n  }\r\n\r\n  useEffect(\r\n    () => {\r\n\r\n      setItems(\r\n        props.RequestDetails.specifications\r\n      )\r\n\r\n      setTotal(\r\n        props.RequestDetails.info[0].total === null ? 0 : props.RequestDetails.info[0].total\r\n      )\r\n\r\n    }, [props.RequestDetails.info, props.RequestDetails.specifications]\r\n  )\r\n\r\n  return (\r\n    <><InvoiceBuilderUI\r\n      EmpData={props.EmpData}\r\n      RequestDetails={props.RequestDetails}\r\n\r\n      // functions\r\n      // When user override the request\r\n      onOverride={onOverride}\r\n      // When user approve the request\r\n      onApprove={onApprove}\r\n      // When user sending the request for approval\r\n      onSendingForApproval={onSendingForApproval}\r\n      // When user discard the request\r\n      onDiscard={onDiscard}\r\n      // When user wants to attach files to the request\r\n      AttchemntsMode={ AttchemntsMode }\r\n\r\n      // default settings\r\n      Items={Items}\r\n      onChnageHandler={onChnageHandler}\r\n      AddItem={AddItem}\r\n      Amount={Amount}\r\n      Item={Item}\r\n      onDelete={onDelete}\r\n      OnEdit={OnEdit}\r\n      EditMode={EditMode}\r\n      Total={ props.RequestDetails.info[0].total === null ? 0 : props.RequestDetails.info[0].total }\r\n    />\r\n      <Modal show={ModalShow} Hide={ShowHideModal} content={ModalContent} />\r\n      </>\r\n  );\r\n}\r\n\r\nexport default InvoiceBuilder;","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"sourceRoot":""}