(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[47],{759:function(e,t,s){},805:function(e,t,s){"use strict";s.r(t);var a=s(94),c=s(4),n=s(1),r=(s(759),s(164)),l=s(177),i=s(0);t.default=function(e){var t=Object(n.useState)({}),s=Object(c.a)(t,2),o=s[0],u=s[1],d=Object(n.useState)([]),j=Object(c.a)(d,2),h=j[0],b=j[1],m=Object(n.useState)([]),f=Object(c.a)(m,2),O=f[0],p=f[1],x=Object(n.useState)([]),v=Object(c.a)(x,2),g=v[0],y=v[1],S=Object(n.useState)({}),N=Object(c.a)(S,2),R=N[0],w=N[1],q=Object(n.useState)(0),C=Object(c.a)(q,2),V=C[0],F=C[1];return Object(n.useEffect)((function(){for(var t=[],s=0,a=0,c=0,n=0,r=0,l=0;l<e.CountStatus.length;l++)"Rejected"===e.CountStatus[l]&&(s+=1);for(var i=0;i<e.CountStatus.length;i++)"Approved"===e.CountStatus[i]&&(a+=1);for(var o=0;o<e.CountStatus.length;o++)"Waiting For Approval"===e.CountStatus[o]&&(c+=1);for(var d=0;d<e.CountStatus.length;d++)"Sent"===e.CountStatus[d]&&(n+=1);for(var j=0;j<e.CountStatus.length;j++)"Viewed"===e.CountStatus[j]&&(r+=1);t.push(s,a,c,n,r),u({labels:["Rejected","Approved","Waiting For Approval","Sent","Viewed"],datasets:[{label:"Requests for the year",data:t,backgroundColor:["#DC3545","#28A745","#FFC107","#17A2B8","#007BFF"]}]})}),[e.CountStatus]),Object(n.useEffect)((function(){b(e.MonthlyRequests);for(var t=[],s=0;s<e.MonthlyRequests.length;s++)t.push(e.MonthlyRequests[s].count);y(t)}),[e.MonthlyRequests]),Object(n.useEffect)((function(){for(var t=[],s=[],a=0;a<e.ViewRequest.length;a++)t.includes(e.ViewRequest[a].company_name)||t.push(e.ViewRequest[a].company_name);for(var c=function(a){for(var c=e.ViewRequest.filter((function(e){return e.company_name===t[a]})),n=0,r=0;r<c.length;r++)n+=parseFloat(c[r].total);s.push({company:t[a],count:c.length,total:n})},n=0;n<t.length;n++)c(n);p(s);for(var r=0,l=0;l<e.ViewRequest.length;l++)r+=parseFloat(e.ViewRequest[l].total);F(r)}),[e.ViewRequest]),Object(n.useEffect)((function(){w(e.EmpData)}),[e.EmpData]),Object(n.useEffect)((function(){l.a.rebuild()})),Object(i.jsxs)("div",{className:"Home",children:[Object(i.jsx)(l.a,{}),Object(i.jsxs)("div",{className:"three",children:[Object(i.jsxs)("div",{className:"Calculate px-4",children:[Object(i.jsx)("small",{className:"text-secondary",children:"Total Requests"}),Object(i.jsxs)("h3",{className:"font-weight-bolder",children:[e.CountRequests," ",Object(i.jsx)("small",{className:"text-secondary",children:"Received"})]}),0===Object.keys(R).length?null:R.access&&(JSON.parse(R.access).includes(522)||JSON.parse(R.access).includes(1))?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("small",{className:"text-secondary",children:"Total Value Rs"}),Object(i.jsxs)("h3",{className:"font-weight-bolder",children:[V.toLocaleString("en-US")," ",Object(i.jsx)("small",{className:"text-secondary",children:"Estimated"})]})]}):null]}),Object(i.jsx)("div",{className:"RequestStatusChart",children:Object(i.jsx)(r.c,{width:"100%",height:"100px",data:o})}),Object(i.jsx)("div",{className:"RequestStatusChart py-4 px-3",children:O.map((function(e,t){return Object(i.jsxs)("div",{className:" mb-3",style:{fontSize:"13px"},children:[Object(i.jsxs)("div",{className:"font-weight-bold",children:[e.company,":"]}),Object(i.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(i.jsxs)("div",{children:[e.count," ",Object(i.jsx)("sub",{children:"Requests"})]}),Object(i.jsxs)("div",{children:["PKR",Object(i.jsxs)("span",{className:"ml-2",children:[e.total.toLocaleString("en-US")," /-"]})]})]})]},t)}))})]}),Object(i.jsxs)("div",{className:"ViewPrRequests_graph",children:[Object(i.jsx)("div",{className:"border-bottom mb-3",children:Object(i.jsx)("h4",{children:"Monthly Requests"})}),Object(i.jsxs)("div",{className:"d-flex",children:[Object(i.jsxs)("div",{style:{display:"grid",marginRight:"10px"},children:[Object(i.jsx)("p",{className:"font-weight-bolder",children:Math.max.apply(Math,Object(a.a)(g))}),Object(i.jsx)("p",{className:"d-flex align-items-end font-weight-bolder",children:Math.min.apply(Math,Object(a.a)(g))})]}),Object(i.jsx)("div",{className:"ViewPrRequests_graphdiv",children:Object(i.jsxs)("div",{className:"graph_data ",children:[Object(i.jsx)("div",{className:"Graph_Bargrid",children:h.map((function(e,t){for(var s=0,a=0;a<h.length;a++)s+=h[a].count;var c=e.count/s*100;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"graphbar",style:{height:c+"%"},children:Object(i.jsxs)("div",{className:"tooltip",children:[e.count," Requests"]})},t)})}))}),Object(i.jsx)("div",{className:"Graph_monthgrid",children:h.map((function(e,t){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{children:e.month},t)})}))})]})})]}),Object(i.jsx)("div",{className:"graphyear",children:"2022"})]})]})}},88:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},94:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var a=s(18);var c=s(25);function n(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=47.26abe411.chunk.js.map