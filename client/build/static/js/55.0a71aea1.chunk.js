(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[55],{747:function(e,t,s){"use strict";s.r(t);var a=s(11),n=s(4),c=s(1),l=(s(748),s(164)),o=s(0);t.default=function(e){var t=Object(c.useState)({}),s=Object(n.a)(t,2),r=s[0],u=s[1],i=Object(c.useState)({requests:[],months:[]}),d=Object(n.a)(i,2),j=d[0],h=d[1],b=Object(c.useState)([]),f=Object(n.a)(b,2),p=f[0],O=f[1],m=Object(c.useState)({}),x=Object(n.a)(m,2),v=x[0],R=x[1],S=Object(c.useState)(0),g=Object(n.a)(S,2),y=g[0],q=g[1],w=Object(c.useState)(!1),C=Object(n.a)(w,2),N=C[0],F=C[1];return Object(c.useEffect)((function(){for(var t=[],s=0,a=0,n=0,c=0,l=0,o=0;o<e.CountStatus.length;o++)"Rejected"===e.CountStatus[o]&&(s+=1);for(var r=0;r<e.CountStatus.length;r++)"Approved"===e.CountStatus[r]&&(a+=1);for(var i=0;i<e.CountStatus.length;i++)"Waiting For Approval"===e.CountStatus[i]&&(n+=1);for(var d=0;d<e.CountStatus.length;d++)"Sent"===e.CountStatus[d]&&(c+=1);for(var j=0;j<e.CountStatus.length;j++)"Viewed"===e.CountStatus[j]&&(l+=1);t.push(s,a,n,c,l),u({labels:["Rejected","Approved","Waiting For Approval","Sent","Viewed"],datasets:[{label:"Requests for the year",data:t,backgroundColor:["#DC3545","#28A745","#FFC107","#17A2B8","#007BFF"]}]})}),[e.CountStatus,N]),Object(c.useEffect)((function(){for(var t=[],s=[],n=0;n<e.MonthlyRequests.length;n++)t.push(e.MonthlyRequests[n].count),s.push(e.MonthlyRequests[n].month);h(Object(a.a)(Object(a.a)({},j),{},{requests:t,months:s}))}),[e.MonthlyRequests]),Object(c.useEffect)((function(){for(var t=[],s=[],a=0;a<e.ViewRequest.length;a++)t.includes(e.ViewRequest[a].company_name)||t.push(e.ViewRequest[a].company_name);for(var n=function(a){for(var n=e.ViewRequest.filter((function(e){return e.company_name===t[a]})),c=0,l=0;l<n.length;l++)c+=parseFloat(n[l].total);s.push({company:t[a],count:n.length,total:c})},c=0;c<t.length;c++)n(c);O(s);for(var l=0,o=0;o<e.ViewRequest.length;o++)l+=parseFloat(e.ViewRequest[o].total);q(l)}),[e.ViewRequest]),Object(c.useEffect)((function(){R(e.EmpData),window.addEventListener("resize",(function(){F(!N)}))}),[e.EmpData]),Object(o.jsxs)("div",{className:"Home",children:[Object(o.jsxs)("div",{className:"three",children:[Object(o.jsxs)("div",{className:"Calculate px-4",children:[Object(o.jsx)("small",{className:"text-secondary",children:"Total Requests"}),Object(o.jsxs)("h3",{className:"font-weight-bolder",children:[e.CountRequests," ",Object(o.jsx)("small",{className:"text-secondary",children:"Received"})]}),0===Object.keys(v).length?null:v.access&&(JSON.parse(v.access).includes(522)||JSON.parse(v.access).includes(1))?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("small",{className:"text-secondary",children:"Total Value Rs"}),Object(o.jsxs)("h3",{className:"font-weight-bolder",children:[y.toLocaleString("en-US")," ",Object(o.jsx)("small",{className:"text-secondary",children:"Estimated"})]})]}):null]}),Object(o.jsx)("div",{className:"RequestStatusChart",children:Object(o.jsx)(l.c,{width:"100%",data:r})}),Object(o.jsx)("div",{className:"RequestStatusChart py-4 px-3",children:p.map((function(e,t){return Object(o.jsxs)("div",{className:" mb-3",style:{fontSize:"13px"},children:[Object(o.jsxs)("div",{className:"font-weight-bold",children:[e.company,":"]}),Object(o.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(o.jsxs)("div",{children:[e.count," ",Object(o.jsx)("sub",{children:"Requests"})]}),Object(o.jsxs)("div",{children:["PKR",Object(o.jsxs)("span",{className:"ml-2",children:[e.total," /-"]})]})]})]},t)}))})]}),Object(o.jsx)("div",{style:{backgroundColor:"#fff",borderRadius:"5px"},children:Object(o.jsx)(l.b,{width:"100px",height:"40px",maintainAspectRatio:!1,data:{labels:j.months,datasets:[{id:1,label:"Monthly Received Requests",data:j.requests,borderColor:"#F14B71"}]}})})]})}},748:function(e,t,s){},88:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}}]);
//# sourceMappingURL=55.0a71aea1.chunk.js.map