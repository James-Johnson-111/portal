(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[43],{747:function(e,t,s){},748:function(e,t,s){},753:function(e,t,s){"use strict";s.r(t);var c=s(1),n=(s(747),s(8)),a=(s(748),s(27)),i=s(79),l=s(77),r=(s(76),s(23)),j=s.n(r),d=s.p+"static/media/sent.2768de1b.png",m=s.p+"static/media/waiting.8691c4c3.png",b=s.p+"static/media/rejected.0ea9857f.png",o=s.p+"static/media/approved.a72aa311.png",h=s.p+"static/media/delivery.deadc353.png",u=s(0),x=Object(c.lazy)((function(){return s.e(48).then(s.bind(null,788))})),O=function(e){var t=Object(c.useState)(!0),s=Object(n.a)(t,2),r=s[0],O=s[1],p=Object(c.useState)(!1),v=Object(n.a)(p,2),N=v[0],g=v[1],f=Object(c.useState)(!1),w=Object(n.a)(f,2),q=w[0],y=w[1];return Object(c.useEffect)((function(){j()("#viewMore").slideUp(0),O(!1)}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l.a,{}),Object(u.jsxs)(c.Suspense,{fallback:Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(a.a,{display:r})}),children:[Object(u.jsx)("div",{className:"InvoPrev",children:Object(u.jsxs)("div",{className:"InvoPrevContainer",children:[Object(u.jsx)("div",{className:"Left",children:0===e.EmployeeRequests.length?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("h6",{children:"No Request Found"})}):e.EmployeeRequests.map((function(t,s){var c=new Date(t.request_date);var n,a="#0eb8de";return"Approved"!==t.status&&"Delivered"!==t.status||(a="#307365"),"Rejected"===t.status&&(a="#d19399"),"Waiting For Approval"===t.status&&(a="#fc9701"),Object(u.jsxs)("div",{className:"Invorequests",style:{animationDelay:("0."+s).toString()+"s"},children:[Object(u.jsxs)("div",{className:"mb-3 d-flex align-items-center justify-content-between",children:[Object(u.jsxs)("p",{className:"mb-0",children:[" ",c?c.toString().substring(0,15)+" at "+(n=t.request_time,(n=n.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[n]).length>1&&((n=n.slice(1))[5]=+n[0]<12?"AM":"PM",n[0]=+n[0]%12||12),n.join("")):null," "]}),Object(u.jsxs)("p",{className:"mb-0",children:["Rs ",Object(u.jsx)("b",{children:null===t.total?0:t.total})]})]}),Object(u.jsxs)("p",{className:"mb-0 d-flex align-items-center justify-content-between",children:[Object(u.jsx)("p",{className:"mb-0 font-weight-bold",children:t.name}),Object(u.jsx)("span",{className:"imp",style:{backgroundColor:a},children:t.status})]}),Object(u.jsxs)("div",{className:"mt-3 d-flex align-items-center justify-content-between",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"mb-0",children:t.company_name}),Object(u.jsx)("p",{className:"mb-0",children:t.location_name})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"btn",onClick:function(){return e.OpenRequestDetails(t.pr_id)},children:"View"})})]})]},s)}))}),Object(u.jsx)("div",{className:"Right",children:e.RequestDetails.info.length>0?e.RequestDetails.info.map((function(t,s){var c=null===t.request_date?"":new Date(t.request_date),n=null===t.view_date?"":new Date(t.view_date),a=null===t.approve_date?"":new Date(t.approve_date),i=null===t.discard_date?"":new Date(t.discard_date),l=null===t.delivery_date?"":new Date(t.delivery_date);function r(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?"AM":"PM",e[0]=+e[0]%12||12),e.join("")}return Object(u.jsxs)("div",{className:"RequestDetails",children:[Object(u.jsx)("h5",{className:"mb-3",children:"Request Details"}),Object(u.jsxs)("div",{className:"RequestDetailsInner",children:[Object(u.jsxs)("div",{className:"RequestDetailsInner_Left",children:[Object(u.jsxs)("div",{className:"inner",children:[Object(u.jsx)("h6",{children:"Request Summary"}),Object(u.jsxs)("div",{className:"d-flex align-content-center justify-content-between",children:[Object(u.jsx)("p",{className:"font-weight-bold mr-1",children:"Company"}),Object(u.jsxs)("p",{children:[" ",t.company_name," "]})]}),Object(u.jsxs)("div",{className:"d-flex align-content-center justify-content-between",children:[Object(u.jsx)("p",{className:"font-weight-bold mr-1",children:"Delivery Location"}),Object(u.jsxs)("p",{children:[" ",t.location_name," "]})]}),Object(u.jsxs)("div",{className:"d-flex align-content-center justify-content-between",children:[Object(u.jsx)("p",{className:"font-weight-bold mr-1",children:"Requested By"}),Object(u.jsxs)("p",{children:[" ",t.sender_name," "]})]}),Object(u.jsxs)("div",{className:"d-flex align-content-center justify-content-between",children:[Object(u.jsx)("p",{className:"font-weight-bold mr-1",children:"Requested For"}),Object(u.jsxs)("p",{children:[" ",t.emp_for_name===t.sender_name?"Male"===t.sender_gender?"Himself":"Herself":t.emp_for_name," "]})]}),Object(u.jsxs)("div",{className:"d-flex align-content-center justify-content-between",children:[Object(u.jsx)("p",{className:"font-weight-bold mr-1",children:"Submitted To"}),Object(u.jsx)("p",{children:" Inventory Department "})]}),Object(u.jsxs)("div",{className:"d-flex align-content-center justify-content-between",children:[Object(u.jsx)("p",{className:"font-weight-bold mr-1",children:"Handle By"}),Object(u.jsxs)("p",{children:[" ",null===t.handle_emp_name?"Not Yet":t.handle_emp_name," "]})]}),Object(u.jsxs)("div",{className:"d-flex align-content-center justify-content-between",children:[Object(u.jsxs)("p",{className:"font-weight-bold mr-1",children:[" ",null===t.discard_emp_name?"Approved By":"Discard By"," "]}),null===t.discard_emp_name?Object(u.jsxs)("p",{children:[" ",null===t.approve_emp_name?"Not Yet":t.approve_emp_name," "]}):Object(u.jsxs)("p",{children:[" ",t.discard_emp_name," "]})]}),Object(u.jsxs)("div",{id:"viewMoreBtn",className:"text-center viewMore",onClick:function(){j()("#viewMore").slideToggle(400),j()("#viewMoreBtn").slideToggle(400)},children:[Object(u.jsx)("p",{className:"font-weight-bold mr-1 mb-0",children:"View more"}),Object(u.jsx)("i",{className:"las la-angle-down"})]}),Object(u.jsxs)("div",{id:"viewMore",children:[Object(u.jsxs)("div",{className:"d-flex align-content-center justify-content-between",children:[Object(u.jsx)("p",{className:"font-weight-bold mr-1",children:"Request Date"}),Object(u.jsxs)("p",{children:[" ",c?""===c?"Not Yet":c.toString().substring(0,15)+" at "+r(t.request_time):null," "]})]}),Object(u.jsxs)("div",{className:"d-flex align-content-center justify-content-between",children:[Object(u.jsx)("p",{className:"font-weight-bold mr-1",children:"View Date"}),Object(u.jsxs)("p",{children:[" ",n?""===n?"Not Yet":n.toString().substring(0,15)+" at "+r(t.view_time):null," "]})]}),Object(u.jsxs)("div",{className:"d-flex align-content-center justify-content-between",children:[Object(u.jsxs)("p",{className:"font-weight-bold mr-1",children:[" ",null===t.discard_emp_name?"Approval Date":"Discard Date"," "]}),null===t.discard_emp_name?Object(u.jsxs)("p",{children:[" ",a?""===a?"Not Yet":a.toString().substring(0,15)+" at "+r(t.approve_time):null," "]}):Object(u.jsxs)("p",{children:[" ",i?""===i?"Not Yet":i.toString().substring(0,15)+" at "+r(t.discard_time):null," "]})]}),Object(u.jsxs)("div",{className:"d-flex align-content-center justify-content-between",children:[Object(u.jsx)("p",{className:"font-weight-bold mr-1",children:"Delivery Date"}),Object(u.jsxs)("p",{children:[" ",l?""===l?"Not Yet":l.toString().substring(0,15)+" at "+r(t.delivery_time):null," "]})]}),Object(u.jsxs)("div",{id:"viewLessBtn",className:"text-center viewMore",onClick:function(){j()("#viewMore").slideToggle(400),j()("#viewMoreBtn").slideToggle(400)},children:[Object(u.jsx)("p",{className:"font-weight-bold mr-1 mb-0",children:"View less"}),Object(u.jsx)("i",{className:"las la-angle-up"})]})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"d-flex align-content-center justify-content-between",children:[Object(u.jsx)("p",{className:"font-weight-bold mr-1",children:"Total"}),Object(u.jsxs)("p",{children:["Rs ",null===t.total?0:t.total.toLocaleString("en-US")]})]}),null!==t.remarks?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"d-flex align-content-center justify-content-between",children:[Object(u.jsx)("p",{className:"mb-0 font-weight-bold mr-4",children:"Remarks"}),Object(u.jsx)("p",{className:"mb-0",children:t.remarks})]})]}):null,null!==t.emp_remarks?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"d-flex align-content-center justify-content-between",children:[Object(u.jsx)("p",{className:"mb-0 font-weight-bold mr-4",children:"Employee Remarks"}),Object(u.jsx)("p",{className:"mb-0",children:t.emp_remarks})]})]}):null,(JSON.parse(e.EmpData.access).includes(513)||JSON.parse(e.EmpData.access).includes(515))&&"Waiting For Approval"===t.status?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"d-flex align-content-center justify-content-end",children:[Object(u.jsx)("button",{className:"btn btn-sm mr-2",style:{backgroundColor:"red",color:"white",fontSize:"12px"},onClick:function(){return e.onDiscard(e.RequestDetails.info[0].pr_id)},children:"Discard"}),Object(u.jsx)("button",{className:"btn btn-sm",style:{backgroundColor:"#0eb8de",color:"white",fontSize:"12px"},onClick:function(){return e.onApprove(e.RequestDetails.info[0].pr_id)},children:"Approve"})]})]}):null]}),Object(u.jsx)("h5",{className:"my-3",children:"Request Specifications"}),Object(u.jsx)("div",{className:"SpecificationsInner",children:e.RequestDetails.specifications.map((function(e,t){return Object(u.jsxs)("div",{className:"inner specifications",children:[Object(u.jsx)("h6",{className:"font-weight-bold",children:e.description}),Object(u.jsx)("p",{children:e.reason}),Object(u.jsxs)("div",{className:"d-flex align-content-center justify-content-between mt-3",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"font-weight-bold",children:"Price"}),Object(u.jsxs)("p",{className:"",children:["Rs ",e.price.toLocaleString("en-US")]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"font-weight-bold",children:"Quantity"}),Object(u.jsx)("p",{className:"",children:e.quantity})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"font-weight-bold",children:"Amount"}),Object(u.jsxs)("p",{className:"",children:["Rs ",e.amount.toLocaleString("en-US")]})]})]})]},t)}))})]}),Object(u.jsxs)("div",{className:"RequestDetailsInner_Right",children:[Object(u.jsxs)("div",{className:"inner",children:[Object(u.jsx)("h6",{children:"Request Status"}),Object(u.jsxs)("div",{className:"status",children:[Object(u.jsx)("div",{className:"statusItem",children:Object(u.jsx)("i",{className:"mx-auto las la-check-circle"})}),Object(u.jsx)("div",{className:"statusItem",children:Object(u.jsx)("img",{src:d,className:"w-100",alt:"SentImg"})}),Object(u.jsx)("div",{className:"statusItem",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("h6",{className:"mb-0",children:"Sent"}),Object(u.jsx)("p",{children:"Your request has been sent and received by the inventory department"})]})})]}),Object(u.jsx)("div",{className:"Break",children:Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"line"})})}),"Rejected"===t.status?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"status",children:[Object(u.jsx)("div",{className:"statusItem",children:Object(u.jsx)("i",{className:"mx-auto las la-check-circle"})}),Object(u.jsx)("div",{className:"statusItem",children:Object(u.jsx)("img",{src:b,className:"w-75 mx-auto",alt:"SentImg"})}),Object(u.jsx)("div",{className:"statusItem",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("h6",{className:"mb-0",children:"Rejected"}),Object(u.jsx)("p",{children:"Your request has been rejected"})]})})]}),Object(u.jsx)("div",{className:"Break",children:Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"line"})})})]}):null,Object(u.jsxs)("div",{className:"Rejected"!==t.status&&"Sent"!==t.status?"status":"status grayScale",children:[Object(u.jsx)("div",{className:"statusItem",children:Object(u.jsx)("i",{className:"mx-auto las la-check-circle"})}),Object(u.jsx)("div",{className:"statusItem",children:Object(u.jsx)("img",{src:m,className:"w-75 mx-auto",alt:"SentImg"})}),Object(u.jsx)("div",{className:"statusItem",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("h6",{className:"mb-0",children:"Waiting For Approval"}),Object(u.jsx)("p",{children:"Your request has been sent for approval in the accounts department"})]})})]}),Object(u.jsx)("div",{className:"Break",children:Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"line"})})}),Object(u.jsxs)("div",{className:"Approved"===t.status||"Accepted"===t.status||"Delivered"===t.status?"status":"status grayScale",children:[Object(u.jsx)("div",{className:"statusItem",children:Object(u.jsx)("i",{className:"mx-auto las la-check-circle"})}),Object(u.jsx)("div",{className:"statusItem",children:Object(u.jsx)("img",{src:o,className:"w-75 mx-auto",alt:"SentImg"})}),Object(u.jsx)("div",{className:"statusItem",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("h6",{className:"mb-0",children:"Approved"}),Object(u.jsx)("p",{children:"Your request has been approved by the accounts department"})]})})]}),Object(u.jsx)("div",{className:"Break",children:Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"line"})})}),Object(u.jsxs)("div",{className:"Delivered"===t.status?"status":"status grayScale",children:[Object(u.jsx)("div",{className:"statusItem",children:Object(u.jsx)("i",{className:"mx-auto las la-check-circle"})}),Object(u.jsx)("div",{className:"statusItem",children:Object(u.jsx)("img",{src:h,className:"w-75 mx-auto",alt:"SentImg"})}),Object(u.jsx)("div",{className:"statusItem",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("h6",{className:"mb-0",children:"Delivered"}),Object(u.jsx)("p",{children:"Your request has been delivered by the inventory department"})]})})]})]}),Object(u.jsx)("h5",{className:"my-3",children:"Request Attachments"}),Object(u.jsx)("div",{className:"inner",children:Object(u.jsx)("div",{className:"RequestAttachments",children:e.RequestDetails.quotations.length>0?e.RequestDetails.quotations.map((function(t,s){return Object(u.jsx)("div",{className:"Attachment",onClick:function(){return function(t){y(Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("img",{src:"images/Inventory/pr_attachments/"+e.RequestDetails.quotations[t].image,width:"100%",height:"auto",alt:"Attachment"})})),g(!0)}(s)},style:{backgroundImage:"url('images/Inventory/pr_attachments/"+t.image+"')"}},s)})):Object(u.jsx)("p",{children:"No Attachment"})})})]})]})]},s)})):null})]})}),e.RequestDetails.info.length>0&&("Viewed"===e.RequestDetails.info[0].status||"Sent"===e.RequestDetails.info[0].status)?Object(u.jsx)("div",{className:"InvoContainer",children:Object(u.jsx)(x,{ShowAllRequests:e.ShowAllRequests,RequestDetails:e.RequestDetails,EmpData:e.EmpData})}):null,Object(u.jsx)(i.a,{show:N,Hide:function(){g(!N)},content:q})]})]})};t.default=function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"ViewPRRequests",children:Object(u.jsxs)("div",{className:"Left",children:[Object(u.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(u.jsx)("h4",{children:"Purchase Requests"}),Object(u.jsx)("i",{onClick:function(){return window.location.reload()},className:"las la-redo-alt"})]}),e.EmployeeRequests.length>0?Object(u.jsx)(O,{EmployeeRequests:e.EmployeeRequests,RequestDetails:e.RequestDetails,EmpData:e.EmpData,OpenRequestDetails:e.OpenRequestDetails,ShowAllRequests:e.ShowAllRequests,onDiscard:e.onDiscard,onApprove:e.onApprove}):0===e.Requests.length?Object(u.jsx)("h5",{children:"No Request Yet"}):e.Requests.map((function(t,s){var c,n=new Date(t.request_date);return Object(u.jsxs)("div",{className:"Request",children:[Object(u.jsxs)("div",{className:"empInfo",children:[Object(u.jsx)("img",{className:"rounded-circle",src:"images/employees/"+t.emp_image,width:"35",height:"35",alt:"empImg"}),Object(u.jsxs)("div",{className:"ml-2",children:[Object(u.jsx)("p",{className:"mb-0 font-weight-bold",children:t.name}),Object(u.jsxs)("p",{className:"mb-0",children:[t.designation_name," at ",t.company_name,", ",t.location_name]})]})]}),Object(u.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(u.jsx)("button",{className:"btn bg-white",disabled:!0,children:n?n.toString().substring(0,15)+" at "+(c=t.request_time,(c=c.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[c]).length>1&&((c=c.slice(1))[5]=+c[0]<12?"AM":"PM",c[0]=+c[0]%12||12),c.join("")):null}),Object(u.jsx)("button",{className:"btn",onClick:function(){return e.ViewThatEmpRequests(t.emp_id)},children:"View Requests"})]})]},s)}))]})})})}}}]);
//# sourceMappingURL=43.d348082b.chunk.js.map