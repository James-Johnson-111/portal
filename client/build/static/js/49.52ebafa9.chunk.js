(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[49],{755:function(e,t,a){"use strict";a.r(t);var n=a(11),c=a(8),i=a(1),s=a(10),o=a(25),r=a(608),l=(a.p,a.p,a.p,new r.a({orientation:"portrait",unit:"px",format:"a4"}),a(23)),d=a.n(l),u=a(83),p=a(0),f=Object(i.lazy)((function(){return a.e(18).then(a.bind(null,784))}));t.default=function(){var e=Object(i.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1],l=Object(i.useState)([]),h=Object(c.a)(l,2),j=h[0],b=h[1],O=Object(i.useState)([]),m=Object(c.a)(O,2),v=m[0],x=m[1],g=Object(i.useState)({PO:{info:[],specifications:[],venders:[]},PR:{info:[],specifications:[]},quotations:[],bills:[],vouchers:[]}),_=Object(c.a)(g,2),S=_[0],k=_[1],N=Object(i.useState)([]),y=Object(c.a)(N,2),P=y[0],C=y[1],D=Object(i.useState)([]),w=Object(c.a)(D,2),R=w[0],E=w[1],M=Object(o.c)((function(e){return e.EmpAuth.EmployeeData}));Object(i.useEffect)((function(){q()}),[]);var q=function(){var e={id:M.emp_id,access:M.access};s.a.post("/getallpurchaseorders",{payload:JSON.stringify(e)}).then((function(e){r(e.data)})).catch((function(e){console.log(e)}))};return Object(p.jsxs)(i.Suspense,{children:[Object(p.jsx)(u.a,{data:j}),Object(p.jsx)(f,{PurchaseOrders:a,EmpPurchaseOrders:R,PurchaseOrder:S,Vouchers:P,Data:M,OpenEmployeeDetails:function(e){var t=a[e].emp_id,n=M.emp_id;s.a.post("/getallpurchaseordersofemployee",{emp_id:t,current_emp:n}).then((function(e){E(e.data),b([{icon:"las la-search",txt:"Back To Employees",link:!1,func:function(){return E([]),b([]),x([]),C([]),void k({PO:{info:[],specifications:[],venders:[]},PR:{info:[],specifications:[]},quotations:[],bills:[],vouchers:[]})}}])})).catch((function(e){console.log(e)}))},OpenDetails:function(e){var t=R[e].po_id,a=R[e].pr_id;s.a.post("/getpurchaseorderdetails",{po_id:t,pr_id:a}).then((function(e){console.log(e.data),k(Object(n.a)(Object(n.a)({},S),{},{PO:{info:e.data[0],specifications:e.data[1],venders:e.data[3]},PR:{info:e.data[4],specifications:e.data[5]},bills:e.data[2],quotations:e.data[6],vouchers:e.data[7]}))})).catch((function(e){console.log(e)}))},AttachVouchers:function(e){var t=new FileReader,a=e.target.files;t.onload=function(){if(2===t.readyState){for(var e=[],n=0;n<a.length;n++)e.push({name:a[n].name,file:a[n]});C(e)}},a[0]&&t.readAsDataURL(a[0])},RemoveVoucher:function(e){var t=P.filter((function(t,a){return a!==e}));C(t)},ApproveRequest:function(e,t){t.preventDefault();var a=new Date,n=new FormData;n.append("payload",JSON.stringify([{po_id:e,emp_id:M.emp_id,remarks:t.target.remarks.value,date:a.toString()}])),P.forEach((function(e){n.append("vouchers",e.file)})),s.a.post("/approvepurchaseorder",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){"success"===e.data&&(C([]),k({PO:{info:[],specifications:[],venders:[]},PR:{info:[],specifications:[]},quotations:[],bills:[],vouchers:[]}))})).catch((function(e){console.log(e)}))},DiscardRequest:function(e,t){t.preventDefault();var a=new Date,n=new FormData;n.append("payload",JSON.stringify([{po_id:e,emp_id:M.emp_id,remarks:t.target.remarks.value,date:a.toString()}])),s.a.post("/discardpurchaseorder",n).then((function(e){"success"===e.data&&(C([]),k({PO:{info:[],specifications:[],venders:[]},PR:{info:[],specifications:[]},quotations:[],bills:[],vouchers:[]}))})).catch((function(e){console.log(e)}))},onChangeHandler:function(e){var t=e.target,a=t.name,n=t.checked;if("checkall"===a)n?(d()(".printCheckboxes").prop("checked",!0),x(["pr","po","quotation","bill","voucher"])):(d()(".printCheckboxes").prop("checked",!1),x([]));else if(n){var c=v;c.push(a),x(c)}else{var i=v.filter((function(e){return e!==a}));x(i)}},Print:function(){for(var e=0;e<v.length;e++){document.getElementById(v[e]).contentWindow.print()}}})]})}},83:function(e,t,a){"use strict";var n=a(1),c=(a(84),a(23)),i=a.n(c),s=a(17),o=a(0);t.a=function(e){Object(n.useEffect)((function(){i()(".Speeddail_Grid").slideToggle(0)}),[]);return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"Menu",children:e.data.length>0?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"Menu_Grid",children:e.data.map((function(e,t){return Object(o.jsx)(o.Fragment,{children:e.txt?e.link?Object(o.jsx)(s.b,{to:e.href,children:Object(o.jsx)("button",{children:Object(o.jsx)("p",{className:"font-weight-bolder mb-0",children:e.txt})})}):Object(o.jsx)("button",{onClick:function(){return e.func()},children:Object(o.jsx)("p",{className:"font-weight-bolder mb-0",children:e.txt})}):null})}))}),Object(o.jsxs)("div",{className:"Menu_Speeddail",children:[Object(o.jsx)("div",{className:" ",onClick:function(){i()(".Menu_Speeddail .Speeddail_Grid").slideToggle(200),i()(".Menu_Speeddail .Button .las").hasClass("la-bars")?(i()(".Menu_Speeddail .Button .las").removeClass("la-bars"),i()(".Menu_Speeddail .Button .las").addClass("la-times")):(i()(".Menu_Speeddail .Button .las").removeClass("la-times"),i()(".Menu_Speeddail .Button .las").addClass("la-bars"))},children:Object(o.jsx)("i",{class:"las la-times"})}),Object(o.jsx)("div",{className:"Speeddail_Grid",children:e.data.map((function(e,t){return Object(o.jsx)(o.Fragment,{children:e.txt?e.link?Object(o.jsx)(s.b,{to:e.href,children:Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"mb-1 Speeddail_Grid1 divs"+t,children:Object(o.jsx)("i",{className:e.icon})}),Object(o.jsx)("p",{children:e.txt})]},t)}):Object(o.jsxs)("div",{className:"clicks",onClick:function(){return e.func()},children:[Object(o.jsx)("div",{className:"mb-1 Speeddail_Grid1 divs"+t,children:Object(o.jsx)("i",{className:e.icon})}),Object(o.jsx)("p",{children:e.txt})]},t):null})}))})]})]}):null})})}},84:function(e,t,a){}}]);
//# sourceMappingURL=49.52ebafa9.chunk.js.map